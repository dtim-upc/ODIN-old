{"version":3,"file":"js/webvowl.app.js","mappings":"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","sources":["webpack://[name]/./node_modules/lodash/_Symbol.js","webpack://[name]/./node_modules/lodash/_arrayMap.js","webpack://[name]/./node_modules/lodash/_baseGetTag.js","webpack://[name]/./node_modules/lodash/_basePropertyOf.js","webpack://[name]/./node_modules/lodash/_baseToString.js","webpack://[name]/./node_modules/lodash/_freeGlobal.js","webpack://[name]/./node_modules/lodash/_getRawTag.js","webpack://[name]/./node_modules/lodash/_objectToString.js","webpack://[name]/./node_modules/lodash/_root.js","webpack://[name]/./node_modules/lodash/_unescapeHtmlChar.js","webpack://[name]/./node_modules/lodash/isArray.js","webpack://[name]/./node_modules/lodash/isObjectLike.js","webpack://[name]/./node_modules/lodash/isSymbol.js","webpack://[name]/./node_modules/lodash/toString.js","webpack://[name]/./node_modules/lodash/unescape.js","webpack://[name]/./src/components/graph/src/app/js/app.js","webpack://[name]/./src/components/graph/src/app/js/browserWarning.js","webpack://[name]/./src/components/graph/src/app/js/config/mdmConfig.js","webpack://[name]/./src/components/graph/src/app/js/directInputModule.js","webpack://[name]/./src/components/graph/src/app/js/editSidebar.js","webpack://[name]/./src/components/graph/src/app/js/entry.js","webpack://[name]/./src/components/graph/src/app/js/leftSidebar.js","webpack://[name]/./src/components/graph/src/app/js/loadingModule.js","webpack://[name]/./src/components/graph/src/app/js/menu/GenSparqlOMQMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/clearQueryOMQMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/clearSelectSGMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/configMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/debugMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/exportMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/exportTTLModule.js","webpack://[name]/./src/components/graph/src/app/js/menu/filterMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/gravityMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/modeMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/navigationMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/ontologyMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/pauseMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/resetMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/saveGraphMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/searchMenu.js","webpack://[name]/./src/components/graph/src/app/js/menu/zoomSlider.js","webpack://[name]/./src/components/graph/src/app/js/modules/alertModule.js","webpack://[name]/./src/components/graph/src/app/js/sidebar.js","webpack://[name]/./src/components/graph/src/app/js/util/MDMController.js","webpack://[name]/./src/components/graph/src/app/js/warningModule.js","webpack://[name]/external \"d3\"","webpack://[name]/webpack/bootstrap","webpack://[name]/webpack/runtime/global","webpack://[name]/webpack/runtime/make namespace object","webpack://[name]/webpack/startup"],"sourcesContent":["var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n","String.prototype.replaceAll = function (search, replacement) {\n    var target = this;\n    return target.split(search).join(replacement);\n};\nmodule.exports = function () {\n    var newOntologyCounter=1;\n\tvar app = {},\n\t\tgraph = webvowl.graph(),\n\t\toptions = graph.graphOptions(),\n\t\tlanguageTools = webvowl.util.languageTools(),\n\t\tGRAPH_SELECTOR = \"#graph\",\n        GUI_Container = \"#graphmain\",\n\t// Modules for the webvowl app\n\t\texportMenu     = require(\"./menu/exportMenu\")        (graph),\n\t\tfilterMenu     = require(\"./menu/filterMenu\")        (graph),\n\t\tgravityMenu    = require(\"./menu/gravityMenu\")       (graph),\n\t\tmodeMenu       = require(\"./menu/modeMenu\")          (graph),\n        debugMenu      = require(\"./menu/debugMenu\")         (graph),\n\t\tontologyMenu   = require(\"./menu/ontologyMenu\")      (graph),\n\t\tpauseMenu      = require(\"./menu/pauseMenu\")         (graph),\n\t\tresetMenu      = require(\"./menu/resetMenu\")         (graph),\n        saveGraphMenu  = require(\"./menu/saveGraphMenu\")     (graph),\n        clearSelectSG  = require(\"./menu/clearSelectSGMenu\") (graph),\n        clearQueryOMQ  = require(\"./menu/clearQueryOMQMenu\") (graph),\n        genSparqlOMQ   = require(\"./menu/GenSparqlOMQMenu\")  (graph),\n        searchMenu     = require(\"./menu/searchMenu\")        (graph),\n\t\tnavigationMenu = require(\"./menu/navigationMenu\")    (graph),\n        zoomSlider     = require(\"./menu/zoomSlider\")        (graph),\n\t\tsidebar        = require(\"./sidebar\")                (graph),\n\t\tleftSidebar    = require(\"./leftSidebar\")            (graph),\n        editSidebar    = require(\"./editSidebar\")            (graph),\n        configMenu     = require(\"./menu/configMenu\")        (graph),\n\t\tloadingModule  = require(\"./loadingModule\")          (graph),\n        warningModule  = require(\"./warningModule\")          (graph),\n        alertModule    = require(\"./modules/alertModule\")    (graph),\n        directInputMod = require(\"./directInputModule\")      (graph),\n        MDMController  = require(\"./util/MDMController\")     (graph),\n        mdmConfig      = require(\"./config/mdmConfig\")       (),\n\n\n\t// Graph modules\n\t\tcolorExternalsSwitch \t = webvowl.modules.colorExternalsSwitch(graph),\n\t\tcompactNotationSwitch \t = webvowl.modules.compactNotationSwitch(graph),\n\t\tdatatypeFilter \t\t\t = webvowl.modules.datatypeFilter(),\n\t\tdisjointFilter \t\t\t = webvowl.modules.disjointFilter(),\n\t\tfocuser \t\t\t\t = webvowl.modules.focuser(graph),\n\t\temptyLiteralFilter\t\t = webvowl.modules.emptyLiteralFilter(),\n\t\tnodeDegreeFilter \t\t = webvowl.modules.nodeDegreeFilter(filterMenu),\n\t\tnodeScalingSwitch \t\t = webvowl.modules.nodeScalingSwitch(graph),\n\t\tobjectPropertyFilter \t = webvowl.modules.objectPropertyFilter(),\n\t\tpickAndPin \t\t\t\t = webvowl.modules.pickAndPin(),\n\t\tselectionDetailDisplayer = webvowl.modules.selectionDetailsDisplayer(sidebar.updateSelectionInformation),\n\t\tstatistics \t\t\t\t = webvowl.modules.statistics(),\n\t\tsubclassFilter \t\t\t = webvowl.modules.subclassFilter(),\n\t\tsetOperatorFilter \t\t = webvowl.modules.setOperatorFilter(),\n        selectionGraph           = webvowl.modules.selectionGraph(),\n        selectionMarker          = webvowl.modules.selectionMarker();\n\n\n\n\tapp.getOptions=function(){\n\t    return webvowl.opts;\n    };\n\tapp.getGraph=function(){\n\t    return webvowl.gr;\n    };\n\t// app.afterInitializationCallback=undefined;\n\n\n\n\n\tapp.initialize = function (viewType) {\n        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(f){return setTimeout(f, 1000/60);}; // simulate calling code 60\n        window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || function(requestID){clearTimeout(requestID);}; //fall back\n\n        options.setEditorModeForDefaultObject(mdmConfig.getConf(viewType).editorMode);\n        options.setEditModeForSource_Graph(mdmConfig.getConf(viewType).source_graph);\n        options.setEditModeForTestIncDIVisualize(mdmConfig.getConf(viewType).testIncDI);\n        options.setModeForSelectionSG(mdmConfig.getConf(viewType).selectSG);\n        options.setModeForOMQ(mdmConfig.getConf(viewType).OMQ_mode);\n        options.setModeBDIManualAlignment(mdmConfig.getConf(viewType).bdi_manualAl);\n\n        options.graphContainerSelector(GRAPH_SELECTOR);\n\t\toptions.selectionModules().push(focuser);\n\t\toptions.selectionModules().push(selectionDetailDisplayer );\n\t\toptions.selectionModules().push(pickAndPin);\n\n        options.selectionMarker(selectionMarker);\n        options.selectionGraph(selectionGraph);\n        options.mdmController(MDMController);\n\n\t\toptions.filterModules().push(emptyLiteralFilter);\n        options.filterModules().push(statistics);\n\n        options.filterModules().push(nodeDegreeFilter);\n\t\toptions.filterModules().push(datatypeFilter);\n\t\toptions.filterModules().push(objectPropertyFilter);\n\t\toptions.filterModules().push(subclassFilter);\n\t\toptions.filterModules().push(disjointFilter);\n\t\toptions.filterModules().push(setOperatorFilter);\n\t\toptions.filterModules().push(nodeScalingSwitch);\n\t\toptions.filterModules().push(compactNotationSwitch);\n\t\toptions.filterModules().push(colorExternalsSwitch);\n\n        d3.select(window).on(\"resize\", adjustSize);\n\n\t\texportMenu.setup();\n\t\tgravityMenu.setup();\n\t\tfilterMenu.setup(datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter);\n        modeMenu.setup(pickAndPin, nodeScalingSwitch, compactNotationSwitch, colorExternalsSwitch, selectionMarker);\n\t\tpauseMenu.setup();\n\t\tsaveGraphMenu.setup();\n        clearSelectSG.setup();\n        clearQueryOMQ.setup();\n        genSparqlOMQ.setup();\n\t\tsidebar.setup();\n\t\tloadingModule.setup();\n\t\tleftSidebar.setup();\n\t\teditSidebar.setup();\n\t\tdebugMenu.setup();\n        var agentVersion=getInternetExplorerVersion();\n       \tif (agentVersion> 0 && agentVersion<= 11) {\n            console.log(\"Agent version \"+agentVersion);\n        \tconsole.log(\"This agent is not supported\");\n\t\t\td3.select(\"#browserCheck\").classed(\"hidden\", false);\n\t\t\td3.select(\"#killWarning\" ).classed(\"hidden\", true);\n\t\t\td3.select(\"#optionsArea\" ).classed(\"hidden\", true);\n\t\t\td3.select(\"#logo\").classed(\"hidden\", true);\n        } else {\n\t\t\t// d3.select(\"#logo\").classed(\"hidden\", false); //original\n            d3.select(\"#logo\").classed(\"hidden\", true);\n\t\t\tif (agentVersion===12) {\n\t\t\t\t// allow Mircosoft Edge Browser but with warning\n                d3.select(\"#browserCheck\").classed(\"hidden\", false);\n                d3.select(\"#killWarning\").classed(\"hidden\", false);\n            } else {\n                d3.select(\"#browserCheck\").classed(\"hidden\", true);\n            }\n\n            resetMenu.setup([gravityMenu, filterMenu, modeMenu, focuser, selectionDetailDisplayer, pauseMenu]);\n\t\t\tsearchMenu.setup();\n\t\t\tnavigationMenu.setup();\n\t\t\tzoomSlider.setup();\n\n\t\t\t// give the options the pointer to the some menus for import and export\n\t\t\toptions.literalFilter(emptyLiteralFilter);\n\t\t\toptions.nodeDegreeFilter(nodeDegreeFilter);\n\t\t\toptions.loadingModule(loadingModule);\n\t\t\toptions.filterMenu(filterMenu);\n\t\t\toptions.modeMenu(modeMenu);\n\t\t\toptions.gravityMenu(gravityMenu);\n\t\t\toptions.pausedMenu(pauseMenu);\n\t\t\toptions.pickAndPinModule(pickAndPin);\n\t\t\toptions.resetMenu(resetMenu);\n\t\t\toptions.saveGraphMenu(saveGraphMenu);\n\t\t\toptions.clearSelectSGMenu(clearSelectSG);\n\t\t\toptions.clearQueryOMQMenu(clearQueryOMQ);\n            options.generateSparqlOMQMenu(genSparqlOMQ);\n\t\t\toptions.searchMenu(searchMenu);\n\t\t\toptions.ontologyMenu(ontologyMenu);\n\t\t\toptions.navigationMenu(navigationMenu);\n\t\t\toptions.sidebar(sidebar);\n            options.leftSidebar(leftSidebar);\n            options.editSidebar(editSidebar);\n\t\t\toptions.exportMenu(exportMenu);\n\t\t\toptions.graphObject(graph);\n\t\t\toptions.zoomSlider(zoomSlider);\n\t\t\toptions.warningModule(warningModule);\n            options.alertModule(alertModule);\n\t\t\toptions.directInputModule(directInputMod);\n            options.datatypeFilter(datatypeFilter);\n            options.objectPropertyFilter(objectPropertyFilter);\n            options.subclassFilter(subclassFilter);\n            options.setOperatorFilter(setOperatorFilter);\n            options.disjointPropertyFilter(disjointFilter);\n            options.focuserModule(focuser);\n            options.colorExternalsModule(colorExternalsSwitch);\n            options.compactNotationModule(compactNotationSwitch);\n\n            ontologyMenu.setup(loadOntologyFromText);\n\n            configMenu.setup();\n            MDMController.setup();\n\n            leftSidebar.showSidebar(0);\n            leftSidebar.hideCollapseButton(true);\n\n\n            graph.start();\n\n            var modeOp = d3.select(\"#modeOfOperationString\");\n            modeOp.style(\"font-size\",\"0.6em\");\n            modeOp.style(\"font-style\",\"italic\");\n\n\t\t\tadjustSize();\n\t\t\tvar defZoom;\n\t\t\tvar w = graph.options().width();\n\t\t\tvar h = graph.options().height();\n\t\t\t// defZoom = Math.min(w, h) / 1000;\n            defZoom = Math.min(w, h) / 860;\n\n            var hideDebugOptions = true;\n            if (hideDebugOptions === false) {\n                graph.setForceTickFunctionWithFPS();\n            }\n\n\t\t\tgraph.setDefaultZoom(defZoom);\n            d3.selectAll(\".debugOption\").classed(\"hidden\",hideDebugOptions);\n\n\t\t\t// prevent backspace reloading event\n            var htmlBody=d3.select(\"body\");\n            d3.select(document).on(\"keydown\", function (e) {\n                if (d3.event.keyCode === 8 && d3.event.target===htmlBody.node() ) {\n                \t// we could add here an alert\n                    d3.event.preventDefault();\n                }\n                // using ctrl+Shift+d as debug option\n                if (d3.event.ctrlKey && d3.event.shiftKey && d3.event.keyCode===68) {\n                    graph.options().executeHiddenDebugFeatuers();\n                    d3.event.preventDefault();\n                }\n            });\n            if (d3.select(\"#maxLabelWidthSliderOption\")) {\n                var setValue=!graph.options().dynamicLabelWidth();\n                d3.select(\"#maxLabelWidthSlider\").node().disabled=setValue;\n                d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", setValue);\n                d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", setValue);\n            }\n\n            d3.select(\"#blockGraphInteractions\").style(\"position\",\"absolute\")\n                .style(\"top\",\"0\")\n                .style(\"background-color\",\"#bdbdbd\")\n                .style(\"opacity\",\"0.5\")\n                .style(\"pointer-events\",\"auto\")\n                .style(\"width\",graph.options().width()+\"px\")\n                .style(\"height\",graph.options().height()+\"px\")\n                .on(\"click\",function(){\n                    d3.event.preventDefault();\n                    d3.event.stopPropagation();\n                })\n                .on(\"dblclick\",function(){\n                    d3.event.preventDefault();\n                    d3.event.stopPropagation();\n                });\n\n            d3.select(\"#direct-text-input\").on(\"click\", function () {\n                directInputMod.setDirectInputMode();\n            });\n            d3.select(\"#blockGraphInteractions\").node().draggable = false;\n            options.prefixModule(webvowl.util.prefixTools(graph));\n            adjustSize();\n            sidebar.updateOntologyInformation(undefined, statistics);\n            loadingModule.parseUrlAndLoadOntology(); // loads automatically the ontology provided by the parameters\n            if(options.defaultConfig().selectSG_mode === \"true\")\n                graph.loadGraphicalSelection();\n            options.debugMenu(debugMenu);\n            debugMenu.updateSettings();\n\n            // connect the reloadCachedVersionButton\n            d3.select(\"#reloadSvgIcon\").on(\"click\",function(){\n                if(d3.select(\"#reloadSvgIcon\").node().disabled===true){\n                  graph.options().ontologyMenu().clearCachedVersion();\n                  return;\n                }\n                d3.select(\"#reloadCachedOntology\").classed(\"hidden\",true);\n                graph.options().ontologyMenu().reloadCachedOntology();\n\n            });\n            // add the initialized objects\n            webvowl.opts=options;\n            webvowl.gr=graph;\n        }\n\t};\n\n\n\tfunction loadOntologyFromText(jsonText, filename, alternativeFilename) {\n        d3.select(\"#reloadCachedOntology\").classed(\"hidden\",true);\n\t\tpauseMenu.reset();\n\t\tgraph.options().navigationMenu().hideAllMenus();\n\n\t\tif ((jsonText===undefined && filename===undefined) || (jsonText.length===0)){\n            loadingModule.notValidJsonFile();\n\t\t\treturn;\n\t\t}\n\t\tgraph.editorMode(); // updates the checkbox\n\t\tvar data;\n\t\tif (jsonText) {\n\t\t\t// validate JSON FILE\n\t\t\tvar validJSON;\n\t\t\ttry {\n\t\t\t\tdata =JSON.parse(jsonText);\n\t\t\t\tvalidJSON=true;\n\t\t\t} catch (e){\n\t\t\t\tvalidJSON=false;\n\t\t\t}\n\t\t\tif (validJSON===false){\n\t\t\t\t// the server output is not a valid json file\n                loadingModule.notValidJsonFile();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!filename) {\n\t\t\t\t// First look if an ontology title exists, otherwise take the alternative filename\n\t\t\t\tvar ontologyNames = data.header ? data.header.title : undefined;\n\t\t\t\tvar ontologyName = languageTools.textInLanguage(ontologyNames);\n\n\t\t\t\tif (ontologyName) {\n\t\t\t\t\tfilename = ontologyName;\n\t\t\t\t} else {\n\t\t\t\t\tfilename = alternativeFilename;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// check if we have graph data\n        var classCount =0;\n\t\tif (data.class!==undefined){\n\t\t\tclassCount=data.class.length;\n\t\t}\n\n\t\tvar loadEmptyOntologyForEditing=false;\n        if (location.hash.indexOf(\"#new_ontology\")!==-1){\n            loadEmptyOntologyForEditing=true;\n            newOntologyCounter++;\n            d3.select(\"#empty\").node().href=\"#opts=editorMode=true;#new_ontology\"+newOntologyCounter;\n        }\n\t\tif (classCount === 0 && graph.editorMode()===false && loadEmptyOntologyForEditing===false){\n\t\t\t// generate message for the user;\n\t\t\tloadingModule.emptyGraphContentError();\n\t\t}else {\n            loadingModule.validJsonFile();\n            ontologyMenu.setCachedOntology(filename, jsonText);\n            exportMenu.setJsonText(jsonText);\n            options.data(data);\n            graph.options().loadingModule().setPercentMode();\n            if (loadEmptyOntologyForEditing===true){\n                graph.editorMode(true);\n\n            }\n            graph.load();\n            sidebar.updateOntologyInformation(data, statistics);\n            exportMenu.setFilename(filename);\n            graph.updateZoomSliderValueFromOutside();\n            adjustSize();\n            if(options.showModesGui())\n                var flagOfCheckBox=d3.select(\"#editorModeModuleCheckbox\").node().checked;\n            else\n                var flagOfCheckBox=options.defaultConfig().editorMode===\"true\";\n            graph.editorMode(flagOfCheckBox);// update gui\n\n        }\n\n\t}\n\n\tfunction adjustSize() {\n\t    var dist_bottom_bar = 40;\n\t    var dist_nav = 0;\n\t    //changes for MDM gui\n        //TO DO: add a global option to enable navbar and navbar selector.\n        var navbar = d3.select(\".navbar\");\n        if(!navbar.empty()){\n            dist_nav = parseInt(navbar.style(\"height\"),10);\n            dist_bottom_bar = dist_bottom_bar + dist_nav;\n            //padding for gui container\n            d3.select(GUI_Container).style(\"padding-top\",dist_nav+\"px\");\n            d3.select(\"#detailsArea\").style(\"padding-top\",dist_nav+\"px\");\n        }\n\n\t    //size of canvas\n\t\tvar graphContainer = d3.select(GRAPH_SELECTOR),\n\t\t\tsvg = graphContainer.select(\"svg\"),\n\t\t\theight = window.innerHeight - dist_bottom_bar,\n\t\t\twidth = window.innerWidth - (window.innerWidth * 0.22);\n\n\t\tif (sidebar.getSidebarVisibility()===\"0\"){\n            height = window.innerHeight - dist_bottom_bar ;\n            width = window.innerWidth;\n        }\n\n        directInputMod.updateLayout();\n        d3.select(\"#blockGraphInteractions\").style(\"width\",window.innerWidth+\"px\");\n        d3.select(\"#blockGraphInteractions\").style(\"height\",height+\"px\");\n        d3.select(\"#blockGraphInteractions\").style(\"padding-top\",dist_nav+\"px\");\n\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\",width+\"px\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"height\",height+\"px\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"padding-top\",dist_nav+\"px\");\n\n        d3.select(\"#WarningErrorMessages\").style(\"max-height\",(height-12)+\"px\");\n\n        d3.select(\"#AlertMessagesContainer\").style(\"width\",width+\"px\");\n        d3.select(\"#AlertMessagesContainer\").style(\"height\",height+\"px\");\n        d3.select(\"#AlertMessagesContainer\").style(\"padding-top\",dist_nav+\"px\");\n\n        d3.select(\"#AlertMessages\").style(\"max-height\",(height-12)+\"px\");\n\n        graphContainer.style(\"height\", height + \"px\");\n\t\tsvg.attr(\"width\", width)\n\t\t\t.attr(\"height\", height);\n\n\t\toptions.width ( width  )\n\t\t\t   .height( height );\n\n\t\tgraph.updateStyle();\n\n        if (isTouchDevice()===true){\n            if (graph.isEditorMode()===true )\n                d3.select(\"#modeOfOperationString\").node().innerHTML=\"touch able device detected\";\n            graph.setTouchDevice(true);\n\n        }else{\n            if (graph.isEditorMode()===true )\n                d3.select(\"#modeOfOperationString\").node().innerHTML=\"point & click device detected\";\n            graph.setTouchDevice(false);\n        }\n\n        d3.select(\"#loadingInfo-container\").style(\"height\",0.5*(height-80)+\"px\");\n        loadingModule.checkForScreenSize();\n\n\t\tadjustSliderSize();\n\t\t// update also the padding options of loading and the logo positions;\n\t\tvar warningDiv=d3.select(\"#browserCheck\");\n\t\tif (warningDiv.classed(\"hidden\")===false ) {\n            var offset=10+warningDiv.node().getBoundingClientRect().height;\n            d3.select(\"#logo\").style(\"padding\", offset+\"px 10px\");\n        }else {\n\t\t\t// remove the dynamic padding from the logo element;\n            d3.select(\"#logo\").style(\"padding\", \"10px\");\n        }\n\n        // scrollbar tests;\n\t\tvar element =d3.select(\"#menuElementContainer\").node();\n        var maxScrollLeft = element.scrollWidth - element.clientWidth;\n        var leftButton=d3.select(\"#scrollLeftButton\");\n        var rightButton=d3.select(\"#scrollRightButton\");\n        if (maxScrollLeft>0){\n        \t// show both and then check how far is bar;\n         \trightButton.classed(\"hidden\",false);\n            leftButton.classed(\"hidden\",false);\n            navigationMenu.updateScrollButtonVisibility();\n         }else{\n        \t// hide both;\n            rightButton.classed(\"hidden\",true);\n            leftButton.classed(\"hidden\",true);\n\t\t}\n\n\t\t// adjust height of the leftSidebar element;\n        editSidebar.updateElementWidth();\n\t}\n\n    function adjustSliderSize(){\n\t\t// TODO: refactor and put this into the slider it self\n        var height = window.innerHeight - 40;\n        var fullHeight=height;\n        var zoomOutPos=height-30;\n        var sliderHeight=150;\n\n        // assuming DOM elements are generated in the index.html\n        // todo: refactor for independent usage of graph and app\n        if (fullHeight<150) {\n            // hide the slider button;\n            d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", true);\n            d3.select(\"#zoomOutButton\").classed(\"hidden\", true);\n            d3.select(\"#zoomInButton\").classed(\"hidden\", true);\n            d3.select(\"#centerGraphButton\").classed(\"hidden\", true);\n            return;\n        }\n        d3.select(\"#zoomSliderParagraph\").classed(\"hidden\",false);\n        d3.select(\"#zoomOutButton\").classed(\"hidden\",false);\n        d3.select(\"#zoomInButton\").classed(\"hidden\",false);\n        d3.select(\"#centerGraphButton\").classed(\"hidden\",false);\n\n        var zoomInPos=zoomOutPos-20;\n        var centerPos=zoomInPos-20;\n        if (fullHeight<280){\n            // hide the slider button;\n            d3.select(\"#zoomSliderParagraph\").classed(\"hidden\",true);//var sliderPos=zoomOutPos-sliderHeight;\n            d3.select(\"#zoomOutButton\").style(\"top\",zoomOutPos+\"px\");\n            d3.select(\"#zoomInButton\").style(\"top\",zoomInPos+\"px\");\n            d3.select(\"#centerGraphButton\").style(\"top\",centerPos+\"px\");\n            return;\n        }\n\n        var sliderPos=zoomOutPos-sliderHeight;\n        zoomInPos=sliderPos-20;\n        centerPos=zoomInPos-20;\n        d3.select(\"#zoomSliderParagraph\").classed(\"hidden\",false);\n        d3.select(\"#zoomOutButton\").style(\"top\",zoomOutPos+\"px\");\n        d3.select(\"#zoomInButton\").style(\"top\",zoomInPos+\"px\");\n        d3.select(\"#centerGraphButton\").style(\"top\",centerPos+\"px\");\n        d3.select(\"#zoomSliderParagraph\").style(\"top\",sliderPos+\"px\");\n    }\n\n    function isTouchDevice() {\n        try {\n            document.createEvent(\"TouchEvent\");\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n\n\tfunction getInternetExplorerVersion(){\n        var ua,\n            re,\n            rv = -1;\n\n        // check for edge\n        var isEdge=/(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\n        if (isEdge){\n            rv  = parseInt(\"12\");\n            return rv;\n        }\n\n        var isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\n        if (isIE11){\n            rv  = parseInt(\"11\");\n            return rv;\n        }\n        if (navigator.appName === \"Microsoft Internet Explorer\") {\n            ua = navigator.userAgent;\n            re = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\n            if (re.exec(ua) !== null) {\n                rv = parseFloat(RegExp.$1);\n            }\n        } else if (navigator.appName === \"Netscape\") {\n            ua = navigator.userAgent;\n            re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\n            if (re.exec(ua) !== null) {\n                rv = parseFloat(RegExp.$1);\n            }\n        }\n        return rv;\n\t}\n\n\treturn app;\n};\n","/* Taken from here: http://stackoverflow.com/a/17907562 */\nfunction getInternetExplorerVersion() {\n\tvar ua,\n\t\tre,\n\t\trv = -1;\n\n\t// check for edge\n\tvar isEdge=/(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\n\tif (isEdge){\n\t\trv  = parseInt(\"12\");\n\t\treturn rv;\n\t}\n\n\tvar isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\n\tif (isIE11){\n\t\trv  = parseInt(\"11\");\n\t\treturn rv;\n\t}\n\tif (navigator.appName === \"Microsoft Internet Explorer\") {\n\t\tua = navigator.userAgent;\n\t\tre = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\n\t\tif (re.exec(ua) !== null) {\n\t\t\trv = parseFloat(RegExp.$1);\n\t\t}\n\t} else if (navigator.appName === \"Netscape\") {\n\t\tua = navigator.userAgent;\n\t\tre = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\n\t\tif (re.exec(ua) !== null) {\n\t\t\trv = parseFloat(RegExp.$1);\n\t\t}\n\t}\n\treturn rv;\n}\n\nfunction showBrowserWarningIfRequired() {\n\tvar version = getInternetExplorerVersion();\n\tconsole.log(\"Browser Version =\"+version);\n    if (version > 0 && version <= 11) {\n        d3.select(\"#browserCheck\").classed(\"hidden\", false);\n        d3.select(\"#killWarning\" ).classed(\"hidden\", true);\n        d3.select(\"#optionsArea\" ).classed(\"hidden\", true);\n        d3.select(\"#logo\").classed(\"hidden\", true);\n    }\n\tif (version == 12 ) {\n        d3.select(\"#logo\").classed(\"hidden\", false);\n        d3.select(\"#browserCheck\").classed(\"hidden\",false);\n        // connect the button;\n\t\tvar pb_kill=d3.select(\"#killWarning\");\n\t\tpb_kill.on(\"click\",function(){\n\t\t\tconsole.log(\"hide the warning please\");\n            d3.select(\"#browserCheck\").classed(\"hidden\",true);\n            d3.select(\"#logo\").style(\"padding\", \"10px\");\n\t\t});\n\t}\n\telse{\n        d3.select(\"#logo\").classed(\"hidden\", false);\n        d3.select(\"#browserCheck\").classed(\"hidden\",true);\n\t}\n\n}\n\nmodule.exports = showBrowserWarningIfRequired;\nshowBrowserWarningIfRequired();","module.exports = function () {\n    var config = {},\n        global_Graph_Edit = {\n            editorMode: \"true\",\n            selectSG: \"false\",\n            OMQ_mode: \"false\",\n            source_graph: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"false\"\n        },\n        mappings_Graph_select = {\n            editorMode: \"false\",\n            selectSG: \"true\",\n            OMQ_mode: \"false\",\n            source_graph: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"false\"\n        },\n        omq = {\n            editorMode: \"false\",\n            selectSG: \"false\",\n            OMQ_mode: \"true\",\n            source_graph: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"false\"\n        },\n        source_graph = { //bdi_visualization\n            source_graph: \"true\",\n            editorMode: \"false\",\n            selectSG: \"false\",\n            OMQ_mode: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"false\"\n        },\n        bdi_manual_alignments = {\n            source_graph: \"false\",\n            editorMode: \"false\",\n            selectSG: \"false\",\n            OMQ_mode: \"false\",\n            bdi_manualAl: \"true\"\n        },\n        test_visualization = { //test for incremental algorithm\n            source_graph: \"false\",\n            editorMode: \"false\",\n            selectSG: \"false\",\n            OMQ_mode: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"true\"\n        },\n        default_Option = {\n            editorMode: \"false\",\n            selectSG: \"false\",\n            OMQ_mode: \"false\",\n            source_graph: \"false\",\n            bdi_manualAl: \"false\",\n            testIncDI: \"false\"\n        };\n\n    config.getConf = function (type) {\n        switch (type) {\n            case \"mappings_Graph_select\":\n                return mappings_Graph_select;\n            case \"global_Graph_Edit\":\n                return global_Graph_Edit;\n            case \"omq\":\n                return omq;\n            case \"source_graph\":\n                return source_graph;\n            case \"bdi_manual_alignments\":\n                return bdi_manual_alignments;\n            case \"test_visualization\":\n                return test_visualization\n            default:\n                return default_Option;\n        }\n        return global_Graph_Edit;\n    };\n\n    config.global_Graph_Edit = function () {\n        return global_Graph_Edit;\n    };\n    config.mappings_Graph_select = function () {\n        return mappings_Graph_select;\n    };\n    config.default_Option = function () {\n        return default_Option;\n    };\n    config.omq = function () {\n        return omq;\n    };\n    config.source_graph = function () {\n        return source_graph;\n    };\n    config.bdi_manual_alignments = function () {\n        return bdi_manual_alignments;\n    };\n    return config;\n\n};\n","\nmodule.exports =  function (graph) {\n    /** variable defs **/\n    var directInputModule={};\n    var inputContainer=d3.select(\"#DirectInputContent\");\n    inputContainer.style(\"top\",\"0\");\n    inputContainer.style(\"position\",\"absolute\");\n    var textArea=d3.select(\"#directInputTextArea\");\n    var visibleContainer=false;\n\n    inputContainer.style(\"border\",\"1px solid black\");\n    inputContainer.style(\"padding\" ,\"5px\");\n    inputContainer.style(\"background\",\"#fff\");\n\n\n    // connect upload and close button;\n    directInputModule.handleDirectUpload=function(){\n\n        var text=textArea.node().value;\n        var jsonOBJ;\n        try {\n            jsonOBJ=JSON.parse(text);\n            graph.options().loadingModule().directInput(text);\n            // close if successful\n            if (jsonOBJ.class.length>0) {\n                directInputModule.setDirectInputMode(false);\n            }\n        }\n        catch (e){\n            try {\n                // Initialize;\n                graph.options().loadingModule().initializeLoader();\n                graph.options().loadingModule().requestServerTimeStampForDirectInput(\n                    graph.options().ontologyMenu().callbackLoad_Ontology_From_DirectInput,text\n                );\n            } catch (error2){\n                console.log(\"Error \"+ error2);\n                d3.select(\"#Error_onLoad\").classed(\"hidden\",false);\n                d3.select(\"#Error_onLoad\").node().innerHTML=\"Failed to convert the input!\";\n            }\n        }\n    };\n\n    directInputModule.handleCloseButton=function(){\n        directInputModule.setDirectInputMode(false);\n    };\n\n    directInputModule.updateLayout=function(){\n        var w=graph.options().width();\n        var h=graph.options().height();\n        textArea.style(\"width\",0.4*w+\"px\");\n        textArea.style(\"height\",0.7*h+\"px\");\n    };\n\n    directInputModule.setDirectInputMode=function(val){\n        if (!val)   { visibleContainer=!visibleContainer; }\n        else        { visibleContainer = val; }\n        // update visibility;\n        directInputModule.updateLayout();\n        d3.select(\"#Error_onLoad\").classed(\"hidden\",true);\n        inputContainer.classed(\"hidden\",!visibleContainer);\n    };\n\n\n    d3.select(\"#directUploadBtn\").on(\"click\",directInputModule.handleDirectUpload);\n    d3.select(\"#close_directUploadBtn\").on(\"click\",directInputModule.handleCloseButton);\n\n    return directInputModule;\n};\n\n\n","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n    var editSidebar = {},\n        languageTools = webvowl.util.languageTools(),\n        elementTools = webvowl.util.elementTools();\n\n    var prefixModule=webvowl.util.prefixTools(graph);\n    var selectedElementForCharacteristics;\n    var oldPrefix, oldPrefixURL;\n    var prefix_editMode = false;\n\n    var options = graph.graphOptions()\n\n\n    editSidebar.clearMetaObjectValue=function(){\n        d3.select(\"#titleEditor\").node().value=\"\";\n        d3.select(\"#iriEditor\").node().value=\"\";\n        d3.select(\"#versionEditor\").node().value=\"\";\n        d3.select(\"#authorsEditor\").node().value=\"\";\n        d3.select(\"#descriptionEditor\").node().value=\"\";\n        // todo add clear description;\n    };\n\n\n    editSidebar.updatePrefixUi=function(){\n        editSidebar.updateElementWidth();\n        var prefixListContainer = d3.select(\"#prefixURL_Container\");\n        while (prefixListContainer.node().firstChild) {\n            prefixListContainer.node().removeChild(prefixListContainer.node().firstChild);\n        }\n        setupPrefixList();\n    };\n\n    editSidebar.setup = function () {\n        setupCollapsing();\n        setupPrefixList();\n        setupAddPrefixButton();\n        setupSupportedDatatypes();\n\n\n        d3.select(\"#titleEditor\")\n            .on(\"change\", function () {\n                graph.options().addOrUpdateGeneralObjectEntry(\"title\",d3.select(\"#titleEditor\").node().value);\n            })\n            .on(\"keydown\", function () {\n                d3.event.stopPropagation();\n                if (d3.event.keyCode === 13) {\n                    d3.event.preventDefault();\n                    graph.options().addOrUpdateGeneralObjectEntry(\"title\",d3.select(\"#titleEditor\").node().value);\n                }\n            });\n        d3.select(\"#iriEditor\")\n            .on(\"change\", function () {\n                if (graph.options().addOrUpdateGeneralObjectEntry(\"iri\",d3.select(\"#iriEditor\").node().value)===false){\n                    // restore value\n                    d3.select(\"#iriEditor\").node().value=graph.options().getGeneralMetaObjectProperty('iri');\n                }\n            })\n            .on(\"keydown\", function () {\n                d3.event.stopPropagation();\n                if (d3.event.keyCode === 13) {\n                    d3.event.preventDefault();\n                    if (graph.options().addOrUpdateGeneralObjectEntry(\"iri\",d3.select(\"#iriEditor\").node().value)===false){\n                        // restore value\n                        d3.select(\"#iriEditor\").node().value=graph.options().getGeneralMetaObjectProperty('iri');\n                    }\n                }\n            });\n        d3.select(\"#versionEditor\")\n            .on(\"change\", function () {\n                graph.options().addOrUpdateGeneralObjectEntry(\"version\",d3.select(\"#versionEditor\").node().value);\n            })\n            .on(\"keydown\", function () {\n                d3.event.stopPropagation();\n                if (d3.event.keyCode === 13) {\n                    d3.event.preventDefault();\n                    graph.options().addOrUpdateGeneralObjectEntry(\"version\",d3.select(\"#versionEditor\").node().value);\n                }\n            });\n        d3.select(\"#authorsEditor\")\n            .on(\"change\", function () {\n                graph.options().addOrUpdateGeneralObjectEntry(\"author\",d3.select(\"#authorsEditor\").node().value);\n            })\n            .on(\"keydown\", function () {\n                d3.event.stopPropagation();\n                if (d3.event.keyCode === 13) {\n                    d3.event.preventDefault();\n                    graph.options().addOrUpdateGeneralObjectEntry(\"author\",d3.select(\"#authorsEditor\").node().value);\n                }\n            });\n        d3.select(\"#descriptionEditor\")\n            .on(\"change\", function () {\n                graph.options().addOrUpdateGeneralObjectEntry(\"description\",d3.select(\"#descriptionEditor\").node().value);\n            });\n\n        editSidebar.updateElementWidth();\n\n    };\n\n    function setupSupportedDatatypes() {\n        var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\n        var supportedDatatypes = [\"undefined\", \"xsd:boolean\", \"xsd:double\", \"xsd:integer\", \"xsd:string\"];\n        for (var i = 0; i < supportedDatatypes.length; i++) {\n            var optB = document.createElement('option');\n            optB.innerHTML = supportedDatatypes[i];\n            datatypeEditorSelection.appendChild(optB);\n        }\n    }\n\n    function highlightDeleteButton(enable,name){\n        var deletePath= d3.select(\"#del_pathFor_\" + name);\n        var deleteRect= d3.select(\"#del_rectFor_\" + name);\n\n        if (enable===false){\n            deletePath.node().style=\"stroke: #f00;\";\n            deleteRect.style(\"cursor\",\"auto\");\n        }else{\n            deletePath.node().style=\"stroke: #ff972d;\";\n            deleteRect.style(\"cursor\",\"pointer\");\n        }\n    }\n\n\n    function highlightEditButton(enable,name,fill){\n        var editPath= d3.select(\"#pathFor_\" + name);\n        var editRect= d3.select(\"#rectFor_\" + name);\n\n        if (enable===false){\n            if (fill)\n                editPath.node().style=\"fill: #fff; stroke : #fff; stroke-width : 1px\";\n            else\n                editPath.node().style=\" stroke : #fff; stroke-width : 1px\";\n\n            editRect.style(\"cursor\",\"auto\");\n        }else{\n            if (fill)\n                editPath.node().style=\"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n            else\n                editPath.node().style=\"stroke : #ff972d; stroke-width : 1px\";\n            editRect.style(\"cursor\",\"pointer\");\n        }\n\n    }\n\n    function setupAddPrefixButton() {\n        var btn = d3.select(\"#addPrefixButton\");\n        btn.on(\"click\", function () {\n\n            // check if we are still in editMode?\n            if (prefix_editMode === false) {\n                // create new line entry;\n                var name = \"emptyPrefixEntry\";\n                var prefixListContainer = d3.select(\"#prefixURL_Container\");\n                var prefixEditContainer = prefixListContainer.append(\"div\");\n                prefixEditContainer.classed(\"prefixIRIElements\", true);\n                prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\n\n                var IconContainer=prefixEditContainer.append(\"div\");\n                IconContainer.style(\"position\", \"absolute\");\n                IconContainer.node().id=\"containerFor_\"+name;\n                var editButton = IconContainer.append(\"svg\");\n                editButton.style(\"width\",\"14px\");\n                editButton.style(\"height\",\"20px\");\n             //   editButton.classed(\"editPrefixButton\", true);\n                editButton.classed(\"noselect\", true);\n                //editButton.node().innerHTML = \"\\u2714\";\n                editButton.node().id = \"editButtonFor_\" + name;\n\n                editButton.node().elementStyle = \"save\";\n                editButton.node().selectorName = name;\n                var editIcon=editButton.append(\"g\");\n                var editRect=editIcon.append(\"rect\");\n                var editPath=editIcon.append(\"path\");\n                editIcon.node().id = \"iconFor_\" + name;\n                editPath.node().id = \"pathFor_\" + name;\n                editRect.node().id = \"rectFor_\" + name;\n\n                editIcon.node().selectorName =  name;\n                editPath.node().selectorName =  name;\n                editRect.node().selectorName =  name;\n                IconContainer.node().title = \"Save new prefix and IRI\";\n\n                editPath.classed(\"editPrefixIcon\");\n                editPath.style(\"stroke\",\"#fff\");\n                editPath.style(\"stroke-width\",\"1px\");\n                editPath.style(\"fill\",\"#fff\");\n                editRect.attr(\"width\",\"14px\");\n                editRect.attr(\"height\",\"14px\");\n                editRect.style(\"fill\",\"#18202A\");\n                editRect.attr(\"transform\",\"matrix(1,0,0,1,-3,4)\");\n\n                editButton.selectAll(\"g\").on(\"mouseover\",function(){\n                    highlightEditButton(true,this.selectorName,true);\n                });\n                editButton.selectAll(\"g\").on(\"mouseout\",function(){\n                    highlightEditButton(false,this.selectorName,true);\n                });\n                // Check mark\n                // M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\n                // pencil\n                // M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\n                editPath.attr(\"d\",\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\n                editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n\n                var prefInput = prefixEditContainer.append(\"input\");\n                prefInput.classed(\"prefixInput\", true);\n                prefInput.node().type = \"text\";\n                prefInput.node().id = \"prefixInputFor_\" + name;\n                prefInput.node().autocomplete = \"off\";\n                prefInput.node().value = \"\";\n                prefInput.style(\"margin-left\",\"14px\");\n\n                var prefURL = prefixEditContainer.append(\"input\");\n                prefURL.classed(\"prefixURL\", true);\n                prefURL.node().type = \"text\";\n                prefURL.node().id = \"prefixURLFor_\" + name;\n                prefURL.node().autocomplete = \"off\";\n                prefURL.node().value = \"\";\n\n                prefInput.node().disabled = false;\n                prefURL.node().disabled = false;\n                prefix_editMode = true;\n                var deleteContainer=prefixEditContainer.append(\"div\");\n                deleteContainer.style(\"float\", \"right\");\n                var deleteButton = deleteContainer.append(\"svg\");\n                deleteButton.node().id = \"deleteButtonFor_\" + name;\n                deleteContainer.node().title = \"Delete prefix and IRI\";\n                deleteButton.style(\"width\",\"10px\");\n                deleteButton.style(\"height\",\"20px\");\n                var deleteIcon=deleteButton.append(\"g\");\n                var deleteRect=deleteIcon.append(\"rect\");\n                var deletePath=deleteIcon.append(\"path\");\n                deleteIcon.node().id = \"del_iconFor_\" + name;\n                deletePath.node().id = \"del_pathFor_\" + name;\n                deleteRect.node().id = \"del_rectFor_\" + name;\n\n                deleteIcon.node().selectorName =  name;\n                deletePath.node().selectorName =  name;\n                deleteRect.node().selectorName =  name;\n\n\n                deletePath.style(\"stroke\",\"#f00\");\n                deleteRect.attr(\"width\",\"10px\");\n                deleteRect.attr(\"height\",\"14px\");\n                deleteRect.style(\"fill\",\"#18202A\");\n                deleteRect.attr(\"transform\",\"matrix(1,0,0,1,-3,4)\");\n\n\n                deletePath.attr(\"d\",\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\n                deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n\n                deleteButton.selectAll(\"g\").on(\"mouseover\",function(){\n                    highlightDeleteButton(true,this.selectorName);\n                });\n                deleteButton.selectAll(\"g\").on(\"mouseout\",function(){\n                    highlightDeleteButton(false,this.selectorName);\n                });\n\n\n\n                // connect the buttons;\n                editButton.on(\"click\", enablePrefixEdit);\n                deleteButton.on(\"click\", deletePrefixLine);\n\n                editSidebar.updateElementWidth();\n                // swap focus to prefixInput\n                prefInput.node().focus();\n                oldPrefix = name;\n                oldPrefixURL = \"\";\n                d3.select(\"#addPrefixButton\").node().innerHTML=\"Save Prefix\";\n            }else{\n                d3.select(\"#editButtonFor_emptyPrefixEntry\").on(\"click\")(d3.select(\"#editButtonFor_emptyPrefixEntry\").node());\n            }\n\n        });\n\n    }\n\n    function setupPrefixList() {\n        if (graph.isEditorMode()===false) return;\n        var prefixListContainer = d3.select(\"#prefixURL_Container\");\n        var prefixElements = graph.options().prefixList();\n        for (var name in prefixElements) {\n            if (prefixElements.hasOwnProperty(name)) {\n                var prefixEditContainer = prefixListContainer.append(\"div\");\n                prefixEditContainer.classed(\"prefixIRIElements\", true);\n                prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\n\n                // create edit button which enables the input fields\n                var IconContainer=prefixEditContainer.append(\"div\");\n                IconContainer.style(\"position\", \"absolute\");\n                IconContainer.node().id=\"containerFor_\"+name;\n                var editButton = IconContainer.append(\"svg\");\n                editButton.style(\"width\",\"14px\");\n                editButton.style(\"height\",\"20px\");\n                editButton.classed(\"noselect\", true);\n                editButton.node().id = \"editButtonFor_\" + name;\n                IconContainer.node().title = \"Edit prefix and IRI\";\n                editButton.node().elementStyle = \"save\";\n                editButton.node().selectorName =  name;\n\n                editButton.node().id = \"editButtonFor_\" + name;\n                editButton.node().elementStyle = \"edit\";\n                var editIcon=editButton.append(\"g\");\n                var editRect=editIcon.append(\"rect\");\n                var editPath=editIcon.append(\"path\");\n                editIcon.node().id = \"iconFor_\" + name;\n                editPath.node().id = \"pathFor_\" + name;\n                editRect.node().id = \"rectFor_\" + name;\n\n                editIcon.node().selectorName =  name;\n                editPath.node().selectorName =  name;\n                editRect.node().selectorName =  name;\n\n\n                editPath.classed(\"editPrefixIcon\");\n                editPath.style(\"stroke\",\"#fff\");\n                editPath.style(\"stroke-width\",\"1px\");\n                editRect.attr(\"width\",\"14px\");\n                editRect.attr(\"height\",\"14px\");\n                editRect.style(\"fill\",\"#18202A\");\n                editRect.attr(\"transform\",\"matrix(1,0,0,1,-3,4)\");\n\n                editButton.selectAll(\"g\").on(\"mouseover\",function(){\n                    var sender=this;\n                    var fill =false;\n                    var enable=true;\n                    var f_editPath= d3.select(\"#pathFor_\" + sender.selectorName);\n                    var f_editRect= d3.select(\"#rectFor_\" + sender.selectorName);\n\n                    if (enable===false){\n                        if (fill)\n                            f_editPath.node().style=\"fill: #fff; stroke : #fff; stroke-width : 1px\";\n                        else\n                            f_editPath.node().style=\" stroke : #fff; stroke-width : 1px\";\n\n                        f_editRect.style(\"cursor\",\"auto\");\n                    }else{\n                        if (fill)\n                            f_editPath.node().style=\"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n                        else\n                            f_editPath.node().style=\"stroke : #ff972d; stroke-width : 1px\";\n                        f_editRect.style(\"cursor\",\"pointer\");\n                    }\n                });\n                editButton.selectAll(\"g\").on(\"mouseout\",function(){\n                    var sender=this;\n                    var fill =false;\n                    var enable=false;\n                    var f_editPath= d3.select(\"#pathFor_\" + sender.selectorName);\n                    var f_editRect= d3.select(\"#rectFor_\" + sender.selectorName);\n\n                    if (enable===false){\n                        if (fill)\n                            f_editPath.node().style=\"fill: #fff; stroke : #fff; stroke-width : 1px\";\n                        else\n                            f_editPath.node().style=\" stroke : #fff; stroke-width : 1px\";\n\n                        f_editRect.style(\"cursor\",\"auto\");\n                    }else{\n                        if (fill)\n                            f_editPath.node().style=\"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n                        else\n                            f_editPath.node().style=\"stroke : #ff972d; stroke-width : 1px\";\n                        f_editRect.style(\"cursor\",\"pointer\");\n                    }\n                });\n\n                editPath.attr(\"d\",\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\n                editPath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\n\n                // create input field for prefix\n                var prefInput = prefixEditContainer.append(\"input\");\n                prefInput.classed(\"prefixInput\", true);\n                prefInput.node().type = \"text\";\n                prefInput.node().id = \"prefixInputFor_\" + name;\n                prefInput.node().autocomplete = \"off\";\n                prefInput.node().value = name;\n                prefInput.style(\"margin-left\",\"14px\");\n\n                // create input field for prefix url\n                var prefURL = prefixEditContainer.append(\"input\");\n                prefURL.classed(\"prefixURL\", true);\n                prefURL.node().type = \"text\";\n                prefURL.node().id = \"prefixURLFor_\" + name;\n                prefURL.node().autocomplete = \"off\";\n                prefURL.node().value = prefixElements[name];\n                prefURL.node().title= prefixElements[name];\n                // disable the input fields (already defined elements can be edited later)\n                prefInput.node().disabled = true;\n                prefURL.node().disabled = true;\n\n                // create the delete button\n                var deleteContainer=prefixEditContainer.append(\"div\");\n                deleteContainer.style(\"float\", \"right\");\n                var deleteButton = deleteContainer.append(\"svg\");\n                deleteButton.node().id = \"deleteButtonFor_\" + name;\n                deleteContainer.node().title = \"Delete prefix and IRI\";\n                deleteButton.style(\"width\",\"10px\");\n                deleteButton.style(\"height\",\"20px\");\n                var deleteIcon=deleteButton.append(\"g\");\n                var deleteRect=deleteIcon.append(\"rect\");\n                var deletePath=deleteIcon.append(\"path\");\n                deleteIcon.node().id = \"del_iconFor_\" + name;\n                deletePath.node().id = \"del_pathFor_\" + name;\n                deleteRect.node().id = \"del_rectFor_\" + name;\n\n                deleteIcon.node().selectorName =  name;\n                deletePath.node().selectorName =  name;\n                deleteRect.node().selectorName =  name;\n\n\n                deletePath.style(\"stroke\",\"#f00\");\n                deleteRect.attr(\"width\",\"10px\");\n                deleteRect.attr(\"height\",\"14px\");\n                deleteRect.style(\"fill\",\"#18202A\");\n                deleteRect.attr(\"transform\",\"matrix(1,0,0,1,-3,4)\");\n\n\n                deletePath.attr(\"d\",\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\n                deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n\n                deleteButton.selectAll(\"g\").on(\"mouseover\",function(){\n                    var selector=this;\n                    var enable=true;\n                    var f_deletePath= d3.select(\"#del_pathFor_\" + selector.selectorName);\n                    var f_deleteRect= d3.select(\"#del_rectFor_\" + selector.selectorName);\n\n                    if (enable===false){\n                        f_deletePath.node().style=\"stroke: #f00;\";\n                        f_deleteRect.style(\"cursor\",\"auto\");\n                    }else{\n                        f_deletePath.node().style=\"stroke: #ff972d;\";\n                        f_deleteRect.style(\"cursor\",\"pointer\");\n                    }\n                });\n                deleteButton.selectAll(\"g\").on(\"mouseout\",function(){\n                    var selector=this;\n                    var enable=false;\n                    var f_deletePath= d3.select(\"#del_pathFor_\" + selector.selectorName);\n                    var f_deleteRect= d3.select(\"#del_rectFor_\" + selector.selectorName);\n\n                    if (enable===false){\n                        f_deletePath.node().style=\"stroke: #f00;\";\n                        f_deleteRect.style(\"cursor\",\"auto\");\n                    }else{\n                        f_deletePath.node().style=\"stroke: #ff972d;\";\n                        f_deleteRect.style(\"cursor\",\"pointer\");\n                    }\n                });\n\n\n                editButton.on(\"click\", enablePrefixEdit);\n                deleteButton.on(\"click\", deletePrefixLine);\n\n                // EXPERIMENTAL\n\n                if (name===\"rdf\"  ||\n                    name===\"rdfs\" ||\n                    name===\"xsd\"  || name===\"dc\"  ||\n                    name===\"owl\"\n                ){\n                    // make them invis so the spacing does not change\n                    IconContainer.classed(\"hidden\",true);\n                    deleteContainer.classed(\"hidden\",true);\n                }\n            }\n        }\n        prefixModule.updatePrefixModel();\n    }\n\n    function deletePrefixLine() {\n        if (this.disabled===true) return;\n        d3.select(\"#addPrefixButton\").node().innerHTML=\"Add Prefix\";\n        var selector = this.id.split(\"_\")[1];\n        d3.select(\"#prefixContainerFor_\" + selector).remove();\n        graph.options().removePrefix(selector);\n        prefix_editMode = false; // <<TODO make some sanity checks\n        prefixModule.updatePrefixModel();\n    }\n\n    function enablePrefixEdit(item) {\n\n        var agent=this;\n        if (item)\n            agent=item;\n\n        if (agent.disabled===true) return;\n        var selector = agent.id.split(\"_\")[1];\n        var stl = agent.elementStyle;\n        if (stl === \"edit\") {\n            d3.select(\"#prefixInputFor_\" + selector).node().disabled = false;\n            d3.select(\"#prefixURLFor_\" + selector).node().disabled = false;\n            // change the button content\n          //  this.innerHTML = \"\\u2714\";\n            agent.elementStyle = \"save\";\n            oldPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\n            oldPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\n            prefix_editMode = true;\n            if (d3.select(\"#containerFor_\"+selector).node())\n                d3.select(\"#containerFor_\"+selector).node().title=\"Save new prefix and IRI\";\n\n            var editButton=d3.select(agent);\n            editButton.selectAll(\"g\").on(\"mouseover\",function(){\n\n                highlightEditButton(true,agent.selectorName,true);\n            });\n            editButton.selectAll(\"g\").on(\"mouseout\",function(){\n                highlightEditButton(false,agent.selectorName,true);\n            });\n\n            var editPath= d3.select(\"#pathFor_\" + agent.selectorName);\n            editPath.attr(\"d\",\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\n            editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n\n            highlightEditButton(true,agent.selectorName,true);\n\n\n\n\n        }\n        if (stl === \"save\") {\n            var newPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\n            var newPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\n\n\n\n\n            if (graph.options().updatePrefix(oldPrefix, newPrefix, oldPrefixURL, newPrefixURL) === true) {\n                d3.select(\"#prefixInputFor_\" + newPrefix).node().disabled = true;\n                d3.select(\"#prefixURLFor_\" + newPrefix).node().disabled = true;\n                d3.select(\"#addPrefixButton\").node().innerHTML=\"Add Prefix\";\n                if (d3.select(\"#containerFor_\"+selector).node())\n                    d3.select(\"#containerFor_\"+selector).node().title = \"Edit prefix and IRI\";\n\n                // change the button content\n\n                agent.elementStyle = \"edit\";\n                prefix_editMode = false;\n                prefixModule.updatePrefixModel();\n                var saveButton=d3.select(agent);\n                saveButton.selectAll(\"g\").on(\"mouseover\",function(){\n                    highlightEditButton(true,agent.selectorName,false);\n                });\n                saveButton.selectAll(\"g\").on(\"mouseout\",function(){\n                    highlightEditButton(false,agent.selectorName,false);\n                });\n\n                var savePath= d3.select(\"#pathFor_\" + agent.selectorName);\n                savePath.attr(\"d\",\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\n                savePath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\n                highlightEditButton(true,agent.selectorName,false);\n            }\n        }\n    }\n\n    function changeDatatypeType(element) {\n        var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\n        var givenName = datatypeEditorSelection.value;\n        var identifier = givenName.split(\":\")[1];\n\n        if (datatypeEditorSelection.value !== \"undefined\" || graph.options().MDM()) {\n            d3.select(\"#element_iriEditor\").node().disabled = true;\n            d3.select(\"#element_labelEditor\").node().disabled = true;\n        } else {\n            identifier = \"undefined\";\n            d3.select(\"#element_iriEditor\").node().disabled = false;\n            d3.select(\"#element_labelEditor\").node().disabled = false;\n        }\n        element.label(identifier);\n        element.dType(givenName);\n        element.iri(\"http://www.w3.org/2001/XMLSchema#\" + identifier);\n        element.baseIri(\"http://www.w3.org/2001/XMLSchema#\");\n        element.redrawLabelText();\n\n        d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(element.iri());\n        d3.select(\"#element_iriEditor\").node().title = element.iri();\n        d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\n    }\n\n\n    function identifyExternalCharacteristicForElement(ontoIRI,elementIRI){\n        return (elementIRI.indexOf(ontoIRI)===-1);\n\n    }\n    function defaultIriValue(element){\n        // get the iri of that element;\n        if (graph.options().getGeneralMetaObject().iri){\n            if(element.iriType() === Global.HAS_RELATION.iri)\n                return true;\n            // ----- just works for webvowl logic. In mdm we don't use the id in the iri. --------//\n            // var str2Compare = graph.options().getGeneralMetaObject().iri + element.id();\n            // --------- let update iris when editing elements. --------//\n            var str2Compare = graph.options().getGeneralMetaObject().iri + element.label();\n            return element.iri()===str2Compare;\n        }\n        return false;\n    }\n\n    function getURLFROMPrefixedVersion(element){\n        var url = d3.select(\"#element_iriEditor\").node().value;\n        var base=graph.options().getGeneralMetaObjectProperty(\"iri\");\n        if (validURL(url)===false){\n\n            // make better usability\n            // try to split element;\n            var tokens=url.split(\":\");\n\n            //console.log(\"try to split the input into prefix:name\")\n            console.log(\"Tokens\");\n            console.log(tokens);\n            console.log(\"---------------\");\n            // TODO MORE VALIDATION TESTS\n            if (tokens.length===2){\n                var pr=tokens[0];\n                var name=tokens[1];\n                if (pr.length>0){\n                    var basePref=graph.options().prefixList()[pr];\n                    if (basePref===undefined){\n                        console.log(\"ERROR __________________\");\n                        graph.options().warningModule().showWarning(\"Invalid Element IRI\",\n                            \"Could not resolve prefix '\"+ basePref+\"'\",\n                            \"Restoring previous IRI for Element\"+element.iri(),1,false);\n                        d3.select(\"#element_iriEditor\").node().value=element.iri();\n                        return;\n\n                    }\n                    // check if url is not empty\n\n                    if (name.length===0){\n                        graph.options().warningModule().showWarning(\"Invalid Element IRI\",\n                            \"Input IRI is EMPTY\",\n                            \"Restoring previous IRI for Element\"+element.iri(),1,false);\n                        console.log(\"NO INPUT PROVIDED\");\n                        d3.select(\"#element_iriEditor\").node().value=element.iri();\n                        return;\n\n                    }\n                    url=basePref+name;\n                }\n                else{\n                    url=base+name;\n                }\n            }else{\n                if (url.length===0){\n                    //\n                    console.log(\"NO INPUT PROVIDED\");\n                    d3.select(\"#element_iriEditor\").node().value=element.iri();\n                    return;\n                }\n                // failed to identify anything useful\n                console.log(\"Tryig to use the input!\");\n                url=base+url;\n            }\n        }\n        return url;\n    }\n\n    function changeIriForElement(element) {\n        var  url=getURLFROMPrefixedVersion(element);\n        var base=graph.options().getGeneralMetaObjectProperty(\"iri\");\n        var sanityCheckResult;\n        if (elementTools.isNode(element)){\n\n            sanityCheckResult=graph.checkIfIriClassAlreadyExist(url);\n            if  (sanityCheckResult===false) {\n                element.iri(url);\n            }else{\n                // throw warnign\n                graph.options().warningModule().showWarning(\"Already seen this class\",\n                    \"Input IRI: \"+url+\" for element: \"+ element.labelForCurrentLanguage()+\" already been set\",\n                    \"Restoring previous IRI for Element : \"+element.iri(),2,false, sanityCheckResult);\n\n                 editSidebar.updateSelectionInformation(element);\n                return;\n\n            }\n        }\n        if (elementTools.isProperty(element)===true) {\n            sanityCheckResult=editSidebar.checkProperIriChange(element,url);\n            if (sanityCheckResult!== false){\n                graph.options().warningModule().showWarning(\"Already seen this property\",\n                    \"Input IRI: \"+url+\" for element: \"+ element.labelForCurrentLanguage()+\" already been set\",\n                    \"Restoring previous IRI for Element : \"+element.iri(),1,false, sanityCheckResult);\n\n                editSidebar.updateSelectionInformation(element);\n                return;\n            }\n        }\n\n        // if (element.existingPropertyIRI(url)===true){\n        //     console.log(\"I Have seen this Particular URL already \"+url);\n        //     graph.options().warningModule().showWarning(\"Already Seen This one \",\n        //         \"Input IRI For Element\"+ element.labelForCurrentLanguage()+\" already been set  \",\n        //         \"Restoring previous IRI for Element\"+element.iri(),1,false);\n        //     d3.select(\"#element_iriEditor\").node().value=graph.options().prefixModule().getPrefixRepresentationForFullURI(element.iri());\n        //     editSidebar.updateSelectionInformation(element);\n        //     return;\n        // }\n\n        element.iri(url);\n        if (identifyExternalCharacteristicForElement(base,url)===true){\n            addAttribute(element,\"external\");\n            // background color for external element;\n            element.backgroundColor(\"#36C\");\n            element.redrawElement();\n            element.redrawLabelText();\n            // handle visual selection\n\n        }else{\n            removeAttribute(element,\"external\");\n            // background color for external element;\n            element.backgroundColor(undefined);\n            element.redrawElement();\n            element.redrawLabelText();\n\n        }\n\n        if (element.focused()){\n            graph.options().focuserModule().handle(element,true); // unfocus\n            graph.options().focuserModule().handle(element,true); // focus\n        }\n        // graph.options().focuserModule().handle(undefined);\n\n\n\n        d3.select(\"#element_iriEditor\").node().value=prefixModule.getPrefixRepresentationForFullURI(url);\n        editSidebar.updateSelectionInformation(element);\n    }\n\n    function validURL(str) {\n        var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n        return urlregex.test(str);\n    }\n\n\n    function changeLabelForElement(element) {\n        element.label(d3.select(\"#element_labelEditor\").node().value);\n        element.redrawLabelText();\n    }\n\n    editSidebar.updateEditDeleteButtonIds = function (oldPrefix, newPrefix) {\n        d3.select(\"#prefixInputFor_\" + oldPrefix).node().id = \"prefixInputFor_\" + newPrefix;\n        d3.select(\"#prefixURLFor_\" + oldPrefix).node().id = \"prefixURLFor_\" + newPrefix;\n        d3.select(\"#deleteButtonFor_\" + oldPrefix).node().id = \"deleteButtonFor_\" + newPrefix;\n        d3.select(\"#editButtonFor_\" + oldPrefix).node().id = \"editButtonFor_\" + newPrefix;\n\n        d3.select(\"#prefixContainerFor_\" + oldPrefix).node().id = \"prefixContainerFor_\" + newPrefix;\n    };\n\n    editSidebar.checkForExistingURL=function(url){\n            var i;\n            var allProps=graph.getUnfilteredData().properties;\n            for( i=0;  i< allProps.length; i++) {\n                if (allProps[i].iri()===url) return true;\n            }\n            return false;\n\n    };\n    editSidebar.checkProperIriChange = function (element,url){\n        console.log(\"Element changed Label\");\n        console.log(\"Testing URL \"+url);\n        if (element.type()===\"rdfs:subClassOf\" || element.type()===\"owl:disjointWith\"){\n            console.log(\"ignore this for now, already handled in the type and domain range changer\");\n        }else{\n            var i;\n            var allProps=graph.getUnfilteredData().properties;\n            for( i=0;  i< allProps.length; i++) {\n                if (allProps[i] === element) continue;\n                if (allProps[i].iri()===url) return allProps[i];\n            }\n        }\n        return false;\n    };\n\n    editSidebar.updateSelectionInformation = function (element) {\n\n        if (element === undefined) {\n            // show hint;\n            d3.select(\"#selectedElementProperties\").classed(\"hidden\", true);\n            d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", false);\n            selectedElementForCharacteristics = null;\n            editSidebar.updateElementWidth();\n        }\n        else {\n            d3.select(\"#selectedElementProperties\").classed(\"hidden\", false);\n            d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", true);\n            d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", true);\n\n            // set the element IRI, and labels\n            d3.select(\"#element_iriEditor\").node().value = element.iri();\n            d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\n            d3.select(\"#element_iriEditor\").node().title=element.iri();\n\n            d3.select(\"#element_iriEditor\")\n                .on(\"change\", function () {\n                    var elementIRI=element.iri();\n                    var prefixed=graph.options().prefixModule().getPrefixRepresentationForFullURI(elementIRI);\n                    if (prefixed===d3.select(\"#element_iriEditor\").node().value){\n                        console.log(\"Iri is identical, nothing has changed!\");\n                        return;\n                    }\n\n                    changeIriForElement(element);\n                })\n                .on(\"keydown\", function () {\n                    d3.event.stopPropagation();\n                    if (d3.event.keyCode === 13) {\n                        d3.event.preventDefault();\n                        console.log(\"IRI CHANGED Via ENTER pressed\");\n                        changeIriForElement(element);\n                        d3.select(\"#element_iriEditor\").node().title=element.iri();\n                    }\n                });\n\n            var forceIRISync=defaultIriValue(element);\n            d3.select(\"#element_labelEditor\")\n                .on(\"change\", function () {\n                    var sanityCheckResult;\n                    console.log(\"Element changed Label\");\n                    var url=getURLFROMPrefixedVersion(element);\n                    if (element.iri()!==url) {\n                        if (elementTools.isProperty(element) === true) {\n                            sanityCheckResult = editSidebar.checkProperIriChange(element, url);\n                            if (sanityCheckResult !== false) {\n                                graph.options().warningModule().showWarning(\"Already seen this property\",\n                                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                                    \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\n                                editSidebar.updateSelectionInformation(element);\n                                return;\n                            }\n                        }\n\n                        if (elementTools.isNode(element) === true) {\n                            sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\n                            if (sanityCheckResult !== false) {\n                                graph.options().warningModule().showWarning(\"Already seen this Class\",\n                                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                                    \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\n\n                                editSidebar.updateSelectionInformation(element);\n                                return;\n                            }\n                        }\n                        element.iri(url);\n                    }\n                    changeLabelForElement(element);\n                    editSidebar.updateSelectionInformation(element); // prevents that it will be changed if node is still active\n                })\n                .on(\"keydown\", function () {\n                    d3.event.stopPropagation();\n                    if (d3.event.keyCode === 13) {\n                        d3.event.preventDefault();\n                        var sanityCheckResult;\n                        console.log(\"Element changed Label\");\n                        var url=getURLFROMPrefixedVersion(element);\n                        if (element.iri()!==url) {\n                            if (elementTools.isProperty(element) === true) {\n                                sanityCheckResult = editSidebar.checkProperIriChange(element, url);\n                                if (sanityCheckResult !== false) {\n                                    graph.options().warningModule().showWarning(\"Already seen this property\",\n                                        \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                                        \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\n\n                                    editSidebar.updateSelectionInformation(element);\n                                    return;\n                                }\n                            }\n\n                            if (elementTools.isNode(element) === true) {\n                                sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\n                                if (sanityCheckResult !== false) {\n                                    graph.options().warningModule().showWarning(\"Already seen this Class\",\n                                        \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                                        \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\n\n                                    editSidebar.updateSelectionInformation(element);\n                                    return;\n                                }\n                            }\n                            element.iri(url);\n                        }\n                        changeLabelForElement(element);\n                    }\n                })\n                .on(\"keyup\", function(){\n                    if (forceIRISync){\n                            var labelName= d3.select(\"#element_labelEditor\").node().value;\n                            var resourceName=labelName.replaceAll(\" \",\"_\");\n                            var syncedIRI=element.baseIri()+resourceName;\n\n                            //element.iri(syncedIRI);\n                            d3.select(\"#element_iriEditor\").node().title=element.iri();\n                            d3.select(\"#element_iriEditor\").node().value=prefixModule.getPrefixRepresentationForFullURI(syncedIRI);\n                        }\n                });\n            // check if we are allowed to change IRI OR LABEL\n            d3.select(\"#element_iriEditor\").node().disabled = false;\n            d3.select(\"#element_labelEditor\").node().disabled = false;\n\n            if (element.type() === \"rdfs:subClassOf\") {\n                d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\n                d3.select(\"#element_iriEditor\").node().title= \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\n                d3.select(\"#element_labelEditor\").node().value = \"Subclass of\";\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n            }\n            if (element.type() === \"owl:Thing\") {\n                d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#Thing\";\n                d3.select(\"#element_iriEditor\").node().title= \"http://www.w3.org/2002/07/owl#Thing\";\n                d3.select(\"#element_labelEditor\").node().value = \"Thing\";\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n            }\n\n            if (element.type() === \"owl:disjointWith\") {\n                d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#disjointWith\";\n                d3.select(\"#element_iriEditor\").node().title= \"http://www.w3.org/2002/07/owl#disjointWith\";\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n            }\n\n            if (element.type() === \"rdfs:Literal\") {\n                d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\n                d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n                element.iri(\"http://www.w3.org/2000/01/rdf-schema#Literal\");\n            }\n            if (element.type() === \"rdfs:Datatype\") {\n                var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\");\n                d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", false);\n                element.iri(\"http://www.w3.org/2000/01/rdf-schema#Datatype\");\n                d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\n                d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n\n                datatypeEditorSelection.node().value = element.dType();\n                if (datatypeEditorSelection.node().value === \"undefined\") {\n                    d3.select(\"#element_iriEditor\").node().disabled = true; // always prevent IRI modifications\n                    d3.select(\"#element_labelEditor\").node().disabled = false;\n                }\n                // reconnect the element\n                datatypeEditorSelection.on(\"change\", function () {\n                    changeDatatypeType(element);\n                });\n            }\n\n            // add type selector\n            var typeEditorSelection = d3.select(\"#typeEditor\").node();\n            var htmlCollection = typeEditorSelection.children;\n            var numEntries = htmlCollection.length;\n            var i;\n            var elementPrototypes = getElementPrototypes(element);\n            for (i = 0; i < numEntries; i++)\n                typeEditorSelection.removeChild(htmlCollection[0]);\n\n            for (i = 0; i < elementPrototypes.length; i++) {\n                var optA = document.createElement('option');\n                optA.innerHTML = elementPrototypes[i];\n                typeEditorSelection.appendChild(optA);\n            }\n            // set the proper value in the selection\n            typeEditorSelection.value = element.type();\n            if (element.guiLabel() !== undefined)\n                typeEditorSelection.value = element.guiLabel();\n\n            d3.select(\"#typeEditor\").on(\"change\", function () {\n                elementTypeSelectionChanged(element);\n            });\n\n            //enable the selector just if its feature or feature ID. Otherwise is disable\n            if(element.type() == Global.FEATURE_ID.name ||\n                element.type() == Global.FEATURE.name){\n                typeEditorSelection.disabled = false;\n            }else{\n                typeEditorSelection.disabled = true;\n            }\n\n            if (graph.options().MDM()) {\n                d3.select(\"#element_iriEditor\").node().disabled = true;\n                d3.select(\"#element_labelEditor\").node().disabled = true;\n            }\n            // add characteristics selection\n            var needChar = false;\n            if(!graph.options().MDM())\n                needChar = elementNeedsCharacteristics(element);\n            d3.select(\"#property_characteristics_Container\").classed(\"hidden\", !needChar);\n            if (needChar === true) {\n                addElementsCharacteristics(element);\n            }\n            var fullURI=d3.select(\"#element_iriEditor\").node().value;\n            d3.select(\"#element_iriEditor\").node().value=prefixModule.getPrefixRepresentationForFullURI(fullURI);\n            d3.select(\"#element_iriEditor\").node().title=fullURI;\n            editSidebar.updateElementWidth();\n        }\n\n    };\n\n    editSidebar.updateGeneralOntologyInfo=function(){\n        var preferredLanguage = graph && graph.language ? graph.language() : null;\n\n      // get it from graph.options\n        var generalMetaObj=graph.options().getGeneralMetaObject();\n        if (generalMetaObj.hasOwnProperty(\"title\")) {\n            // title has language to it -.-\n            if (typeof generalMetaObj.title===\"object\") {\n                d3.select(\"#titleEditor\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\n            }else\n            d3.select(\"#titleEditor\").node().value = generalMetaObj.title;\n        }\n        if (generalMetaObj.hasOwnProperty(\"iri\"))     d3.select(\"#iriEditor\")    .node().value=generalMetaObj.iri;\n        if (generalMetaObj.hasOwnProperty(\"version\")) d3.select(\"#versionEditor\").node().value=generalMetaObj.version;\n        if (generalMetaObj.hasOwnProperty(\"author\"))  d3.select(\"#authorsEditor\").node().value=generalMetaObj.author;\n\n\n        if (generalMetaObj.hasOwnProperty(\"description\")){\n\n            if (typeof generalMetaObj.description===\"object\")\n                d3.select(\"#descriptionEditor\").node().value=\n                    languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\n            else\n                d3.select(\"#descriptionEditor\").node().value=generalMetaObj.description;\n        }\n        else\n            d3.select(\"#descriptionEditor\").node().value=\"No Description\";\n    };\n\n    editSidebar.updateElementWidth=function () {\n        var height = window.innerHeight - 40;\n        var lsb_offset=d3.select(\"#logo\").node().getBoundingClientRect().height+5;\n        var lsb_height=height-lsb_offset;\n        d3.select(\"#containerForLeftSideBar\").style(\"top\",lsb_offset+\"px\");\n        d3.select(\"#leftSideBarCollapseButton\").style(\"top\",lsb_offset+\"px\");\n        d3.select(\"#containerForLeftSideBar\").style(\"height\",lsb_height+\"px\");\n\n        var div_width = d3.select(\"#generalDetailsEdit\").node().getBoundingClientRect().width ;\n        div_width+=10;\n\n        var title_labelWidth   = d3.select(\"#titleEditor-label\"  ).node().getBoundingClientRect().width + 20;\n        var iri_labelWidth     = d3.select(\"#iriEditor-label\"    ).node().getBoundingClientRect().width + 20;\n        var version_labelWidth = d3.select(\"#versionEditor-label\").node().getBoundingClientRect().width + 20;\n        var author_labelWidth  = d3.select(\"#authorsEditor-label\").node().getBoundingClientRect().width + 20;\n        //find max width;\n        var maxW = 0;\n        maxW = Math.max(maxW, title_labelWidth);\n        maxW = Math.max(maxW, iri_labelWidth);\n        maxW = Math.max(maxW, version_labelWidth);\n        maxW = Math.max(maxW, author_labelWidth);\n\n        var meta_inputWidth = div_width - maxW - 10;\n\n        d3.select(\"#titleEditor\"  ).style(\"width\", meta_inputWidth + \"px\");\n        d3.select(\"#iriEditor\"    ).style(\"width\", meta_inputWidth + \"px\");\n        d3.select(\"#versionEditor\").style(\"width\", meta_inputWidth + \"px\");\n        d3.select(\"#authorsEditor\").style(\"width\", meta_inputWidth + \"px\");\n\n\n        var elementIri_width   = d3.select(\"#element_iriEditor-label\"   ).node().getBoundingClientRect().width + 20;\n        var elementLabel_width = d3.select(\"#element_labelEditor-label\" ).node().getBoundingClientRect().width + 20;\n        var elementType_width  = d3.select(\"#typeEditor-label\"          ).node().getBoundingClientRect().width + 20;\n        var elementDType_width = d3.select(\"#typeEditor_datatype-label\" ).node().getBoundingClientRect().width + 20;\n\n        maxW=0;\n        maxW = Math.max(maxW, elementIri_width);\n        maxW = Math.max(maxW, elementLabel_width);\n        maxW = Math.max(maxW, elementType_width);\n        maxW = Math.max(maxW, elementDType_width);\n        var selectedElement_inputWidth = div_width - maxW - 10;\n\n        d3.select(\"#element_iriEditor\"    ).style(\"width\", selectedElement_inputWidth + \"px\");\n        d3.select(\"#element_labelEditor\"  ).style(\"width\", selectedElement_inputWidth + \"px\");\n        d3.select(\"#typeEditor\"           ).style(\"width\", selectedElement_inputWidth+4 + \"px\");\n        d3.select(\"#typeEditor_datatype\"  ).style(\"width\", selectedElement_inputWidth+4 + \"px\");\n\n        // update prefix Element width;\n        var containerWidth=d3.select(\"#containerForPrefixURL\").node().getBoundingClientRect().width;\n        if (containerWidth!==0) {\n            var inputs=d3.selectAll(\".prefixInput\");\n            if (inputs.node()) {\n                var prefixWidth= d3.selectAll(\".prefixInput\").node().getBoundingClientRect().width;\n                d3.selectAll(\".prefixURL\").style(\"width\", containerWidth - prefixWidth - 45 + \"px\");\n            }\n        }\n    };\n\n    function addElementsCharacteristics(element){\n        // save selected element for checkbox handler\n        selectedElementForCharacteristics=element;\n        var i;\n        // KILL old elements\n        var charSelectionNode=d3.select(\"#property_characteristics_Selection\");\n        var htmlCollection = charSelectionNode.node().children;\n        if (htmlCollection) {\n            var numEntries = htmlCollection.length;\n            for (var q = 0; q < numEntries; q++) {\n                charSelectionNode.node().removeChild(htmlCollection[0]);\n            }\n        }\n        // datatypes kind of ignored by the elementsNeedCharacteristics function\n        // so we need to check if we are a node or not\n        if (element.attributes().indexOf(\"external\")>-1){\n            // add external span to the div;\n            var externalCharSpan=charSelectionNode.append(\"span\");\n            externalCharSpan.classed(\"spanForCharSelection\",true);\n            externalCharSpan.node().innerHTML=\"external\";\n        }\n        var filterContainer,\n            filterCheckbox;\n        if (elementTools.isNode(element)===true){\n            // add the deprecated characteristic;\n            var arrayOfNodeChars=[\"deprecated\"];\n            for (i=0;i<arrayOfNodeChars.length;i++){\n                filterContainer = charSelectionNode\n                    .append(\"div\")\n                    .classed(\"checkboxContainer\", true)\n                    .style(\"padding-top\",\"2px\");\n\n                filterCheckbox = filterContainer.append(\"input\")\n                    .classed(\"filterCheckbox\", true)\n                    .attr(\"id\", \"CharacteristicsCheckbox\"+i)\n                    .attr(\"type\", \"checkbox\")\n                    .attr(\"characteristics\", arrayOfNodeChars[i])\n                    .property(\"checked\", getPresentAttribute(element,arrayOfNodeChars[i]));\n                //\n                filterContainer.append(\"label\")\n                    .attr(\"for\", \"CharacteristicsCheckbox\"+i)\n                    .text(arrayOfNodeChars[i]);\n\n                filterCheckbox.on(\"click\", handleCheckBoxClick);\n\n            }\n        }\n\n        else{\n            // add the deprecated characteristic;\n            var arrayOfPropertyChars=[\"deprecated\",\"inverse functional\", \"functional\", \"transitive\"];\n            if (elementTools.isDatatypeProperty(element)===true){\n                arrayOfPropertyChars=[\"deprecated\", \"functional\"];\n            }\n            for (i=0;i<arrayOfPropertyChars.length;i++){\n                filterContainer = charSelectionNode\n                    .append(\"div\")\n                    .classed(\"checkboxContainer\", true)\n                    .style(\"padding-top\",\"2px\");\n\n                filterCheckbox = filterContainer.append(\"input\")\n                    .classed(\"filterCheckbox\", true)\n                    .attr(\"id\", \"CharacteristicsCheckbox\"+i)\n                    .attr(\"type\", \"checkbox\")\n                    .attr(\"characteristics\", arrayOfPropertyChars[i])\n                    .property(\"checked\", getPresentAttribute(element,arrayOfPropertyChars[i]));\n                //\n                filterContainer.append(\"label\")\n                    .attr(\"for\", \"CharacteristicsCheckbox\"+i)\n                    .text(arrayOfPropertyChars[i]);\n\n                filterCheckbox.on(\"click\", handleCheckBoxClick);\n\n            }\n        }\n\n\n    }\n\n    function getPresentAttribute(selectedElement,element){\n        return (selectedElement.attributes().indexOf(element)>=0);\n    }\n\n    function handleCheckBoxClick(){\n        var checked=this.checked;\n        var char=this.getAttribute(\"characteristics\");\n        if (checked===true){\n            addAttribute(selectedElementForCharacteristics,char);\n        }else{\n            removeAttribute(selectedElementForCharacteristics,char);\n        }\n        // graph.executeColorExternalsModule();\n        selectedElementForCharacteristics.redrawElement();\n        // workaround to have the node still be focused as rendering element\n        selectedElementForCharacteristics.focused(false);\n        selectedElementForCharacteristics.toggleFocus();\n\n    }\n\n\n    function addAttribute(selectedElement,char){\n        if (selectedElement.attributes().indexOf(char) === -1) {\n            // not found add it\n            var attr = selectedElement.attributes();\n            attr.push(char);\n            selectedElement.attributes(attr);\n        }// indications string update;\n        if (selectedElement.indications().indexOf(char) === -1) {\n           var indications = selectedElement.indications();\n           indications.push(char);\n           selectedElement.indications(indications);\n        }\n        // add visual attributes\n        var visAttr;\n        if (selectedElement.visualAttributes().indexOf(char) === -1) {\n            visAttr= selectedElement.visualAttributes();\n            visAttr.push(char);\n            selectedElement.visualAttributes(visAttr);\n        }\n        if (getPresentAttribute(selectedElement,\"external\") && getPresentAttribute(selectedElement,\"deprecated\")){\n            visAttr = selectedElement.visualAttributes();\n            var visInd=visAttr.indexOf(\"external\");\n            if (visInd>-1) {\n                visAttr.splice(visInd, 1);\n            }\n            selectedElement.visualAttributes(visAttr);\n        }\n\n    }\n\n    function removeAttribute(selectedElement,element) {\n        var attr = selectedElement.attributes();\n        var indications = selectedElement.indications();\n        var visAttr = selectedElement.visualAttributes();\n        var attrInd = attr.indexOf(element);\n        if (attrInd >= 0) {\n            attr.splice(attrInd, 1);\n        }\n        var indInd = indications.indexOf(element);\n        if (indInd > -1) {\n            indications.splice(indInd, 1);\n        }\n        var visInd = visAttr.indexOf(element);\n        if (visInd > -1) {\n            visAttr.splice(visInd, 1);\n        }\n        selectedElement.attributes(attr);\n        selectedElement.indications(indications);\n        selectedElement.visualAttributes(visAttr);\n        if (element === \"deprecated\") {\n            // set its to its original Style\n            //typeBaseThign\n            // todo : fix all different types\n            if (selectedElement.type() === \"owl:Class\") selectedElement.styleClass(\"class\");\n            if (selectedElement.type() === \"owl:DatatypeProperty\") selectedElement.styleClass(\"datatypeproperty\");\n            if (selectedElement.type() === \"owl:ObjectProperty\") selectedElement.styleClass(\"objectproperty\");\n            if (selectedElement.type() === \"owl:disjointWith\") selectedElement.styleClass(\"disjointwith\");\n        }\n    }\n\n\n    function elementNeedsCharacteristics(element){\n        //TODO: Add more types\n        if ( element.type()===\"owl:Thing\" ||\n                    element.type()===\"rdfs:subClassOf\" ||\n                    element.type()===\"rdfs:Literal\" ||\n                    element.type()===\"rdfs:Datatype\" ||\n                    element.type()===\"rdfs:disjointWith\")\n            return false;\n\n        // if (element.attributes().indexOf(\"external\")||\n        //     element.attributes().indexOf(\"deprecated\"))\n        //     return true;\n       return true;\n\n    }\n\n    function elementTypeSelectionChanged(element) {\n        if (elementTools.isNode(element)){\n            if ( graph.changeNodeType(element)===false) {\n                //restore old value\n\n                if (elementTools.isDatatype(element)===true){\n\n                }\n                editSidebar.updateSelectionInformation(element);\n            }\n        }\n\n        if (elementTools.isProperty(element)){\n            if (graph.changePropertyType(element)===false){\n                //restore old value\n                editSidebar.updateSelectionInformation(element);\n\n            }\n        }\n\n    }\n    \n    function getElementPrototypes(selectedElement){\n        var availiblePrototypes=[];\n        // TODO the text should be also complied with the prefixes loaded into the ontology\n        if (elementTools.isProperty(selectedElement)){\n            if (selectedElement.type()===\"owl:DatatypeProperty\")\n                availiblePrototypes.push(\"owl:DatatypeProperty\");\n            else\n            {\n                availiblePrototypes = options.supportedProperties();\n                //MDM_TODO: possible error of webvowl, options define property as \"objectProperty\" but here start with Uppercase\n                //          ObjectProperty just works for property with source and target to same node.\n                availiblePrototypes.push(\"owl:ObjectProperty\");\n\n                // handling loops !\n                // if (selectedElement.domain()!==selectedElement.range()) {\n                //     availiblePrototypes.push(\"rdfs:subClassOf\");\n                // }\n                if (selectedElement.domain() === selectedElement.range())\n                    availiblePrototypes.splice(availiblePrototypes.indexOf('rdfs:subClassOf'), 1 )\n\n                // availiblePrototypes.push(\"owl:disjointWith\");\n                // availiblePrototypes.push(\"owl:allValuesFrom\");\n                // availiblePrototypes.push(\"owl:someValuesFrom\");\n\n            }\n            return availiblePrototypes;\n        }\n        if(selectedElement.renderType()===\"rect\"){\n            availiblePrototypes.push(\"rdfs:Literal\");\n            availiblePrototypes.push(\"rdfs:Datatype\");\n        }else {\n\n            if(graph.options().MDM()){\n\n                //If element is a feature or feature ID, we push both options since\n                // these types are interchangeable. Otherwise we just push the element type\n                // since that element cannot change its type\n\n                if(selectedElement.type() == Global.FEATURE.name ||\n                    selectedElement.type() == Global.FEATURE_ID.name){\n                    availiblePrototypes.push(Global.FEATURE.gui_name);\n                    availiblePrototypes.push(Global.FEATURE_ID.gui_name);\n                }else{\n                    availiblePrototypes.push(selectedElement.guiLabel());\n                }\n            }else{\n                availiblePrototypes = options.supportedClasses();\n            }\n\n\n\n            // availiblePrototypes.push(\"owl:Class\");\n            // availiblePrototypes.push(\"owl:Thing\");\n            //  TODO: ADD MORE TYPES\n            // availiblePrototypes.push(\"owl:complementOf\");\n            // availiblePrototypes.push(\"owl:disjointUnionOf\");\n        }\n        return availiblePrototypes;\n    }\n\n\n    function setupCollapsing() {\n        // TODO : Decision , for now I want to have the control over the collapse expand operation of the\n        // TODO : elements, otherwise the old approach will also randomly collapse other containers\n\n        // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n        function collapseContainers(containers) {\n            containers.classed(\"hidden\", true);\n        }\n\n        function expandContainers(containers) {\n            containers.classed(\"hidden\", false);\n        }\n\n        var triggers = d3.selectAll(\".accordion-trigger\");\n\n        // Collapse all inactive triggers on startup\n        // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n\n        triggers.on(\"click\", function () {\n            var selectedTrigger = d3.select(this);\n            if (selectedTrigger.classed(\"accordion-trigger-active\")) {\n                // Collapse the active (which is also the selected) trigger\n                collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n                selectedTrigger.classed(\"accordion-trigger-active\", false);\n            } else {\n                // Collapse the other trigger ...\n                // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n\n                // ... and expand the selected one\n                expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n                selectedTrigger.classed(\"accordion-trigger-active\", true);\n            }\n            editSidebar.updateElementWidth();\n        });\n    }\n    return editSidebar;\n};\n","require(\"../css/toolstyle.css\");\nrequire(\"./browserWarning\");\n\nmodule.exports = require(\"./app\");\n","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar leftSidebar = {},\n\t\tlanguageTools = webvowl.util.languageTools(),\n\t\telementTools = webvowl.util.elementTools();\n    var collapseButton = d3.select(\"#leftSideBarCollapseButton\");\n    var visibleSidebar=0;\n    var backupVisibility=0;\n    var sideBarContent = d3.select(\"#leftSideBarContent\");\n    var sideBarContainer = d3.select(\"#containerForLeftSideBar\");\n    var defaultClassSelectionContainers=[];\n    var defaultDatatypeSelectionContainers=[];\n    var defaultPropertySelectionContainers=[];\n\n\tleftSidebar.setup=function(){\n        setupCollapsing();\n        leftSidebar.initSideBarAnimation();\n\n        collapseButton.on(\"click\",function(){\n            graph.options().navigationMenu().hideAllMenus();\n            var settingValue=parseInt(leftSidebar.getSidebarVisibility());\n            if (settingValue===0) leftSidebar.showSidebar(1);\n            else                  leftSidebar.showSidebar(0);\n            backupVisibility=settingValue;\n        });\n\n        setupSelectionContainers();\n        d3.select(\"#WarningErrorMessages\").node().addEventListener(\"animationend\", function () {\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\",\"none\");\n        });\n\n\t};\n\n\tleftSidebar.hideCollapseButton=function(val){\n\t    sideBarContainer.classed(\"hidden\",val);\n    };\n\n\n\tfunction unselectAllElements(container){\n\t    for (var i=0;i<container.length;i++)\n            container[i].classed(\"defaultSelected\",false);\n    }\n    function selectThisDefaultElement(element){\n        d3.select(element).classed(\"defaultSelected\",true);\n    }\n    function updateDefaultNameInAccordion(element, identifier){\n        var elementDescription=\"\";\n        if (identifier===\"defaultClass\") elementDescription=\"Class: \";\n        if (identifier===\"defaultDatatype\") elementDescription=\"Datatype: \";\n        if (identifier===\"defaultProperty\") elementDescription=\"Property: \";\n\n        d3.select(\"#\"+identifier).node().innerHTML=elementDescription+element.innerHTML;\n        d3.select(\"#\"+identifier).node().title=element.innerHTML;\n    }\n\n    function classSelectorFunction(){\n        unselectAllElements(defaultClassSelectionContainers);\n        selectThisDefaultElement(this);\n        updateDefaultNameInAccordion(this,\"defaultClass\");\n    }\n    function datatypeSelectorFunction(){\n        unselectAllElements(defaultDatatypeSelectionContainers);\n        selectThisDefaultElement(this);\n        updateDefaultNameInAccordion(this,\"defaultDatatype\");\n    }\n    function propertySelectorFunction(){\n        unselectAllElements(defaultPropertySelectionContainers);\n        selectThisDefaultElement(this);\n        updateDefaultNameInAccordion(this,\"defaultProperty\");\n    }\n\n    function firstElement(array) {\n        if(array.length>1)\n            return array[0];\n        return \"\";\n    }\n\n\n\tfunction setupSelectionContainers(){\n        var classContainer    = d3.select(\"#classContainer\");\n        // var datatypeContainer = d3.select(\"#datatypeContainer\");\n        // var propertyContainer = d3.select(\"#propertyContainer\");\n        // create the supported elements\n\n        var supportedClasses=graph.options().supportedClasses();\n        // var supportedDatatypes=graph.options().supportedDatatypes();\n        // var supportedProperties=graph.options().supportedProperties();\n\n        // Choose the first element in array and set up as default\n        var defaultClass= firstElement(supportedClasses)\n        // var defaultDatatype= firstElement(supportedDatatypes)\n        // var defaultProperty= firstElement(supportedProperties)\n        var i;\n\n        for (i=0;i<supportedClasses.length;i++){\n            var aClassSelectionContainer;\n            aClassSelectionContainer=classContainer.append(\"div\");\n            aClassSelectionContainer.classed(\"containerForDefaultSelection\",true);\n            aClassSelectionContainer.classed(\"noselect\",true);\n            aClassSelectionContainer.node().id=\"selectedClass\"+supportedClasses[i];\n            aClassSelectionContainer.node().innerHTML=supportedClasses[i];\n\n            if (supportedClasses[i]===defaultClass){\n                selectThisDefaultElement(aClassSelectionContainer.node());\n                updateDefaultNameInAccordion(aClassSelectionContainer.node(),\"defaultClass\");\n            }\n            aClassSelectionContainer.on(\"click\", classSelectorFunction);\n            defaultClassSelectionContainers.push(aClassSelectionContainer);\n        }\n\n        // for (i=0;i<supportedDatatypes.length;i++){\n        //     var aDTSelectionContainer=datatypeContainer.append(\"div\");\n        //     aDTSelectionContainer.classed(\"containerForDefaultSelection\",true);\n        //     aDTSelectionContainer.classed(\"noselect\",true);\n        //     aDTSelectionContainer.node().id=\"selectedDatatype\"+supportedDatatypes[i];\n        //     aDTSelectionContainer.node().innerHTML=supportedDatatypes[i];\n        //\n        //     if (supportedDatatypes[i]===defaultDatatype){\n        //         selectThisDefaultElement(aDTSelectionContainer.node());\n        //         updateDefaultNameInAccordion(aDTSelectionContainer.node(),\"defaultDatatype\");\n        //     }\n        //     aDTSelectionContainer.on(\"click\",datatypeSelectorFunction);\n        //     defaultDatatypeSelectionContainers.push(aDTSelectionContainer);\n        // }\n        // for (i=0;i<supportedProperties.length;i++){\n        //    var aPropSelectionContainer=propertyContainer.append(\"div\");\n        //     aPropSelectionContainer.classed(\"containerForDefaultSelection\",true);\n        //     aPropSelectionContainer.classed(\"noselect\",true);\n        //     aPropSelectionContainer.node().id=\"selectedClass\"+supportedProperties[i];\n        //     aPropSelectionContainer.node().innerHTML=supportedProperties[i];\n        //     aPropSelectionContainer.on(\"click\",propertySelectorFunction);\n        //     if (supportedProperties[i]===defaultProperty){\n        //         selectThisDefaultElement(aPropSelectionContainer.node());\n        //         updateDefaultNameInAccordion(aPropSelectionContainer.node(),\"defaultProperty\");\n        //     }\n        //     defaultPropertySelectionContainers.push(aPropSelectionContainer);\n        // }\n    }\n\n    function setupCollapsing() {\n        // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n        function collapseContainers(containers) {\n            containers.classed(\"hidden\", true);\n        }\n\n        function expandContainers(containers) {\n            containers.classed(\"hidden\", false);\n        }\n\n        var triggers = d3.selectAll(\".accordion-trigger\");\n\n        // Collapse all inactive triggers on startup\n        // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n\n        triggers.on(\"click\", function () {\n            var selectedTrigger = d3.select(this);\n            if (selectedTrigger.classed(\"accordion-trigger-active\")) {\n                // Collapse the active (which is also the selected) trigger\n                collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n                selectedTrigger.classed(\"accordion-trigger-active\", false);\n            } else {\n                // Collapse the other trigger ...\n                // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n                // activeTriggers.classed(\"accordion-trigger-active\", false);\n                // ... and expand the selected one\n                expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n                selectedTrigger.classed(\"accordion-trigger-active\", true);\n            }\n        });\n    }\n\n\n    leftSidebar.isSidebarVisible=function(){return visibleSidebar;};\n\n    leftSidebar.updateSideBarVis=function(init){\n        var vis=leftSidebar.getSidebarVisibility();\n        leftSidebar.showSidebar(parseInt(vis),init);\n    };\n\n    leftSidebar.initSideBarAnimation=function() {\n           sideBarContainer.node().addEventListener(\"animationend\", function () {\n            sideBarContent.classed(\"hidden\", !visibleSidebar);\n            if (visibleSidebar === true) {\n                sideBarContainer.style(\"width\", \"200px\");\n                sideBarContent.classed(\"hidden\",false);\n                d3.select(\"#leftSideBarCollapseButton\").style(\"left\",\"200px\");\n                d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\",false);\n                d3.select(\"#WarningErrorMessages\").style(\"left\",\"100px\");\n               }\n            else {\n                sideBarContainer.style(\"width\", \"0px\");\n                d3.select(\"#leftSideBarCollapseButton\").style(\"left\",\"0px\");\n                d3.select(\"#WarningErrorMessages\").style(\"left\",\"0px\");\n                d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\",false);\n\n            }\n            graph.updateCanvasContainerSize();\n            graph.options().navigationMenu().updateScrollButtonVisibility();\n        });\n    };\n\n    leftSidebar.showSidebar=function(val,init){\n        // make val to bool\n        var collapseButton= d3.select(\"#leftSideBarCollapseButton\");\n        if (init===true){\n            visibleSidebar=(backupVisibility===0);\n            sideBarContent.classed(\"hidden\", !visibleSidebar);\n            sideBarContainer.style(\"-webkit-animation-name\",\"none\");\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\",\"none\");\n            if (visibleSidebar === true) {\n                sideBarContainer.style(\"width\", \"200px\");\n                sideBarContent.classed(\"hidden\",false);\n                d3.select(\"#leftSideBarCollapseButton\").style(\"left\",\"200px\");\n                d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\",false);\n                d3.select(\"#WarningErrorMessages\").style(\"left\",\"100px\");\n                collapseButton.node().innerHTML=\"<\";\n            }\n\n            else {\n                sideBarContainer.style(\"width\", \"0px\");\n                d3.select(\"#WarningErrorMessages\").style(\"left\",\"0px\");\n                d3.select(\"#leftSideBarCollapseButton\").style(\"left\",\"0px\");\n                d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\",false);\n                collapseButton.node().innerHTML=\">\";\n            }\n\n            graph.updateCanvasContainerSize();\n            graph.options().navigationMenu().updateScrollButtonVisibility();\n            return;\n        }\n\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\",true);\n\n        if (val===1) {\n            visibleSidebar=true;\n            collapseButton.node().innerHTML=\"<\";\n            // call expand animation;\n            sideBarContainer .style(\"-webkit-animation-name\",\"l_sbExpandAnimation\");\n            sideBarContainer .style(\"-webkit-animation-duration\",\"0.5s\");\n            // prepare the animation;\n\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\",\"warn_ExpandLeftBarAnimation\");\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\",\"0.5s\");\n\n        }\n        if (val===0) {\n            visibleSidebar = false;\n            sideBarContent.classed(\"hidden\", true);\n            collapseButton.node().innerHTML = \">\";\n            // call collapse animation\n            sideBarContainer .style(\"-webkit-animation-name\",\"l_sbCollapseAnimation\");\n            sideBarContainer .style(\"-webkit-animation-duration\",\"0.5s\");\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\",\"warn_CollapseLeftBarAnimation\");\n            d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\",\"0.5s\");\n            d3.select(\"#WarningErrorMessages\").style(\"left\",\"0\");\n        }\n\n    };\n\n    leftSidebar.getSidebarVisibility=function(){\n        var isHidden=sideBarContent.classed(\"hidden\");\n        if (isHidden===false) return String(1);\n        if (isHidden===true) return String(0);\n    };\n\n    return leftSidebar;\n};\n","module.exports =  function (graph) {\n    /** some constants **/\n    var PREDEFINED  = 0,\n        FILE_UPLOAD = 1,\n        JSON_URL    = 2,\n        IRI_URL     = 3,\n        MDM_DB      = 4;\n\n    var PROGRESS_BAR_ERROR=0,\n        PROGRESS_BAR_BUSY=1,\n        PROGRESS_BAR_PERCENT=2,\n        progressBarMode=1;\n\n    var loadingWasSuccessFul=false;\n    var missingImportsWarning=false;\n    var showLoadingDetails=false;\n    var visibilityStatus=true;\n\n    var DEFAULT_JSON_NAME = \"mdm_template\"; // This file is loaded by default\n    var conversion_sessionId;\n    var currentGlobalGraph;\n    var currentSubGraph;\n\n    /** variable defs **/\n    var loadingModule={},\n        menuContainer=d3.select(\"#loading-info\"),\n        loadingInfoContainer=d3.select(\"#loadingInfo-container\"),\n        detailsButton=d3.select(\"#show-loadingInfo-button\"),\n        closeButton= d3.select(\"#loadingIndicator_closeButton\"),\n        ontologyMenu,\n        ontologyIdentifierFromURL;\n\n    /** functon defs **/\n    loadingModule.checkForScreenSize=function(){\n        // checks for window size and adjusts the loading indicator\n        var w=graph.options().width(),\n        h=graph.options().height();\n\n        if (w<270){\n            d3.select(\"#loading-info\").classed(\"hidden\",true);\n        } else {\n            // check if it should be visible\n            if (visibilityStatus===true){\n              d3.select(\"#loading-info\").classed(\"hidden\",false);\n            } else{\n              d3.select(\"#loading-info\").classed(\"hidden\",true);\n            }\n        }\n        if (h<150) {\n            d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", true);\n        }else {\n            d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", false);\n        }\n        if (h<80) {\n            d3.select(\"#progressBarContext\").classed(\"hidden\", true);\n            d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\",\"20px\");\n        }else {\n            d3.select(\"#progressBarContext\").classed(\"hidden\", false);\n            d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\",\"50px\");\n        }\n    };\n\n    loadingModule.getProgressBarMode=function(){\n        return progressBarMode;\n    };\n\n    loadingModule.successfullyLoadedOntology=function(){\n        return loadingWasSuccessFul;\n    };\n\n    loadingModule.missingImportsWarning=function(){\n        return missingImportsWarning;\n    };\n\n    loadingModule.setOntologyMenu=function(m){\n        ontologyMenu=m;\n    };\n\n    loadingModule.showErrorDetailsMessage=function(){\n        loadingModule.showLoadingIndicator();\n        loadingModule.expandDetails();\n        d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\",true);\n        loadingModule.scrollDownDetails();\n    };\n\n    loadingModule.showWarningDetailsMessage=function(){\n        d3.select(\"#currentLoadingStep\").style(\"color\",\"#ff0\");\n        loadingModule.showLoadingIndicator();\n        loadingModule.expandDetails();\n        d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\",false);\n        loadingModule.scrollDownDetails();\n    };\n\n    loadingModule.scrollDownDetails=function(){\n        var scrollingElement=d3.select(\"#loadingInfo-container\").node();\n        scrollingElement.scrollTop = scrollingElement.scrollHeight;\n    };\n\n    loadingModule.hideLoadingIndicator=function(){\n        d3.select(\"#loading-info\").classed(\"hidden\",true);\n        visibilityStatus=false;\n    };\n\n    loadingModule.showLoadingIndicator=function(){\n        d3.select(\"#loading-info\").classed(\"hidden\",false);\n        visibilityStatus=true;\n\n    };\n\n    /** -- SETUP -- **/\n    loadingModule.setup=function(){\n        // create connections for close and details button;\n        loadingInfoContainer.classed(\"hidden\",!showLoadingDetails);\n        detailsButton.on(\"click\",function(){\n            showLoadingDetails=!showLoadingDetails;\n            loadingInfoContainer.classed(\"hidden\",!showLoadingDetails);\n            detailsButton.classed(\"accordion-trigger-active\",showLoadingDetails);\n        });\n\n        closeButton.on(\"click\",function(){\n            menuContainer.classed(\"hidden\",true);\n        });\n        loadingModule.setBusyMode();\n    };\n\n    loadingModule.updateSize=function(){\n        showLoadingDetails=!(loadingInfoContainer.classed(\"hidden\"));\n        loadingInfoContainer.classed(\"hidden\",!showLoadingDetails);\n        detailsButton.classed(\"accordion-trigger-active\",showLoadingDetails);\n    };\n\n    loadingModule.getDetailsState=function(){\n        return showLoadingDetails;\n    };\n\n    loadingModule.expandDetails=function(){\n        showLoadingDetails=true;\n        loadingInfoContainer.classed(\"hidden\",!showLoadingDetails);\n        detailsButton.classed(\"accordion-trigger-active\",showLoadingDetails);\n    };\n\n    loadingModule.collapseDetails=function(){\n        showLoadingDetails=false;\n        loadingInfoContainer.classed(\"hidden\",!showLoadingDetails);\n        detailsButton.classed(\"accordion-trigger-active\",showLoadingDetails);\n    };\n\n    loadingModule.setBusyMode=function(){\n        d3.select(\"#currentLoadingStep\").style(\"color\",\"#fff\");\n        d3.select(\"#progressBarValue\").node().innherHTML=\"\";\n        d3.select(\"#progressBarValue\").style(\"width\",\"20%\");\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\",true);\n        progressBarMode=PROGRESS_BAR_BUSY;\n    };\n\n    loadingModule.setSuccessful=function(){\n        d3.select(\"#currentLoadingStep\").style(\"color\",\"#0f0\");\n    };\n\n    loadingModule.setErrorMode=function(){\n        d3.select(\"#currentLoadingStep\").style(\"color\",\"#f00\");\n        d3.select(\"#progressBarValue\").style(\"width\",\"0%\");\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\",false);\n        d3.select(\"#progressBarValue\").node().innherHTML=\"\";\n        progressBarMode=PROGRESS_BAR_ERROR;\n    };\n\n    loadingModule.setPercentMode=function(){\n        d3.select(\"#currentLoadingStep\").style(\"color\",\"#fff\");\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\",false);\n        d3.select(\"#progressBarValue\").node().innherHTML=\"0%\";\n        d3.select(\"#progressBarValue\").style(\"width\",\"0%\");\n        progressBarMode=PROGRESS_BAR_PERCENT;\n    };\n\n    loadingModule.setPercentValue=function(val){\n        d3.select(\"#progressBarValue\").node().innherHTML=val;\n    };\n\n    loadingModule.emptyGraphContentError=function(){\n        console.log(\"loadingModule.emptyGraphContentError\")\n        graph.clearGraphData();\n        ontologyMenu.append_message_toLastBulletPoint(\"<span style='color:red;'>failed</span>\");\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">Error: Received empty graph</span>\");\n        loadingWasSuccessFul=false;\n        graph.handleOnLoadingError();\n        loadingModule.setErrorMode();\n    };\n\n    loadingModule.isThreadCanceled=function(){\n\n    };\n\n    loadingModule.initializeLoader=function(storeCache){\n     if (storeCache===true && graph.getCachedJsonObj()!==null){\n            // save cached ontology;\n            var cachedContent=JSON.stringify(graph.getCachedJsonObj());\n            var cachedName=ontologyIdentifierFromURL;\n            ontologyMenu.setCachedOntology(cachedName,cachedContent);\n        }\n        conversion_sessionId=-10000;\n        ontologyMenu.setConversionID(conversion_sessionId);\n        ontologyMenu.stopLoadingTimer();\n        graph.clearGraphData();\n        loadingModule.setBusyMode();\n        loadingModule.showLoadingIndicator();\n        loadingModule.collapseDetails();\n        missingImportsWarning=false;\n        d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\",true);\n        ontologyMenu.clearDetailInformation();\n    };\n\n    /** ------------------ URL Interpreter -------------- **/\n    loadingModule.parseUrlAndLoadOntology=function(storeCache) {\n        var autoStore=true;\n        if (storeCache===false){\n            autoStore=false;\n        }\n        retrieveGraph();\n        graph.clearAllGraphData();\n        loadingModule.initializeLoader(autoStore);\n        var urlString = String(location);\n        var parameterArray=identifyParameter(urlString);\n        ontologyIdentifierFromURL=DEFAULT_JSON_NAME;\n        loadGraphOptions(parameterArray); // identifies and loads configuration values\n        var loadingMethod= identifyOntologyLoadingMethod(ontologyIdentifierFromURL);\n        d3.select(\"#progressBarValue\").node().innerHTML=\" \";\n\n        switch (loadingMethod) {\n            case 0:\n                loadingModule.from_presetOntology(ontologyIdentifierFromURL);break;\n            case 1:\n                loadingModule.from_FileUpload(ontologyIdentifierFromURL);break;\n            case 2:\n                loadingModule.from_JSON_URL(ontologyIdentifierFromURL);break;\n            case 3:\n                loadingModule.from_IRI_URL(ontologyIdentifierFromURL);break;\n            case 4:\n                loadingModule.from_MDM_DB();break;\n            default:\n                console.log(\"Could not identify loading method , or not IMPLEMENTED YET\");\n        }\n\n\n    };\n\n\n    /** ------------------- LOADING --------------------- **/\n    // the loading module splits into 3 branches\n    // 1] PresetOntology Loading\n    // 2] File Upload\n    // 3] Load From URL / IRI\n\n    loadingModule.from_JSON_URL=function(fileName){\n        var filename = decodeURIComponent(fileName.slice(\"url=\".length));\n        ontologyIdentifierFromURL=filename;\n\n        var ontologyContent=\"\";\n        if (ontologyMenu.cachedOntology(filename)) {\n            ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n            ontologyContent = ontologyMenu.cachedOntology(filename);\n            loadingWasSuccessFul = true; // cached Ontology should be true;\n            parseOntologyContent(ontologyContent);\n\n        }else{\n            // involve the o2v conveter;\n            ontologyMenu.append_message(\"Retrieving ontology from JSON URL \" + filename);\n            requestServerTimeStampForJSON_URL(ontologyMenu.callbackLoad_JSON_FromURL,[\"read?json=\"+filename,filename]);\n        }\n    };\n\n    function requestServerTimeStampForJSON_URL(callback,parameter){\n        d3.xhr(\"serverTimeStamp\", \"application/text\", function (error, request) {\n            if (error){\n                // could not get server timestamp -> no connection to owl2vowl\n                ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n                fallbackForJSON_URL(callback,parameter);\n            }else {\n                conversion_sessionId = request.responseText;\n                ontologyMenu.setConversionID(conversion_sessionId);\n                parameter.push(conversion_sessionId);\n                callback(parameter);\n            }\n        });\n\n    }\n\n    loadingModule.requestServerTimeStampForDirectInput=function(callback,text){\n        d3.xhr(\"serverTimeStamp\", \"application/text\", function (error, request) {\n            if (error){\n                // could not get server timestamp -> no connection to owl2vowl\n                ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n                loadingModule.setErrorMode();\n                ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n                loadingModule.showErrorDetailsMessage();\n                d3.select(\"#progressBarValue\").style(\"width\",\"0%\");\n                d3.select(\"#progressBarValue\").classed(\"busyProgressBar\",false);\n                d3.select(\"#progressBarValue\").text(\"0%\");\n\n            }else {\n                conversion_sessionId = request.responseText;\n                ontologyMenu.setConversionID(conversion_sessionId);\n                callback(text,[\"conversionID\"+conversion_sessionId,conversion_sessionId]);\n            }\n        });\n    };\n\n    loadingModule.from_IRI_URL=function(fileName){\n        // owl2vowl converters the given ontology url and returns json file;\n        var filename = decodeURIComponent(fileName.slice(\"iri=\".length));\n        ontologyIdentifierFromURL=filename;\n\n        var ontologyContent=\"\";\n        if (ontologyMenu.cachedOntology(filename)) {\n            ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n            ontologyContent = ontologyMenu.cachedOntology(filename);\n            loadingWasSuccessFul = true; // cached Ontology should be true;\n            parseOntologyContent(ontologyContent);\n        }else{\n            // involve the o2v conveter;\n            var encoded=encodeURIComponent(filename);\n            ontologyMenu.append_bulletPoint(\"Retrieving ontology from IRI: \" + filename);\n            requestServerTimeStampForIRI_Converte(ontologyMenu.callbackLoad_Ontology_FromIRI,[\"convert?iri=\"+encoded,filename]);\n        }\n    };\n\n    loadingModule.from_FileUpload=function(fileName){\n        loadingModule.setBusyMode();\n        var filename = decodeURIComponent(fileName.slice(\"file=\".length));\n        ontologyIdentifierFromURL=filename;\n        var ontologyContent=\"\";\n        if (ontologyMenu.cachedOntology(filename)) {\n            ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n            ontologyContent = ontologyMenu.cachedOntology(filename);\n            loadingWasSuccessFul = true; // cached Ontology should be true;\n            parseOntologyContent(ontologyContent);\n\n        }else{\n            // d3.select(\"#currentLoadingStep\").node().innerHTML=\"Loading ontology from file \"+ filename;\n            ontologyMenu.append_bulletPoint(\"Retrieving ontology from file: \"+ filename);\n            // get the file\n            var selectedFile = d3.select(\"#file-converter-input\").property(\"files\")[0];\n            // No selection -> this was triggered by the iri. Unequal names -> reuploading another file\n            if (!selectedFile || (filename && (filename !== selectedFile.name))) {\n                ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">No cached version of \\\"\" + filename + \"\\\" was found.</span><br>Please reupload the file.\");\n                loadingModule.setErrorMode();\n                d3.select(\"#progressBarValue\").classed(\"busyProgressBar\",false);\n                graph.handleOnLoadingError();\n                return;\n            } else {\n                filename = selectedFile.name;\n            }\n\n\n// two options here\n//1] Direct Json Upload\n            if (filename.match(/\\.json$/)) {\n                ontologyMenu.setConversionID(-10000);\n                var reader = new FileReader();\n                reader.readAsText(selectedFile);\n                reader.onload = function () {\n                    ontologyContent=reader.result;\n                    ontologyIdentifierFromURL=filename;\n                    parseOntologyContent(ontologyContent);\n                };\n            }else{\n//2] File Upload to OWL2VOWL Converter\n                // 1) check if we can get a timeStamp;\n                var parameterArray=[selectedFile,filename];\n                requestServerTimeStamp(ontologyMenu.callbackLoadFromOntology,parameterArray);\n            }\n        }\n    };\n\n    function fallbackForJSON_URL(callback,parameter){\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\n        callback(parameter);\n\n    }\n\n    function fallbackConversion(parameter){\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\n        var file=parameter[0];\n        var name=parameter[1];\n        var formData = new FormData();\n        formData.append(\"ontology\" , file);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", \"convert\", true);\n        var ontologyContent=\"\";\n        xhr.onload = function () {\n            if (xhr.status === 200) {\n                ontologyContent=xhr.responseText;\n                ontologyMenu.setCachedOntology(name,ontologyContent);\n                ontologyIdentifierFromURL=name;\n                missingImportsWarning=true; // using this variable for warnings\n                ontologyMenu.append_message_toLastBulletPoint(\"<br>Success, <span style='color:yellow'>but you are using a deprecated OWL2VOWL service!<span>\");\n                parseOntologyContent(ontologyContent);\n            }\n        };\n\n        // check what this thing is doing;\n        xhr.onreadystatechange = function(){\n            if (xhr.readyState===4 && xhr.status===0) {\n                ontologyMenu.append_message_toLastBulletPoint(\"<br>Old protocol also failed to establish connection to OWL2VOWL service!\");\n                loadingModule.setErrorMode();\n                ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\n                ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n                loadingModule.showErrorDetailsMessage();\n            }\n        };\n        xhr.send(formData);\n    }\n\n    function requestServerTimeStampForIRI_Converte(callback,parameterArray){\n        d3.xhr(\"serverTimeStamp\", \"application/text\", function (error, request) {\n            loadingModule.setBusyMode();\n            if (error){\n                // could not get server timestamp -> no connection to owl2vowl\n                ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n                loadingModule.setErrorMode();\n                ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\n                ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n                loadingModule.showErrorDetailsMessage();\n            }else {\n                conversion_sessionId = request.responseText;\n                ontologyMenu.setConversionID(conversion_sessionId);\n                // update paramater for new communication paradigm\n                parameterArray[0]=parameterArray[0]+\"&sessionId=\"+conversion_sessionId;\n                parameterArray.push(conversion_sessionId);\n                callback(parameterArray);\n            }\n        });\n    }\n\n    function requestServerTimeStamp(callback,parameterArray){\n        d3.xhr(\"serverTimeStamp\", \"application/text\", function (error, request) {\n            if (error){\n                // could not get server timestamp -> no connection to owl2vowl\n                ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n                fallbackConversion(parameterArray); // tries o2v version0.3.4 communication\n            }else {\n                conversion_sessionId = request.responseText;\n                ontologyMenu.setConversionID(conversion_sessionId);\n                console.log(\"Request Session ID:\"+ conversion_sessionId);\n                callback(parameterArray[0],parameterArray[1],conversion_sessionId);\n            }\n        });\n    }\n\n    loadingModule.directInput=function(text){\n        ontologyMenu.clearDetailInformation();\n        parseOntologyContent(text);\n    };\n\n    loadingModule.loadFromOWL2VOWL=function(ontoContent,filename){\n        loadingWasSuccessFul=false;\n\n        var old=d3.select(\"#bulletPoint_container\").node().innerHTML;\n        if (old.indexOf(\"(with warnings)\")!==-1 ) { missingImportsWarning=true;}\n\n        if (ontologyMenu.cachedOntology(ontoContent)) {\n            ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n            parseOntologyContent(ontoContent);\n        }else{ // set parse the ontology content;\n            parseOntologyContent(ontoContent);\n        }\n    };\n\n    loadingModule.from_presetOntology=function(selectedOntology) {\n        ontologyMenu.append_bulletPoint(\"Retrieving ontology: \" + selectedOntology );\n        loadPresetOntology(selectedOntology);\n    };\n\n    loadingModule.from_MDM_DB=function() {\n        ontologyMenu.append_bulletPoint(\"Retrieving ontology: \" + currentGlobalGraph.name );\n        parseOntologyContent(currentGlobalGraph.graphicalGraph);\n    };\n\n\n    function loadPresetOntology(ontology){\n        // check if already cached in ontology menu?\n        var f2r;\n        if (ontology.indexOf(\"new_ontology\")!==-1){\n            loadingModule.hideLoadingIndicator();\n            graph.showEditorHintIfNeeded();\n            f2r=\"/graph/data/new_ontology.json\";\n\n        }\n        if (ontology.indexOf(\"mdm_template\")!==-1){\n            loadingModule.hideLoadingIndicator();\n            if(graph.options().defaultConfig().editorMode === \"true\")\n                graph.showEditorHintIfNeeded();\n            f2r=\"/graph/data/mdm_template.json\";\n\n        }\n\n        loadingWasSuccessFul=false;\n        var ontologyContent=\"\";\n        if (ontologyMenu.cachedOntology(ontology)){\n            ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \"+ ontology);\n            ontologyContent=ontologyMenu.cachedOntology(ontology);\n            loadingWasSuccessFul=true; // cached Ontology should be true;\n            loadingModule.showLoadingIndicator();\n            parseOntologyContent(ontologyContent);\n\n        }else {\n            // read the file name\n\n            var fileToRead=\"/graph/data/\"+ontology+\".json\";\n            if (f2r) {fileToRead=f2r;} // overwrite the newOntology Index\n            // read file\n            console.log(fileToRead);\n            console.log(\"*****\")\n            d3.xhr(fileToRead, \"application/json\", function (error, request) {\n                var loadingSuccessful = !error;\n                if (loadingSuccessful) {\n                    ontologyContent= request.responseText;\n                    if(currentGlobalGraph){\n                        ontologyContent = ontologyContent.replace(\"{{:title:}}\",currentGlobalGraph.name);\n                        ontologyContent = ontologyContent.replace(\"{{:iri:}}\",currentGlobalGraph.namespace);\n                        //ontologyContent = ontologyContent.replace(\"{{:iri:}}\",currentGlobalGraph.defaultNamespace);\n                    }\n                    parseOntologyContent(ontologyContent);\n                } else {\n                    // some error occurred\n                    console.log(\"could not read file\")\n                    ontologyMenu.append_bulletPoint(\"Failed to load: \"+ ontology);\n                    ontologyMenu.append_message_toLastBulletPoint(\" <span style='color: red'>ERROR STATUS:</span> \"+ error.status);\n                    graph.handleOnLoadingError();\n                    loadingModule.setErrorMode();\n                }\n            });\n        }\n    }\n\n\n    /** -- PARSE JSON CONTENT -- **/\n    function parseOntologyContent(content){\n\n        ontologyMenu.append_bulletPoint(\"Reading ontology graph ... \");\n        var _loader=ontologyMenu.getLoadingFunction();\n        _loader(content,ontologyIdentifierFromURL,\"noAlternativeNameYet\");\n    }\n\n    loadingModule.notValidJsonFile=function(){\n        graph.clearGraphData();\n        ontologyMenu.append_message_toLastBulletPoint(\" <span style='color:red;'>failed</span>\");\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red;'>Error: Received empty graph</span>\");\n        loadingWasSuccessFul=false;\n        graph.handleOnLoadingError();\n\n    };\n\n    loadingModule.validJsonFile=function(){\n        ontologyMenu.append_message_toLastBulletPoint(\"done\");\n        loadingWasSuccessFul=true;\n    };\n\n    loadingModule.currentGlobalGraph=function(){\n        return currentGlobalGraph;\n    };\n\n    loadingModule.currentSubGraph=function(){\n        return currentSubGraph;\n    };\n\n    loadingModule.retrieveCurrentGraph = function () {\n      retrieveGraph();\n    };\n\n\n    /** --- HELPER FUNCTIONS **/\n\n    // Javier: this method should retrieve the graphical graph in the flows\n    // * Global Graphs\n    // * wrappers\n    // * lav mapping\n    function retrieveGraph() {\n        // editor mode is just for global graph but let's consider changing the name later\n        //if ( graph.options().defaultConfig().editorMode === \"true\" ) {\n            var globalGraphID = getParameterByName(\"id\");\n            var lavMappingID = getParameterByName(\"LAVMappingID\");\n\n            var dataSourceID = getParameterByName(\"dataSourceID\");\n\n      var minimal = getParameterByName(\"minimal_integration_graph\");\n\n      var integration = getParameterByName(\"integration_graph\");\n\n\n            console.log({globalGraphID, lavMappingID, dataSourceID});\n            if (globalGraphID !== \"\" && lavMappingID === \"\") {\n              // retrieve global graph data.\n                const content = JSON.parse($.ajax({\n                    type: \"GET\",\n                    url: odinApi+\"/globalGraph/\"+globalGraphID,\n                    async: false\n                }).responseText);\n                currentGlobalGraph = content;\n                console.log({currentGlobalGraph});\n            }\n            if(globalGraphID !== \"\" && lavMappingID !== \"\"){\n\n                var data = JSON.parse($.ajax({\n                    type: \"GET\",\n                    url: odinApi+\"/lavMapping/\"+lavMappingID,\n                    async: false\n                }).responseText);\n\n\n                console.log({data});\n\n                if(data.globalQuery){\n                    currentSubGraph = data.globalQuery;\n                    console.log({currentGlobalGraph})\n                }\n                currentGlobalGraph = JSON.parse($.ajax({\n                    type: \"GET\",\n                    url: odinApi+\"/globalGraph/\"+data.globalGraphId,\n                    async: false\n                }).responseText);\n\n                console.log(currentGlobalGraph);\n            } else if(dataSourceID !== \"\"){\n\n              let content = JSON.parse($.ajax({\n                  type: \"GET\",\n                  url: odinApi+\"/dataSource/\"+dataSourceID,\n                  async: false\n              }).responseText);\n\n              console.log(\"****\")\n              console.log(minimal)\n              console.log(integration)\n\n\n\n              if(minimal){\n                console.log(\"minimal...\")\n                content.graphicalGraph = content.graphicalMinimalIntegration\n              } else if(integration) {\n                console.log(\"integration...\")\n                content.graphicalGraph = content.graphicalIntegration\n              }\n\n              currentGlobalGraph = content;\n              console.log({currentGlobalGraph});\n\n            }\n        //}\n\n        // if(graph.options().defaultConfig().bdi === \"true\" ||\n        //     graph.options().defaultConfig().bdi_manualAl ===\"true\"\n        // ){\n        //     console.log(\"BDI\");\n        //     var IntegratedDSID = getParameterByName(\"IntegratedDataSourceID\");\n        //     var dataSourceID = getParameterByName(\"dataSourceID\");\n        //\n        //     if(IntegratedDSID){\n        //         currentGlobalGraph = JSON.parse($.ajax({\n        //             type: \"GET\",\n        //             url: \"/bdiIntegratedDataSources/\"+IntegratedDSID,\n        //             async: false\n        //         }).responseText);\n        //         if(currentGlobalGraph.graphicalGraph){\n        //             console.log(currentGlobalGraph);\n        //             var json = JSON.parse(JSON.parse(currentGlobalGraph.graphicalGraph));\n        //             json.header.title = currentGlobalGraph.name;\n        //             json.header.iri = currentGlobalGraph.schema_iri;\n        //             currentGlobalGraph.graphicalGraph = JSON.stringify(JSON.stringify(json));\n        //         }\n        //     }else if(dataSourceID){\n        //         currentGlobalGraph = JSON.parse($.ajax({\n        //             type: \"GET\",\n        //             url: \"/bdiDataSource/\"+dataSourceID,\n        //             async: false\n        //         }).responseText);\n        //         if(currentGlobalGraph.graphicalGraph){\n        //             var json = JSON.parse(JSON.parse(currentGlobalGraph.graphicalGraph));\n        //             json.header.title = currentGlobalGraph.name;\n        //             json.header.iri = currentGlobalGraph.iri;\n        //             currentGlobalGraph.graphicalGraph = JSON.stringify(JSON.stringify(json));\n        //         }\n        //     }\n        //     return;\n        // }\n        //\n        // currentSubGraph = undefined;\n        // currentGlobalGraph = undefined;\n        //\n        // var globalGraphID = getParameterByName(\"globalGraphID\");\n        //\n        // var ontologyID = getParameterByName(\"dataSourceID\");\n        // var intID = getParameterByName(\"IntegratedDataSourceID\")\n        //\n\n        // }else if(globalGraphID !== \"\"){\n        //     currentGlobalGraph = JSON.parse($.ajax({\n        //         type: \"GET\",\n        //         url: odinApi+\"/globalGraph/\"+globalGraphID,\n        //         async: false\n        //     }).responseText);\n        // } else if( ontologyID !== \"\" ){\n        //     console.log(\"ontologyID....\")\n        //\n        //     currentGlobalGraph = JSON.parse($.ajax({\n        //         type: \"GET\",\n        //         url: \"/ontologies/\"+ontologyID,\n        //         async: false\n        //     }).responseText);\n        //     if(currentGlobalGraph.graphicalGraph){\n        //         var json = JSON.parse(JSON.parse(currentGlobalGraph.graphicalGraph));\n        //         json.header.title = currentGlobalGraph.name;\n        //         json.header.iri = currentGlobalGraph.iri;\n        //         currentGlobalGraph.graphicalGraph = JSON.stringify(JSON.stringify(json));\n        //     }\n        //\n        // } else if( intID !== \"\" ){\n        //     console.log(\"integratedID....\")\n        //\n        //     currentGlobalGraph = JSON.parse($.ajax({\n        //         type: \"GET\",\n        //         url: \"/integratedOntologies/\"+intID,\n        //         async: false\n        //     }).responseText);\n        //     if(currentGlobalGraph.graphicalGraph){\n        //         var json = JSON.parse(JSON.parse(currentGlobalGraph.graphicalGraph));\n        //         json.header.title = currentGlobalGraph.name;\n        //         json.header.iri = currentGlobalGraph.iri;\n        //         currentGlobalGraph.graphicalGraph = JSON.stringify(JSON.stringify(json));\n        //     }\n        //\n        // }\n    }\n\n    function getParameterByName(name) {\n        name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n            results = regex.exec(location.search);\n        return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n    }\n\n    function identifyParameter(url){\n\n        var numParameters = (url.match(/#/g) || []).length;\n        // create parameters array\n        var paramArray = [];\n        if (numParameters > 0) {\n            var tokens = url.split(\"#\");\n            // skip the first token since it is the address of the server\n            for (var i = 1; i < tokens.length; i++) {\n                if (tokens[i].length === 0) {\n                    // this token belongs actually to the last paramArray\n                    paramArray[paramArray.length - 1] = paramArray[paramArray.length - 1] + \"#\";\n                } else {\n                    paramArray.push(tokens[i]);\n                }\n            }\n        }\n        return paramArray;\n    }\n\n\n    function loadGraphOptions(parameterArray){\n        var optString=\"opts=\";\n        function loadDefaultConfig(){\n            graph.options().setOptionsFromURL(graph.options().defaultConfig(),false);\n        }\n        function loadCustomConfig(opts){\n            var changeEditingFlag=false;\n            var defObj=graph.options().defaultConfig();\n            for (var i=0;i<opts.length;i++){\n                var keyVal=opts[i].split('=');\n                if (keyVal[0]===\"editorMode\"){\n                    changeEditingFlag=true;\n                }\n                defObj[keyVal[0]]=keyVal[1];\n            }\n            graph.options().setOptionsFromURL(defObj, changeEditingFlag);\n        }\n\n        function identifyOptions(paramArray){\n            if(paramArray[0].indexOf(optString)>=0){\n                // parse the parameters;\n                var parameterLength=paramArray[0].length;\n                var givenOptionsStr=paramArray[0].substr(5,parameterLength-6);\n                var optionsArray=givenOptionsStr.split(';');\n                loadCustomConfig(optionsArray);\n            }else{\n                ontologyIdentifierFromURL=paramArray[0];\n                loadDefaultConfig();\n            }\n        }\n\n        function identifyOptionsAndOntology(paramArray){\n\n            if(paramArray[0].indexOf(optString)>=0) {\n                // parse the parameters;\n                var parameterLength = paramArray[0].length;\n                var givenOptionsStr = paramArray[0].substr(5, parameterLength - 6);\n                var optionsArray = givenOptionsStr.split(';');\n                loadCustomConfig(optionsArray);\n            }else{\n                loadDefaultConfig();\n            }\n            ontologyIdentifierFromURL=paramArray[1];\n        }\n        switch (parameterArray.length){\n            case 0: loadDefaultConfig(); break;\n            case 1: identifyOptions(parameterArray); break;\n            case 2: identifyOptionsAndOntology(parameterArray); break;\n            default :\n                console.log(\"To many input parameters , loading default config\");\n                loadDefaultConfig();\n                ontologyIdentifierFromURL=\"ERROR_TO_MANY_INPUT_PARAMETERS\";\n        }\n    }\n\n\n    function identifyOntologyLoadingMethod(url){\n        if(currentGlobalGraph)\n            if (currentGlobalGraph.graphicalGraph) {\n                return MDM_DB;\n            }\n        var iriKey = \"iri=\";\n        var urlKey = \"url=\";\n        var fileKey = \"file=\";\n\n        var method=-1;\n        if (url.substr(0, fileKey.length) === fileKey) {\n            method=FILE_UPLOAD;\n        }else if (url.substr(0, urlKey.length) === urlKey){\n            method=JSON_URL;\n        }else if (url.substr(0, iriKey.length) === iriKey){\n            method=IRI_URL;\n        }else {\n            method=PREDEFINED;\n        }\n        return method;\n    }\n\n    return loadingModule;\n};\n","module.exports = function (graph) {\n\n    var clearQuery = {},\n        clearQueryButton;\n\n    clearQuery.setup = function () {\n\n        clearQueryButton = d3.select(\"#generate-sparql-omq-button\")\n            .on(\"click\", function (d) {\n\n\n\n                var selection = graph.prepareSelectionObject();\n                var graphical_omq = new Object();\n                if (selection.length == 0){\n                    alert(\"Select subgraph first\");\n                    return;\n                }else {\n                    $(\"#dataModal\").modal(\"show\");\n                    graphical_omq.selection = selection;\n                    graphical_omq.projectedFeatures = graph.getSelectedFeatures();\n                    console.log( JSON.stringify(graphical_omq))\n                    $.ajax({\n                        url: odinApi+'/OMQ/fromGraphicalToSPARQL',\n                        method: \"POST\",\n                      contentType: \"application/json; charset=utf-8\",\n                        data: JSON.stringify(graphical_omq)\n                    }).done(function (res) {\n                      console.log(\"answer: \")\n                      console.log(res)\n                        var sparql_omq = new Object();\n                        sparql_omq.sparql = res.sparql;\n                        sparql_omq.namedGraph = graph.options().loadingModule().currentGlobalGraph().namedGraph;\n                        sparql_omq.features = graph.getSelectedFeatures();\n                        $.ajax({\n                            url: odinApi+'/OMQ/fromSPARQLToRA',\n                            method: \"POST\",\n                            data: sparql_omq\n                        }).done(function (res) {\n                            currOMQ = res;\n\n                            var sql_omq = new Object();\n                            sql_omq.sql = currOMQ.sql\n                            sql_omq.wrappers = currOMQ.wrappers;\n                            sql_omq.features = graph.getSelectedFeatures();\n\n                            $.ajax({\n                                url: odinApi+'/OMQ/fromSQLtoDATA',\n                                method: \"POST\",\n                                data: sql_omq\n                            }).done(function(data) {\n                                $(\"#spinner\").hide();\n                                var tableCol = [];\n                                _.each(graph.getSelectedFeatures(), function(f) {\n\n                                    var col = new Object();\n                                    col.title = f;\n                                    col.field = getLastElementURI(f);\n                                    col.align = \"center\";\n                                    col.headerFilter = true;\n                                    tableCol.push(col);\n                                    // $('#dataTable').find('thead > tr').append($('<td>').append($('<b>').text(f)));\n                                });\n\n\n                                $('#dataTable').show();\n\n                                var tabledata = [];\n                                _.each(data.data,function(row) {\n                                    var rowT = new Object();\n                                    _.each(row,function(item) {\n                                        rowT[getLastElementURI(item.feature)] = item.value;\n                                    });\n                                    tabledata.push(rowT);\n                                });\n\n                                var table = new Tabulator(\"#dataTable\", {\n                                    data:tabledata, //assign data to table\n                                    layout:\"fitColumns\", //fit columns to width of table (optional)\n                                    columns:tableCol,\n                                    pagination:\"local\",\n                                    paginationSize:10,\n                                    selectable:true,\n                                    paginationSizeSelector:[5, 10, 15, 20,50,100],\n                                });\n\n                                $( \"#btnDownload_csv\" ).click(function() {\n                                    if(table)\n                                        table.download(\"csv\", \"data.csv\", {delimiter:\",\"});\n                                });\n                                $( \"#btnDownload_xlsx\" ).click(function() {\n                                    if(table)\n                                        table.download(\"xlsx\", \"data.xlsx\", {sheetName:\"data\"});\n                                });\n\n                                $( \"#btnDownload_json\" ).click(function() {\n                                    if(table)\n                                        table.download(\"json\", \"data.json\");\n                                });\n                                $( \"#btnDownload_pdf\" ).click(function() {\n                                    if(table)\n                                        table.download(\"pdf\", \"data.pdf\", {\n                                            orientation:\"portrait\", //set page orientation to portrait\n                                        });\n                                });\n\n                            }).fail(function(err) {\n                                alert(\"error \"+JSON.stringify(err));\n                            });\n\n                            //reset modal when hidden\n                            $('#dataModal').on('hidden.bs.modal', function (e) {\n                                $('#dataTable').hide();\n                                $(\"#spinner\").show();\n                            });\n\n                        }).fail(function (err) {\n                            alert(\"error \" + JSON.stringify(err));\n                        });\n                    }).fail(function (err) {\n                        alert(\"error \" + JSON.stringify(err));\n                    });\n                }\n            });\n    };\n\n    clearQuery.hide = function (flag) {\n        if(flag){\n            d3.select(\"#c_generate-sparql-omq\").style(\"display\",\"none\")\n        }else{\n            d3.select(\"#c_generate-sparql-omq\").style(\"display\",\"\")\n        }\n    };\n\n    function getLastElementURI(ele){\n        var parts = ele.split(\"/\");\n        if(parts.length >1)\n            return parts[parts.length-1]\n        else\n            ele\n    }\n\n    return clearQuery;\n};\n","module.exports = function (graph) {\n\n    var clearQuery = {},\n        clearQueryButton;\n\n    clearQuery.setup = function () {\n\n        clearQueryButton = d3.select(\"#clear-query-omq-button\")\n            .on(\"click\", function (d) {\n                // e.preventDefault();\n                d3.selectAll(\".selection\").remove();\n                $(\"#text\").remove();\n                graph.clearSelectionSubGraph();\n            });\n    };\n\n    clearQuery.hide = function (flag) {\n        if(flag){\n            d3.select(\"#c_clear-query-omq\").style(\"display\",\"none\")\n        }else{\n            d3.select(\"#c_clear-query-omq\").style(\"display\",\"\")\n        }\n    };\n\n    return clearQuery;\n};\n\n","module.exports = function (graph) {\n\n    var clearSelectionMenu = {},\n        selectSGButton;\n\n    clearSelectionMenu.setup = function () {\n\n        selectSGButton = d3.select(\"#clear-select-sg-button\")\n            .on(\"click\", function (d) {\n                graph.clearSelectionSubGraph();\n            });\n    };\n\n    clearSelectionMenu.hide = function (flag) {\n        if(flag){\n            d3.select(\"#c_clear-select-sg\").style(\"display\",\"none\")\n        }else{\n            d3.select(\"#c_clear-select-sg\").style(\"display\",\"\")\n        }\n    };\n\n\n\n    return clearSelectionMenu;\n};\n\n","module.exports = function (graph) {\n    var configMenu = {},\n        checkboxes = [];\n\n\n    configMenu.setup = function () {\n        if(graph.options().showModesGui()){\n            var menuEntry= d3.select(\"#m_modes\");\n            menuEntry.on(\"mouseover\",function(){\n                var searchMenu=graph.options().searchMenu();\n                searchMenu.hideSearchEntries();\n            });\n        }\n        addCheckBox(\"showZoomSlider\",\"Zoom controls\",\"#zoomSliderOption\",graph.options().zoomSlider().showSlider,0);\n        addLabelWidthSlider(\"#maxLabelWidthSliderOption\",\"maxLabelWidth\",\"Max label width\", graph.options().maxLabelWidth);\n    };\n\n\n    function addLabelWidthSlider(selector, identifier, label, onChangeFunction) {\n        var sliderContainer,\n            sliderValueLabel;\n\n        sliderContainer = d3.select(selector)\n            .append(\"div\")\n            .classed(\"distanceSliderContainer\", true);\n\n        var slider = sliderContainer.append(\"input\")\n            .attr(\"id\", identifier + \"Slider\")\n            .attr(\"type\", \"range\")\n            .attr(\"min\", 20)\n            .attr(\"max\", 600)\n            .attr(\"value\", onChangeFunction())\n            .attr(\"step\", 10);\n        sliderContainer.append(\"label\")\n            .classed(\"description\", true)\n            .attr(\"for\", identifier + \"Slider\")\n            .attr(\"id\", identifier + \"DescriptionLabel\")\n            .text(label);\n        sliderValueLabel = sliderContainer.append(\"label\")\n            .classed(\"value\", true)\n            .attr(\"for\", identifier + \"Slider\")\n            .attr(\"id\", identifier + \"valueLabel\")\n            .text(onChangeFunction());\n\n        slider.on(\"input\", function () {\n            var value = slider.property(\"value\");\n            onChangeFunction(value);\n            sliderValueLabel.text(value);\n            if (graph.options().dynamicLabelWidth()===true)\n                graph.animateDynamicLabelWidth();\n        });\n\n        // add wheel event to the slider\n        slider.on(\"wheel\",function(){\n            if (slider.node().disabled===true) return;\n            var wheelEvent=d3.event;\n            var offset;\n            if (wheelEvent.deltaY<0) offset=10;\n            if (wheelEvent.deltaY>0) offset=-10;\n            var oldVal=parseInt(slider.property(\"value\"));\n            var newSliderValue=oldVal+offset;\n            if (newSliderValue!==oldVal){\n                slider.property(\"value\",newSliderValue);\n                onChangeFunction(newSliderValue);\n                slider.on(\"input\")(); // << set text and update the graphStyles\n            }\n            d3.event.preventDefault();\n        });\n    }\n\n    function addCheckBox(identifier, modeName, selector,onChangeFunc,updateLvl) {\n        var configOptionContainer = d3.select(selector)\n            .append(\"div\")\n            .classed(\"checkboxContainer\", true);\n        var configCheckbox = configOptionContainer.append(\"input\")\n            .classed(\"moduleCheckbox\", true)\n            .attr(\"id\", identifier + \"ConfigCheckbox\")\n            .attr(\"type\", \"checkbox\")\n            .property(\"checked\", onChangeFunc());\n\n\n        configCheckbox.on(\"click\", function (silent) {\n            var isEnabled = configCheckbox.property(\"checked\");\n            onChangeFunc(isEnabled);\n            if (silent !== true) {\n                // updating graph when silent is false or the parameter is not given.\n                if (updateLvl===1) {\n                    graph.lazyRefresh();\n                    //graph.redrawWithoutForce\n                }\n                if (updateLvl===2){\n                    graph.update();\n                }\n\n                if (updateLvl===3){\n                    graph.updateDraggerElements();\n                }\n            }\n\n        });\n        checkboxes.push(configCheckbox);\n        configOptionContainer.append(\"label\")\n            .attr(\"for\", identifier + \"ConfigCheckbox\")\n            .text(modeName);\n    }\n\n    configMenu.setCheckBoxValue=function(identifier,value){\n        for (var i = 0; i < checkboxes.length; i++) {\n            var cbdId = checkboxes[i].attr(\"id\");\n            if (cbdId === identifier) {\n                checkboxes[i].property(\"checked\", value);\n                break;\n            }\n        }\n    };\n\n    configMenu.getCheckBoxValue = function (id) {\n        for (var i = 0; i < checkboxes.length; i++) {\n            var cbdId = checkboxes[i].attr(\"id\");\n            if (cbdId === id) {\n                return checkboxes[i].property(\"checked\");\n            }\n        }\n    };\n\n    configMenu.updateSettings = function () {\n        var silent = true;\n        checkboxes.forEach(function (checkbox) {\n            checkbox.on(\"click\")(silent);\n        });\n    };\n\n    return configMenu;\n};\n","module.exports = function (graph) {\n    var debugMenu = {},\n        checkboxes = [];\n\n\n    var hoverFlag=false;\n    var specialCbx;\n    debugMenu.setup = function () {\n        var menuEntry= d3.select(\"#debugMenuHref\");\n\n        menuEntry.on(\"mouseover\",function(){\n            if (hoverFlag===false) {\n                var searchMenu = graph.options().searchMenu();\n                searchMenu.hideSearchEntries();\n                specialCbx.on(\"click\")(true);\n                if (graph.editorMode()===false){\n                    d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\n                    d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\n\n                    // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\n                    d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n                    d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n                }else{\n                    d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\n                    d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\n                }\n                hoverFlag = true;\n            }\n        });\n        menuEntry.on(\"mouseout\",function(){\n            hoverFlag=false;\n        });\n\n\n        specialCbx=addCheckBox(\"useAccuracyHelper\",\"Use accuracy helper\",\"#useAccuracyHelper\",graph.options().useAccuracyHelper,\n        function (enabled, silent) {\n            if (!enabled ) {\n                d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n                d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n                d3.select(\"#showDraggerObjectConfigCheckbox\").node().checked=false;\n            }else{\n                d3.select(\"#showDraggerObject\").style(\"color\", \"#2980b9\");\n                d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"auto\");\n            }\n\n            if (silent === true ) return;\n            graph.lazyRefresh();\n            graph.updateDraggerElements();\n        }\n        );\n         addCheckBox(\"showDraggerObject\",\"Show accuracy helper\",\"#showDraggerObject\",graph.options().showDraggerObject,\n            function (enabled, silent) {\n                if (silent===true) return;\n                graph.lazyRefresh();\n                graph.updateDraggerElements();\n            });\n        addCheckBox(\"showFPS_Statistics\",\"Show rendering statistics\",\"#showFPS_Statistics\",graph.options().showRenderingStatistic,\n            function (enabled, silent){\n\n                if (graph.options().getHideDebugFeatures()===false) {\n                    d3.select(\"#FPS_Statistics\").classed(\"hidden\", !enabled);\n                }else{\n                    d3.select(\"#FPS_Statistics\").classed(\"hidden\", true);\n                }\n\n\n            });\n        addCheckBox(\"showModeOfOperation\",\"Show input modality\",\"#showModeOfOperation\",graph.options().showInputModality,\n            function (enabled){\n                if (graph.options().getHideDebugFeatures()===false) {\n                    d3.select(\"#modeOfOperationString\").classed(\"hidden\", !enabled);\n                }else{\n                    d3.select(\"#modeOfOperationString\").classed(\"hidden\", true);\n                }\n            });\n\n\n    };\n\n\n\n\n    function addCheckBox(identifier, modeName, selector,onChangeFunc,_callbackFunction) {\n        var configOptionContainer = d3.select(selector)\n            .append(\"div\")\n            .classed(\"checkboxContainer\", true);\n        var configCheckbox = configOptionContainer.append(\"input\")\n            .classed(\"moduleCheckbox\", true)\n            .attr(\"id\", identifier + \"ConfigCheckbox\")\n            .attr(\"type\", \"checkbox\")\n            .property(\"checked\", onChangeFunc());\n\n\n        configCheckbox.on(\"click\", function (silent) {\n            var isEnabled = configCheckbox.property(\"checked\");\n            onChangeFunc(isEnabled);\n            _callbackFunction(isEnabled,silent);\n\n        });\n        checkboxes.push(configCheckbox);\n        configOptionContainer.append(\"label\")\n            .attr(\"for\", identifier + \"ConfigCheckbox\")\n            .text(modeName);\n\n        return configCheckbox;\n    }\n\n    debugMenu.setCheckBoxValue=function(identifier,value){\n        for (var i = 0; i < checkboxes.length; i++) {\n            var cbdId = checkboxes[i].attr(\"id\");\n            if (cbdId === identifier) {\n                checkboxes[i].property(\"checked\", value);\n                break;\n            }\n        }\n    };\n\n    debugMenu.getCheckBoxValue = function (id) {\n        for (var i = 0; i < checkboxes.length; i++) {\n            var cbdId = checkboxes[i].attr(\"id\");\n            if (cbdId === id) {\n                return checkboxes[i].property(\"checked\");\n            }\n        }\n    };\n\n    debugMenu.updateSettings = function () {\n        d3.selectAll(\".debugOption\").classed(\"hidden\",graph.options().getHideDebugFeatures());\n\n        var silent = true;\n        checkboxes.forEach(function (checkbox) {\n            checkbox.on(\"click\")(silent);\n        });\n        if (graph.editorMode()===false){\n\n            d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\n            d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\n\n            // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\n            d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n            d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n        }else{\n\n            d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\n            d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\n        }\n\n    };\n\n    return debugMenu;\n};\n","/**\n * Contains the logic for the export button.\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar exportMenu = {},\n\t\texportSvgButton,\n\t\texportFilename,\n\t\texportJsonButton,\n\t\texportTurtleButton,\n        exportTexButton,\n\t\tcopyButton,\n\t\texportableJsonText;\n\n\tvar exportTTLModule=require(\"./exportTTLModule\")(graph);\n\n\n\n\n    String.prototype.replaceAll = function(search, replacement) {\n        var target = this;\n        return target.split(search).join(replacement);\n    };\n\n\n    /**\n\t * Adds the export button to the website.\n\t */\n\texportMenu.setup = function () {\n        if(graph.options().showExportGui()){\n            exportSvgButton = d3.select(\"#exportSvg\")\n                .on(\"click\", exportSvg);\n            exportJsonButton = d3.select(\"#exportJson\")\n                .on(\"click\", exportJson);\n\n            copyButton=d3.select(\"#copyBt\")\n                .on(\"click\", copyUrl);\n\n            exportTexButton= d3.select(\"#exportTex\")\n                .on(\"click\", exportTex);\n\n            exportTurtleButton = d3.select(\"#exportTurtle\")\n                .on(\"click\",exportTurtle);\n\n\n            var menuEntry= d3.select(\"#m_export\");\n            menuEntry.on(\"mouseover\",function(){\n                var searchMenu=graph.options().searchMenu();\n                searchMenu.hideSearchEntries();\n                exportMenu.exportAsUrl();\n            });\n        }\n\t};\n\n    exportMenu.exportTurtleText = function ()  {\n        var success=exportTTLModule.requestExport();\n        return exportTTLModule.resultingTTL_Content();\n    };\n\n    function exportTurtle(){\n\t\tvar success=exportTTLModule.requestExport();\n\t\tvar result=exportTTLModule.resultingTTL_Content();\n\t\tconsole.log(\"Exporter was successful: \"+success);\n\t\tif (success) {\n            // console.log(\"The result is : \" + result);\n            var ontoTitle=\"NewOntology\";\n\t\t\t// var ontoTitle=graph.options().getGeneralMetaObjectProperty('title');\n\t\t\t// if (ontoTitle===undefined || ontoTitle.length===0)\n\t\t\t// \tontoTitle=\"NewOntology\";\n\t\t\t// else{\n\t\t\t// \t// language object -.-\n             //    ontoTitle.replace(\" \",\"_\")\n\t\t\t// }\n\n\t\t\t// TODO: show TEXT in warning module?\n\n\n            // // write the data\n            var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(result);\n\n            exportTurtleButton.attr(\"href\", dataURI)\n                .attr(\"download\", ontoTitle+ \".ttl\");\n\n            // okay restore old href?\n          //  exportTurtleButton.attr(\"href\", oldHref);\n        }else{\n\t\t\tconsole.log(\"ShowWarning!\");\n\t\t\tgraph.options().warningModule().showExporterWarning();\n            console.log(\"Stay on the page! \"+window.location.href);\n            exportTurtleButton.attr(\"href\", window.location.href);\n            d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\n\n\n        }\n\t}\n\n\texportMenu.setFilename = function (filename) {\n\t\texportFilename = filename || \"export\";\n\t};\n\n\texportMenu.setJsonText = function (jsonText) {\n\t\texportableJsonText = jsonText;\n\t};\n\n\tfunction copyUrl(){\n        d3.select(\"#exportedUrl\").node().focus();\n        d3.select(\"#exportedUrl\").node().select();\n        document.execCommand(\"copy\");\n        graph.options().navigationMenu().hideAllMenus();\n        d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\n\t}\n\n\tfunction prepareOptionString(defOpts,currOpts){\n\t\tvar setOptions=0;\n        var optsString=\"opts=\";\n\n\t\tfor (var name in defOpts) {\n\t\t\t// define key and value ;\n\t\t\tif (defOpts.hasOwnProperty(name)) {// for travis warning\n\t\t\t\tvar def_value = defOpts[name];\n\t\t\t\tvar cur_value = currOpts[name];\n\t\t\t\tif (def_value !== cur_value) {\n\t\t\t\t\toptsString += name + \"=\" + cur_value + \";\";\n\t\t\t\t\tsetOptions++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\toptsString+=\"\";\n\t\tif (setOptions===0){ return \"\";}\n\t\treturn optsString;\n\t}\n\n\t exportMenu.exportAsUrl=function(){\n        var currObj={};\n        currObj.sidebar=graph.options().sidebar().getSidebarVisibility();\n\n        // identify default value given by ontology;\n\t\tvar defOntValue=graph.options().filterMenu().getDefaultDegreeValue();\n\t\tvar currentValue=graph.options().filterMenu().getDegreeSliderValue();\n\t\tif (parseInt(defOntValue)===parseInt(currentValue)) {\n\t\t\tcurrObj.doc=-1;\n\t\t}else{ currObj.doc=currentValue;}\n\n        currObj.cd=graph.options().classDistance();\n        currObj.dd=graph.options().datatypeDistance();\n        if (graph.editorMode()===true){\n            currObj.editorMode=\"true\";\n        }else{\n        \tcurrObj.editorMode=\"false\";\n        }\n        currObj.filter_datatypes=String(graph.options().filterMenu().getCheckBoxValue(\"datatypeFilterCheckbox\"));\n        currObj.filter_sco=String(graph.options().filterMenu().getCheckBoxValue(\"subclassFilterCheckbox\"));\n        currObj.filter_disjoint=String(graph.options().filterMenu().getCheckBoxValue(\"disjointFilterCheckbox\"));\n        currObj.filter_setOperator=String(graph.options().filterMenu().getCheckBoxValue(\"setoperatorFilterCheckbox\"));\n        currObj.filter_objectProperties=String(graph.options().filterMenu().getCheckBoxValue(\"objectPropertyFilterCheckbox\"));\n        currObj.mode_dynamic=String(graph.options().dynamicLabelWidth());\n        currObj.mode_scaling=String(graph.options().modeMenu().getCheckBoxValue(\"nodescalingModuleCheckbox\"));\n        currObj.mode_compact=String(graph.options().modeMenu().getCheckBoxValue(\"compactnotationModuleCheckbox\"));\n        currObj.mode_colorExt=String(graph.options().modeMenu().getCheckBoxValue(\"colorexternalsModuleCheckbox\"));\n        currObj.mode_multiColor=String(graph.options().modeMenu().colorModeState());\n        currObj.mode_pnp=String(graph.options().modeMenu().getCheckBoxValue(\"pickandpinModuleCheckbox\"));\n        currObj.debugFeatures=String(!graph.options().getHideDebugFeatures());\n        currObj.rect=0;\n\n\t\tvar defObj=graph.options().initialConfig();\n        var optsString=prepareOptionString(defObj,currObj);\n        var urlString=String(location);\n        var htmlElement;\n        // when everything is default then there is nothing to write\n\t\tif (optsString.length===0){\n            // building up parameter list;\n\n\t\t\t// remove the all options form location\n\t\t\tvar hashCode=location.hash;\n\t\t\turlString=urlString.split(hashCode)[0];\n\n\t\t\tvar lPos=hashCode.lastIndexOf(\"#\");\n            if (lPos===-1){\n                htmlElement=d3.select(\"#exportedUrl\").node();\n                htmlElement.value=String(location);\n                htmlElement.title=String(location);\n                return;  // nothing to change in the location String\n            }\n\t\t\tvar newURL=hashCode.slice(lPos,hashCode.length);\n            htmlElement=d3.select(\"#exportedUrl\").node();\n            htmlElement.value=urlString+newURL;\n            htmlElement.title=urlString+newURL;\n            return ;\n\t\t}\n\n        // generate the options string;\n        var numParameters=(urlString.match(/#/g) || []).length;\n        var newUrlString;\n        if (numParameters===undefined || numParameters===0){\n            newUrlString=urlString+\"#\"+optsString;\n\t\t}\n        if (numParameters>0) {\n            var tokens = urlString.split(\"#\");\n            var i;\n            if (tokens[1].indexOf(\"opts=\")>=0){\n\t\t\t\ttokens[1]=optsString;\n                newUrlString=tokens[0];\n\t\t\t}else{\n                newUrlString=tokens[0]+\"#\";\n                newUrlString+=optsString;\n\t\t\t}\n\t\t\t// append parameters\n            for (i=1;i<tokens.length;i++){\n            \tif (tokens[i].length>0) {\n                    newUrlString += \"#\" + tokens[i];\n                }\n            }\n        }\n        // building up parameter list;\n        htmlElement=d3.select(\"#exportedUrl\").node();\n        htmlElement.value=newUrlString;\n        htmlElement.title=newUrlString;\n\n\t};\n\n\tfunction exportSvg() {\n        graph.options().navigationMenu().hideAllMenus();\n\t\t// Get the d3js SVG element\n\t\tvar graphSvg = d3.select(graph.options().graphContainerSelector()).select(\"svg\"),\n\t\t\tgraphSvgCode,\n\t\t\tescapedGraphSvgCode,\n\t\t\tdataURI;\n\n\t\t// inline the styles, so that the exported svg code contains the css rules\n\t\tinlineVowlStyles();\n\t\thideNonExportableElements();\n\n\t\tgraphSvgCode = graphSvg.attr(\"version\", 1.1)\n\t\t\t.attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\n\t\t\t.node().parentNode.innerHTML;\n\n\t\t// Insert the reference to VOWL\n\t\tgraphSvgCode = \"<!-- Created with WebVOWL (version \" + webvowl.version + \")\" +\n\t\t               \", http://vowl.visualdataweb.org -->\\n\" + graphSvgCode;\n\n\t\tescapedGraphSvgCode = escapeUnicodeCharacters(graphSvgCode);\n\t\t//btoa(); Creates a base-64 encoded ASCII string from a \"string\" of binary data.\n\t\tdataURI = \"data:image/svg+xml;base64,\" + btoa(escapedGraphSvgCode);\n\n\n\n\t\texportSvgButton.attr(\"href\", dataURI)\n\t\t\t.attr(\"download\", exportFilename + \".svg\");\n\n\t\t// remove graphic styles for interaction to go back to normal\n\t\tremoveVowlInlineStyles();\n\t\tshowNonExportableElements();\n\t\tgraph.lazyRefresh();\n\t}\n\n\tfunction escapeUnicodeCharacters(text) {\n\t\tvar textSnippets = [],\n\t\t\ti, textLength = text.length,\n\t\t\tcharacter,\n\t\t\tcharCode;\n\n\t\tfor (i = 0; i < textLength; i++) {\n\t\t\tcharacter = text.charAt(i);\n\t\t\tcharCode = character.charCodeAt(0);\n\n\t\t\tif (charCode < 128) {\n\t\t\t\ttextSnippets.push(character);\n\t\t\t} else {\n\t\t\t\ttextSnippets.push(\"&#\" + charCode + \";\");\n\t\t\t}\n\t\t}\n\n\t\treturn textSnippets.join(\"\");\n\t}\n\n\tfunction inlineVowlStyles() {\n\t\tsetStyleSensitively(\".text\", [{name: \"font-family\", value: \"Helvetica, Arial, sans-serif\"}, {name: \"font-size\", value: \"12px\"}]);\n\t\tsetStyleSensitively(\".subtext\", [{name: \"font-size\", value: \"9px\"}]);\n\t\tsetStyleSensitively(\".text.instance-count\", [{name: \"fill\", value: \"#666\"}]);\n\t\tsetStyleSensitively(\".external + text .instance-count\", [{name: \"fill\", value: \"#aaa\"}]);\n\t\tsetStyleSensitively(\".cardinality\", [{name: \"font-size\", value: \"10px\"}]);\n\t\tsetStyleSensitively(\".text, .embedded\", [{name: \"pointer-events\", value: \"none\"}]);\n\t\tsetStyleSensitively(\".class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty\", [{name: \"fill\", value: \"#acf\"}]);\n\t\tsetStyleSensitively(\".label .datatype, .datatypeproperty\", [{name: \"fill\", value: \"#9c6\"}]);\n\t\tsetStyleSensitively(\".rdf, .rdfproperty\", [{name: \"fill\", value: \"#c9c\"}]);\n\t\tsetStyleSensitively(\".literal, .node .datatype\", [{name: \"fill\", value: \"#fc3\"}]);\n\t\tsetStyleSensitively(\".deprecated, .deprecatedproperty\", [{name: \"fill\", value: \"#ccc\"}]);\n\t\tsetStyleSensitively(\".external, .externalproperty\", [{name: \"fill\", value: \"#36c\"}]);\n\t\tsetStyleSensitively(\"path, .nofill\", [{name: \"fill\", value: \"none\"}]);\n\t\tsetStyleSensitively(\"marker path\", [{name: \"fill\", value: \"#000\"}]);\n\t\tsetStyleSensitively(\".class, path, line, .fineline\", [{name: \"stroke\", value: \"#000\"}]);\n\t\tsetStyleSensitively(\".white, .subclass, .subclassproperty, .external + text\", [{name: \"fill\", value: \"#fff\"}]);\n\t\tsetStyleSensitively(\".class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused\", [{name: \"fill\", value: \"#f00\"}, {name: \"cursor\", value: \"pointer\"}]);\n\t\tsetStyleSensitively(\".focused, path.hovered\", [{name: \"stroke\", value: \"#f00\"}]);\n\t\tsetStyleSensitively(\".indirect-highlighting, .feature:hover\", [{name: \"fill\", value: \"#f90\"}]);\n\t\tsetStyleSensitively(\".values-from\", [{name: \"stroke\", value: \"#69c\"}]);\n\t\tsetStyleSensitively(\".symbol, .values-from.filled\", [{name: \"fill\", value: \"#69c\"}]);\n\t\tsetStyleSensitively(\".class, path, line\", [{name: \"stroke-width\", value: \"2\"}]);\n\t\tsetStyleSensitively(\".fineline\", [{name: \"stroke-width\", value: \"1\"}]);\n\t\tsetStyleSensitively(\".dashed, .anonymous\", [{name: \"stroke-dasharray\", value: \"8\"}]);\n\t\tsetStyleSensitively(\".dotted\", [{name: \"stroke-dasharray\", value: \"3\"}]);\n\t\tsetStyleSensitively(\"rect.focused, circle.focused\", [{name: \"stroke-width\", value: \"4px\"}]);\n\t\tsetStyleSensitively(\".nostroke\", [{name: \"stroke\", value: \"none\"}]);\n\t\tsetStyleSensitively(\"marker path\", [{name: \"stroke-dasharray\", value: \"100\"}]);\n\t}\n\n\tfunction setStyleSensitively(selector, styles) {\n\t\tvar elements = d3.selectAll(selector);\n\t\tif (elements.empty()) {\n\t\t\treturn;\n\t\t}\n\n\t\tstyles.forEach(function (style) {\n\t\t\telements.each(function () {\n\t\t\t\tvar element = d3.select(this);\n\t\t\t\tif (!shouldntChangeInlineCss(element, style.name)) {\n\t\t\t\t\telement.style(style.name, style.value);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction shouldntChangeInlineCss(element, style) {\n\t\treturn style === \"fill\" && hasBackgroundColorSet(element);\n\t}\n\n\tfunction hasBackgroundColorSet(element) {\n\t\tvar data = element.datum();\n\t\tif (data===undefined) { return false; }\n\t\treturn data.backgroundColor && !!data.backgroundColor();\n\t}\n\n\t/**\n\t * For example the pin of the pick&pin module should be invisible in the exported graphic.\n\t */\n\tfunction hideNonExportableElements() {\n\t\td3.selectAll(\".hidden-in-export\").style(\"display\", \"none\");\n\t}\n\n\tfunction removeVowlInlineStyles() {\n\t\td3.selectAll(\".text, .subtext, .text.instance-count, .external + text .instance-count, .cardinality, .text, .embedded, .class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty, .label .datatype, .datatypeproperty, .rdf, .rdfproperty, .literal, .node .datatype, .deprecated, .deprecatedproperty, .external, .externalproperty, path, .nofill, .symbol, .values-from.filled, marker path, .class, path, line, .fineline, .white, .subclass, .subclassproperty, .external + text, .class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused, .focused, path.hovered, .indirect-highlighting, .feature:hover, .values-from, .class, path, line, .fineline, .dashed, .anonymous, .dotted, rect.focused, circle.focused, .nostroke, marker path\")\n\t\t\t.each(function () {\n\t\t\t\tvar element = d3.select(this);\n\n\t\t\t\tvar inlineStyles = element.node().style;\n\t\t\t\tfor (var styleName in inlineStyles) {\n\t\t\t\t\tif (inlineStyles.hasOwnProperty(styleName)) {\n\t\t\t\t\t\tif (shouldntChangeInlineCss(element, styleName)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement.style(styleName, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (element.datum && element.datum()!==undefined && element.datum().type){\n\t\t\t\t\tif (element.datum().type()===\"rdfs:subClassOf\") {\n\t\t\t\t\t\telement.style(\"fill\", null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t// repair svg icons in the menu;\n        var scrollContainer = d3.select(\"#menuElementContainer\").node();\n        var controlElements=scrollContainer.children;\n        var numEntries = controlElements.length;\n\n        for (var  i = 0; i < numEntries; i++) {\n            var currentMenu=controlElements[i].id;\n            d3.select(\"#\" + currentMenu).select(\"path\").style(\"stroke-width\", \"0\");\n            d3.select(\"#\" + currentMenu).select(\"path\").style(\"fill\", \"#fff\");\n        }\n\n        d3.select(\"#magnifyingGlass\").style(\"stroke-width\",\"0\");\n        d3.select(\"#magnifyingGlass\").style(\"fill\",\"#666\");\n\n    }\n\n\tfunction showNonExportableElements() {\n\t\td3.selectAll(\".hidden-in-export\").style(\"display\", null);\n\t}\n\n\texportMenu.createJSON_exportObject=function(){\n        var i,j,k; // an index variable for the for-loops\n\n        /** get data for exporter **/\n\n        // extract onotology information;\n\t\tvar unfilteredData=graph.getUnfilteredData();\n\t\tvar ontologyComment=graph.options().data()._comment;\n        var metaObj=graph.options().getGeneralMetaObject();\n        var header=graph.options().data().header;\n\n        if (metaObj.iri         && metaObj.iri          !== header.iri         ) { header.iri           = metaObj.iri; }\n        if (metaObj.title       && metaObj.title        !== header.title       ) { header.title         = metaObj.title;}\n        if (metaObj.version     && metaObj.version      !== header.version     ) { header.version       = metaObj.version;}\n        if (metaObj.author      && metaObj.author       !== header.author      ) { header.author        = metaObj.author;}\n        if (metaObj.description && metaObj.description  !== header.description ) { header.description   = metaObj.description;}\n\n\n\n\t\tvar exportText={};\n        exportText._comment=ontologyComment;\n        exportText.header=header;\n        exportText.namespace=graph.options().data().namespace;\n        if (exportText.namespace===undefined){\n            exportText.namespace=[]; // just an empty namespace array\n        }\n\t\t// we do have now the unfiltered data which needs to be transfered to class/classAttribute and property/propertyAttribute\n\n\n        // var classAttributeString='classAttribute:[ \\n';\n        var nodes=unfilteredData.nodes;\n        var nLen=nodes.length; // hope for compiler unroll\n        var classObjects=[];\n        var classAttributeObjects=[];\n        for (i=0;i<nLen;i++){\n            var classObj={};\n            var classAttr={};\n            classObj.id=nodes[i].id();\n            classObj.type=nodes[i].type();\n            classObjects.push(classObj);\n\n            // define the attributes object\n            classAttr.id      = nodes[i].id();\n            classAttr.iri     = nodes[i].iri();\n            classAttr.baseIri = nodes[i].baseIri();\n            classAttr.label   = nodes[i].label();\n\n            if (nodes[i].attributes().length>0  ) { classAttr.attributes  = nodes[i].attributes();  }\n            if (nodes[i].comment()              ) { classAttr.comment     = nodes[i].comment();     }\n            if (nodes[i].annotations()          ) { classAttr.annotations = nodes[i].annotations(); }\n            if (nodes[i].description()          ) { classAttr.description = nodes[i].description(); }\n\n\n            if (nodes[i].individuals().length>0 ) {\n                var classIndividualElements=[];\n                var nIndividuals=nodes[i].individuals();\n                for (j=0;j<nIndividuals.length;j++){\n                    var indObj={};\n                    indObj.iri=nIndividuals[j].iri();\n                    indObj.baseIri=nIndividuals[j].baseIri();\n                    indObj.labels=nIndividuals[j].label();\n                    if (nIndividuals[j].annotations()          ) { indObj.annotations = nIndividuals[j].annotations(); }\n                    if (nIndividuals[j].description()          ) { indObj.description = nIndividuals[j].description(); }\n                    if (nIndividuals[j].comment()              ) { indObj.comment     = nIndividuals[j].comment();     }\n                    classIndividualElements.push(indObj);\n                }\n                classAttr.individuals = classIndividualElements;\n            }\n\n            var equalsForAttributes=undefined;\n            if (nodes[i].equivalents().length>0){\n                equalsForAttributes=[];\n                var equals=nodes[i].equivalents();\n                for (j=0;j<equals.length;j++){\n                    var eqObj={};\n                    var eqAttr={};\n                    eqObj.id=equals[j].id();\n                    equalsForAttributes.push(equals[j].id());\n                    eqObj.type=equals[j].type();\n                    classObjects.push(eqObj);\n\n                    eqAttr.id      = equals[j].id();\n                    eqAttr.iri     = equals[j].iri();\n                    eqAttr.baseIri = equals[j].baseIri();\n                    eqAttr.label   = equals[j].label();\n\n                    if (equals[j].attributes().length>0  ) { eqAttr.attributes  = equals[j].attributes();  }\n                    if (equals[j].comment()              ) { eqAttr.comment     = equals[j].comment();     }\n                    if (equals[j].individuals().length>0 ) { eqAttr.individuals = equals[j].individuals(); }\n                    if (equals[j].annotations()          ) { eqAttr.annotations = equals[j].annotations(); }\n                    if (equals[j].description()          ) { eqAttr.description = equals[j].description(); }\n\n                    if (equals[j].individuals().length>0 ) {\n                        var e_classIndividualElements=[];\n                        var e_nIndividuals=equals[i].individuals();\n                        for (k=0;k<e_nIndividuals.length;k++){\n                            var e_indObj={};\n                            e_indObj.iri    = e_nIndividuals[k].iri();\n                            e_indObj.baseIri= e_nIndividuals[k].baseIri();\n                            e_indObj.labels = e_nIndividuals[k].label();\n\n                            if (e_nIndividuals[k].annotations()          ) { e_indObj.annotations = e_nIndividuals[k].annotations(); }\n                            if (e_nIndividuals[k].description()          ) { e_indObj.description = e_nIndividuals[k].description(); }\n                            if (e_nIndividuals[k].comment()              ) { e_indObj.comment     = e_nIndividuals[k].comment();     }\n                            e_classIndividualElements.push(e_indObj);\n                        }\n                        eqAttr.individuals = e_classIndividualElements;\n                    }\n\n                    classAttributeObjects.push(eqAttr);\n                }\n            }\n            if (equalsForAttributes && equalsForAttributes.length>0){\n                classAttr.equivalent=equalsForAttributes;\n            }\n\n            // classAttr.subClasses=nodes[i].subClasses(); // not needed\n            // classAttr.instances=nodes[i].instances();\n\n                //\n                // .complement(element.complement)\n                // .disjointUnion(element.disjointUnion)\n                // .description(element.description)\n                // .equivalents(element.equivalent)\n                // .intersection(element.intersection)\n                // .type(element.type) Ignore, because we predefined it\n                // .union(element.union)\n            classAttributeObjects.push(classAttr);\n        }\n\n        /** -- properties -- **/\n        var properties=unfilteredData.properties;\n        var pLen=properties.length; // hope for compiler unroll\n        var propertyObjects=[];\n        var propertyAttributeObjects=[];\n\n        for (i=0;i<pLen;i++){\n            var pObj={};\n            var pAttr={};\n            pObj.id=properties[i].id();\n            pObj.type=properties[i].type();\n            propertyObjects.push(pObj);\n\n            // // define the attributes object\n            pAttr.id      = properties[i].id();\n            pAttr.iri     = properties[i].iri();\n            pAttr.baseIri = properties[i].baseIri();\n            pAttr.label   = properties[i].label();\n\n            if (properties[i].attributes().length>0  ) { pAttr.attributes    = properties[i].attributes();  }\n            if (properties[i].comment()              ) { pAttr.comment       = properties[i].comment();     }\n\n            if (properties[i].annotations()    ) { pAttr.annotations    = properties[i].annotations();    }\n            if (properties[i].maxCardinality() ) { pAttr.maxCardinality = properties[i].maxCardinality(); }\n            if (properties[i].minCardinality() ) { pAttr.minCardinality = properties[i].minCardinality(); }\n            if (properties[i].cardinality()    ) { pAttr.cardinality    = properties[i].cardinality();    }\n            if (properties[i].description()    ) { pAttr.description    = properties[i].description();    }\n\n            pAttr.domain=properties[i].domain().id();\n            pAttr.range=properties[i].range().id();\n            // sub properties;\n            if (properties[i].subproperties()){\n                var subProps=properties[i].subproperties();\n                var subPropsIdArray=[];\n                for (j=0;j<subProps.length;j++) {\n                    if (subProps[j].id)\n                        subPropsIdArray.push(subProps[j].id());\n                }\n                pAttr.subproperty=subPropsIdArray;\n            }\n\n            // super properties\n            if (properties[i].superproperties()){\n                var superProps=properties[i].superproperties();\n                var superPropsIdArray=[];\n                for (j=0;j<superProps.length;j++){\n                    if (superProps[j].id)\n                        superPropsIdArray.push(superProps[j].id());\n                }\n                pAttr.superproperty=superPropsIdArray;\n            }\n\n            // check for inverse element\n            if (properties[i].inverse()){\n                if (properties[i].inverse().id)\n                    pAttr.inverse=properties[i].inverse().id();\n            }\n            propertyAttributeObjects.push(pAttr);\n        }\n\n        exportText.class=classObjects;\n        exportText.classAttribute=classAttributeObjects;\n        exportText.property=propertyObjects;\n        exportText.propertyAttribute=propertyAttributeObjects;\n\n\n\n        var nodeElements = graph.graphNodeElements();  // get visible nodes\n        var propElements = graph.graphLabelElements(); // get visible labels\n        // var jsonObj = JSON.parse(exportableJsonText);\t   // reparse the original input json\n\n        /** modify comment **/\n        // var comment = exportText._comment;\n        // var additionalString = \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\n        // // adding new string to comment only if it does not exist\n        // if (comment.indexOf(additionalString) === -1) {\n        //     exportText._comment = comment + \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\n        // }\n\n        var classAttribute = exportText.classAttribute;\n        var propAttribute = exportText.propertyAttribute;\n        /**  remove previously stored variables **/\n        for (i = 0; i < classAttribute.length; i++) {\n            var classObj_del = classAttribute[i];\n            delete classObj_del.pos;\n            delete classObj_del.pinned;\n        }\n        var propertyObj;\n        for (i = 0; i < propAttribute.length; i++) {\n            propertyObj = propAttribute[i];\n            delete propertyObj.pos;\n            delete propertyObj.pinned;\n        }\n        /**  add new variables to jsonObj  **/\n        // class attribute variables\n        nodeElements.each(function (node) {\n            var nodeId = node.id();\n            for (i = 0; i < classAttribute.length; i++) {\n                var classObj = classAttribute[i];\n                if (classObj.id === nodeId) {\n                    // store relative positions\n                    classObj.pos = [parseFloat(node.x.toFixed(2)), parseFloat(node.y.toFixed(2))];\n                    if (node.pinned())\n                        classObj.pinned = true;\n                    break;\n                }\n            }\n        });\n        // property attribute variables\n        for ( j = 0; j < propElements.length; j++) {\n            var correspondingProp = propElements[j].property();\n            for (i = 0; i < propAttribute.length; i++) {\n                propertyObj = propAttribute[i];\n                if (propertyObj.id === correspondingProp.id()) {\n                    propertyObj.pos = [parseFloat(propElements[j].x.toFixed(2)), parseFloat(propElements[j].y.toFixed(2))];\n                    if (propElements[j].pinned())\n                        propertyObj.pinned = true;\n                    break;\n                }\n            }\n        }\n        /** create the variable for settings and set their values **/\n        // disable for MDM\n        if(!graph.options().MDM()){\n            exportText.settings = {};\n\n            // Global Settings\n            var zoom = graph.scaleFactor();\n            var paused = graph.paused();\n            var translation =[parseFloat(graph.translation()[0].toFixed(2)),parseFloat(graph.translation()[1].toFixed(2))];\n            exportText.settings.global = {};\n            exportText.settings.global.zoom = zoom.toFixed(2);\n            exportText.settings.global.translation = translation;\n            exportText.settings.global.paused = paused;\n\n            // shared variable declaration\n            var cb_text;\n            var isEnabled;\n            var cb_obj;\n\n            // Gravity Settings\n            var classDistance = graph.options().classDistance();\n            var datatypeDistance = graph.options().datatypeDistance();\n            exportText.settings.gravity = {};\n            exportText.settings.gravity.classDistance = classDistance;\n            exportText.settings.gravity.datatypeDistance = datatypeDistance;\n\n            // Filter Settings\n            var fMenu = graph.options().filterMenu();\n            var fContainer = fMenu.getCheckBoxContainer();\n            var cbCont = [];\n            for (i = 0; i < fContainer.length; i++) {\n                cb_text = fContainer[i].checkbox.attr(\"id\");\n                isEnabled = fContainer[i].checkbox.property(\"checked\");\n                cb_obj = {};\n                cb_obj.id = cb_text;\n                cb_obj.checked = isEnabled;\n                cbCont.push(cb_obj);\n            }\n            var degreeSliderVal = fMenu.getDegreeSliderValue();\n            exportText.settings.filter = {};\n            exportText.settings.filter.checkBox = cbCont;\n            exportText.settings.filter.degreeSliderValue = degreeSliderVal;\n\n            // Modes Settings\n            var mMenu = graph.options().modeMenu();\n            var mContainer = mMenu.getCheckBoxContainer();\n            var cb_modes = [];\n            for (i = 0; i < mContainer.length; i++) {\n                cb_text = mContainer[i].attr(\"id\");\n                isEnabled = mContainer[i].property(\"checked\");\n                cb_obj = {};\n                cb_obj.id = cb_text;\n                cb_obj.checked = isEnabled;\n                cb_modes.push(cb_obj);\n            }\n            var colorSwitchState = mMenu.colorModeState();\n            exportText.settings.modes = {};\n            exportText.settings.modes.checkBox = cb_modes;\n            exportText.settings.modes.colorSwitchState = colorSwitchState;\n\n\n        }\n\n        var exportObj = {};\n        // todo: [ ] find better way for ordering the objects\n        // hack for ordering of objects, so settings is after metrics\n        // exportObj._comment = exportText._comment;\n        exportObj.header = exportText.header;\n        exportObj.namespace = exportText.namespace;\n        exportObj.metrics = exportText.metrics;\n        if(!graph.options().MDM())\n            exportObj.settings = exportText.settings;\n        exportObj.class = exportText.class;\n        exportObj.classAttribute = exportText.classAttribute;\n        exportObj.property = exportText.property;\n        exportObj.propertyAttribute = exportText.propertyAttribute;\n\n\t\treturn exportObj;\n    };\n\n\tfunction exportJson() {\n        graph.options().navigationMenu().hideAllMenus();\n\t\t/**  check if there is data **/\n\t\tif (!exportableJsonText) {\n\t\t\talert(\"No graph data available.\");\n\t\t\t// Stop the redirection to the path of the href attribute\n\t\t\td3.event.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tvar exportText = getJson();\n\t\t// write the data\n\t\tvar dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(exportText);\n\t\tvar jsonExportFileName=exportFilename;\n\n\t\tif (!jsonExportFileName.endsWith(\".json\"))\n\t\t    jsonExportFileName+=\".json\";\n\t\texportJsonButton.attr(\"href\", dataURI)\n\t\t\t.attr(\"download\", jsonExportFileName );\n\t}\n\n    exportMenu.getJson = function () {\n        return getJson();\n    };\n\n\tfunction getJson() {\n        var exportObj=exportMenu.createJSON_exportObject();\n        // make a string again;\n        return JSON.stringify(exportObj, null, '  ');\n    }\n\n    var curveFunction = d3.svg.line()\n        .x(function (d) {\n            return d.x;\n        })\n        .y(function (d) {\n            return d.y;\n        })\n        .interpolate(\"cardinal\");\n    var loopFunction = d3.svg.line()\n        .x(function (d) {\n            return d.x;\n        })\n        .y(function (d) {\n            return d.y;\n        })\n        .interpolate(\"cardinal\")\n        .tension(-1);\n\n\tfunction exportTex(){\n\t\tvar zoom =graph.scaleFactor();\n\t\tvar grTranslate=graph.translation();\n        var bbox=graph.getBoundingBoxForTex();\n        var comment=\" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\";\n        comment+=\" %        Generated with the experimental alpha version of the TeX exporter of WebVOWL (version 1.1.3) %%% \\n\";\n        comment+=\" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\n        comment+=\" %   The content can be used as import in other TeX documents. \\n\";\n        comment+=\" %   Parent document has to use the following packages   \\n\";\n        comment+=\" %   \\\\usepackage{tikz}  \\n\";\n        comment+=\" %   \\\\usepackage{helvet}  \\n\";\n        comment+=\" %   \\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric}  \\n\";\n        comment+=\" %   \\\\usepackage{xcolor}  \\n\\n\";\n        comment+=\" %%%%%%%%%%%%%%% Example Parent Document %%%%%%%%%%%%%%%%%%%%%%%\\n\";\n        comment+=\" %\\\\documentclass{article} \\n\";\n        comment+=\" %\\\\usepackage{tikz} \\n\";\n        comment+=\" %\\\\usepackage{helvet} \\n\";\n        comment+=\" %\\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric} \\n\";\n        comment+=\" %\\\\usepackage{xcolor} \\n\\n\";\n        comment+=\" %\\\\begin{document} \\n\";\n        comment+=\" %\\\\section{Example} \\n\";\n        comment+=\" %  This is an example. \\n\";\n        comment+=\" %  \\\\begin{figure} \\n\";\n        comment+=\" %    \\\\input{<THIS_FILE_NAME>} % << tex file name for the graph \\n\";\n        comment+=\" %    \\\\caption{A generated graph with TKIZ using alpha version of the TeX exporter of WebVOWL (version 1.1.3) } \\n\";\n        comment+=\" %  \\\\end{figure} \\n\";\n        comment+=\" %\\\\end{document} \\n\";\n        comment+=\" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\n\n\n\n\n\n\t\tvar texString=comment+\"\\\\definecolor{imageBGCOLOR}{HTML}{FFFFFF} \\n\"+\n\t\t\t\"\\\\definecolor{owlClassColor}{HTML}{AACCFF}\\n\"+\n\t\t\t\"\\\\definecolor{owlObjectPropertyColor}{HTML}{AACCFF}\\n\"+\n\t\t\t\"\\\\definecolor{owlExternalClassColor}{HTML}{AACCFF}\\n\"+\n\t\t\t\"\\\\definecolor{owlDatatypePropertyColor}{HTML}{99CC66}\\n\"+\n\t\t\t\"\\\\definecolor{owlDatatypeColor}{HTML}{FFCC33}\\n\"+\n\t\t\t\"\\\\definecolor{owlThingColor}{HTML}{FFFFFF}\\n\"+\n            \"\\\\definecolor{valuesFrom}{HTML}{6699CC}\\n\"+\n            \"\\\\definecolor{rdfPropertyColor}{HTML}{CC99CC}\\n\"+\n\t\t\t\"\\\\definecolor{unionColor}{HTML}{6699cc}\\n\"+\n\t\t\t\"\\\\begin{center} \\n\"+\n\t\t\t\"\\\\resizebox{\\\\linewidth}{!}{\\n\"+\n\n\t\t\t\"\\\\begin{tikzpicture}[framed]\\n\" +\n\t\t\t\"\\\\clip (\"+bbox[0]+\"pt , \"+bbox[1]+\"pt ) rectangle (\"+bbox[2]+\"pt , \"+bbox[3]+\"pt);\\n\"+\n\t\t\t\"\\\\tikzstyle{dashed}=[dash pattern=on 4pt off 4pt] \\n\"+\n            \"\\\\tikzstyle{dotted}=[dash pattern=on 2pt off 2pt] \\n\"+\n        \"\\\\fontfamily{sans-serif}{\\\\fontsize{12}{12}\\\\selectfont}\\n \\n\";\n\n\n        texString+=\"\\\\tikzset{triangleBlack/.style = {fill=black, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n        texString+=\"\\\\tikzset{triangleWhite/.style = {fill=white, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n        texString+=\"\\\\tikzset{triangleBlue/.style  = {fill=valuesFrom, draw=valuesFrom, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n\n        texString+=\"\\\\tikzset{Diamond/.style = {fill=white, draw=black, line width=2pt,scale=1.2,regular polygon, regular polygon sides=4} }\\n\";\n\n\n\n        texString+=\"\\\\tikzset{Literal/.style={rectangle,align=center,\\n\"+\n\t        \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, draw=black, dashed, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\"+\n            \"minimum height = 20pt}}\\n\\n\";\n\n        texString+=\"\\\\tikzset{Datatype/.style={rectangle,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, draw=black, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\"+\n            \"minimum height = 20pt}}\\n\\n\";\n\n\n        texString+=\"\\\\tikzset{owlClass/.style={circle, inner sep=0mm,align=center, \\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\n\n        texString+=\"\\\\tikzset{anonymousClass/.style={circle, inner sep=0mm,align=center, \\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, dashed, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\n\n\n        texString+=\"\\\\tikzset{owlThing/.style={circle, inner sep=0mm,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, dashed, draw=black, line width=1pt, fill=owlThingColor, minimum size=62pt}}\\n\\n\";\n\n\n        texString+=\"\\\\tikzset{owlObjectProperty/.style={rectangle,align=center,\\n\"+\n            \"inner sep=0mm,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"fill=owlObjectPropertyColor, minimum width=80pt,\\n\"+\n            \"minimum height = 25pt}}\\n\\n\";\n\n        texString+=\"\\\\tikzset{rdfProperty/.style={rectangle,align=center,\\n\"+\n            \"inner sep=0mm,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"fill=rdfPropertyColor, minimum width=80pt,\\n\"+\n            \"minimum height = 25pt}}\\n\\n\";\n\n\n\n\n\t\ttexString+=\"\\\\tikzset{owlDatatypeProperty/.style={rectangle,align=center,\\n\"+\n    \t\t\"fill=owlDatatypePropertyColor, minimum width=80pt,\\n\"+\n            \"inner sep=0mm,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n    \t\t\"minimum height = 25pt}}\\n\\n\";\n\n\t\ttexString+=\"\\\\tikzset{rdfsSubClassOf/.style={rectangle,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"inner sep=0mm,\\n\"+\n    \t\t\"fill=imageBGCOLOR, minimum width=80pt,\\n\"+\n    \t\t\"minimum height = 25pt}}\\n\\n\";\n\n        texString+=\"\\\\tikzset{unionOf/.style={circle, inner sep=0mm,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, draw=black, line width=1pt, fill=unionColor, minimum size=25pt}}\\n\\n\";\n\n        texString+=\"\\\\tikzset{disjointWith/.style={circle, inner sep=0mm,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"black, draw=black, line width=1pt, fill=unionColor, minimum size=20pt}}\\n\\n\";\n\n\n\n        texString+=\"\\\\tikzset{owlEquivalentClass/.style={circle,align=center,\\n\"+\n            \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\"+\n            \"inner sep=0mm,\\n\"+\n        \t\"black, solid, draw=black, line width=3pt, fill=owlExternalClassColor, minimum size=101pt,\\n\"+\n            \"postaction = {draw,line width=1pt, white}}}\\n\\n\";\n\n        // draw a bounding box;\n\n\t\t// get bbox coordinates;\n\n\n\n\n        graph.options().navigationMenu().hideAllMenus();\n        /**  check if there is data **/\n        if (!exportableJsonText) {\n            alert(\"No graph data available.\");\n            // Stop the redirection to the path of the href attribute\n            d3.event.preventDefault();\n            return;\n        }\n\n        var i=0,identifier;\n\n        /** get data for exporter **/\n        var nodeElements = graph.graphNodeElements();  // get visible nodes\n        var propElements = graph.graphLabelElements(); // get visible labels\n\t\tvar links=graph.graphLinkElements();\n\n\t\t// export only nodes;\n        // draw Links;\n        for (i=0;i<links.length;i++){\n            var link=links[i];\n            // console.log(\"\\n****************\\nInverstigating Link for property \"+link.property().labelForCurrentLanguage());\n\n            var prop = link.property();\n            var dx,dy,px,py,rx,ry;\n            var colorStr=\"black\";\n            var linkDomainIntersection ;\n            var linkRangeIntersection;\n            var center;\n            var linkStyle=\"\";\n            var isLoop=\"\";\n            var curvePoint;\n            var pathStart;\n            var pathEnd;\n            var controlPoints;\n            var len;\n            var ahAngle;\n            var pathLen;\n            var markerOffset=7;\n\n            var arrowType=\"triangleBlack\";\n            var linkWidth=\",line width=2pt\";\n            if (prop.linkType) {\n                if (prop.linkType() === \"dotted\") {\n                    //stroke-dasharray: 3;\n                    linkStyle = \", dotted \";\n                    arrowType = \"triangleWhite\";\n                }\n                if (prop.linkType() === \"dashed\") {\n                    //stroke-dasharray: 3;\n                    linkStyle = \", dashed \";\n                }\n\n                if (prop.linkType() === \"values-from\") {\n                    colorStr = \"valuesFrom\";\n                }\n\n            }\n\n            var startX,startY,endX,endY,normX,normY,lg;\n\n            if (link.layers().length === 1 && !link.loops()) {\n\n                linkDomainIntersection = graph.math().calculateIntersection(link.range(), link.domain(), 1);\n                linkRangeIntersection = graph.math().calculateIntersection(link.domain(), link.range(), 1);\n                center= graph.math().calculateCenter(linkDomainIntersection, linkRangeIntersection);\n                dx=linkDomainIntersection.x;\n                dy=-linkDomainIntersection.y;\n                px=center.x;\n                py=-center.y;\n                rx=linkRangeIntersection.x;\n                ry=-linkRangeIntersection.y;\n\n\n                pathStart  = linkDomainIntersection;\n                curvePoint = center;\n                pathEnd    = linkRangeIntersection;\n\n                var nx=rx-px;\n                var ny=ry-py;\n\n                // normalize ;\n                len=Math.sqrt(nx*nx+ny*ny);\n\n                nx=nx/len;\n                ny=ny/len;\n\n                ahAngle=Math.atan2(ny,nx)* (180 / Math.PI);\n                normX=nx;\n                normY=ny;\n            }\n            else {\n                if (link.isLoop()) {\n                    isLoop=\", tension=3\";\n                    controlPoints = graph.math().calculateLoopPoints(link);\n                    pathStart  = controlPoints[0];\n                    curvePoint = controlPoints[1];\n                    pathEnd    = controlPoints[2];\n                }else {\n                    curvePoint = link.label();\n                    pathStart  = graph.math().calculateIntersection(curvePoint, link.domain(), 1);\n                    pathEnd    = graph.math().calculateIntersection(curvePoint, link.range(), 1);\n                }\n                dx=pathStart.x;\n                dy=-pathStart.y;\n                px=curvePoint.x;\n                py=-curvePoint.y;\n                rx=pathEnd.x;\n                ry=-pathEnd.y;\n            }\n\n            texString += \"\\\\draw [\"+colorStr+linkStyle+linkWidth+isLoop+\"] plot [smooth] coordinates {(\"+\n                dx+\"pt, \"+dy+\"pt) (\"+px+\"pt, \"+py+\"pt)  (\"+rx+\"pt, \"+ry+\"pt)};\\n\";\n\n\n\n\n            if (link.property().markerElement()===undefined) continue;\n\n            // add arrow head;\n\n\n            if (link.property().type()===\"owl:someValuesFrom\" || link.property().type()===\"owl:allValuesFrom\"  ) {\n             arrowType=\"triangleBlue\";\n            }\n\n            lg=link.pathObj();\n            pathLen=Math.floor( lg.node().getTotalLength() );\n            var p1=lg.node().getPointAtLength(pathLen-4);\n            var p2=lg.node().getPointAtLength(pathLen );\n            var markerCenter=lg.node().getPointAtLength(pathLen-6);\n\n            if (link.property().type()===\"setOperatorProperty\"){\n                p1=lg.node().getPointAtLength(4);\n                p2=lg.node().getPointAtLength(0);\n                markerCenter=lg.node().getPointAtLength(8);\n                arrowType=\"Diamond\";\n\t\t\t}\n\n            startX=p1.x;\n            startY=p1.y;\n            endX=p2.x;\n            endY=p2.y;\n            normX=endX-startX;\n            normY=endY-startY;\n            len=Math.sqrt(normX*normX+normY*normY);\n            normX=normX/len;\n            normY=normY/len;\n\n            ahAngle=-1.0*Math.atan2(normY,normX)* (180 / Math.PI);\n            ahAngle-=90;\n            if (link.property().type()===\"setOperatorProperty\"){\n                ahAngle-=45;\n            }\n            // console.log(link.property().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\n            rx=markerCenter.x;\n            ry=markerCenter.y;\n            if (link.layers().length === 1 && !link.loops()) {\n                // markerOffset=-1*m\n                ry=-1*ry;\n                texString += \"\\\\node[\"+arrowType+\", rotate=\"+ahAngle+\"] at (\"+rx+\"pt, \"+ry+\"pt)   (single_marker\"+i+\") {};\\n \";\n            }else{\n                ry=-1*ry;\n                texString += \"\\\\node[\"+arrowType+\", rotate=\"+ahAngle+\"] at (\"+rx+\"pt, \"+ry+\"pt)   (marker\"+i+\") {};\\n \";\n            }\n\n            // if   (link.isLoop()){\n            //    rotAngle=-10+angle * (180 / Math.PI);\n            // }\n\n\t\t\t// add cardinality;\n\t\t\tvar cardinalityText=link.property().generateCardinalityText();\n            if (cardinalityText && cardinalityText.length>0){\n                var cardinalityCenter=lg.node().getPointAtLength(pathLen-18);\n\t\t\t\tvar cx=cardinalityCenter.x-(10*normY);\n            \tvar cy=cardinalityCenter.y+(10*normX); // using orthonormal y Coordinate\n\t\t\t\tcy*=-1.0;\n\t\t\t\tvar textColor=\"black\";\n\t\t\t\tif (cardinalityText.indexOf(\"A\")>-1){\n\t\t\t\t\tcardinalityText=\"$\\\\forall$\";\n\t\t\t\t}\n\t\t\t\tif (cardinalityText.indexOf(\"E\")>-1){\n\t\t\t\t\tcardinalityText=\"$\\\\exists$\";\n\t\t\t\t}\n\n\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },text=\"+textColor+\"] at (\"+cx+\"pt, \"+cy+\"pt)   (cardinalityText\"+i+\") {\"+cardinalityText+\"};\\n \";\n\t\t\t}\n\n\n\n            if (link.property().inverse()){\n                lg=link.pathObj();\n                pathLen=Math.floor( lg.node().getTotalLength() );\n                var p1_inv=lg.node().getPointAtLength(4);\n                var p2_inv=lg.node().getPointAtLength(0 );\n                var markerCenter_inv=lg.node().getPointAtLength(6);\n                startX=p1_inv.x;\n                startY=p1_inv.y;\n                endX=p2_inv.x;\n                endY=p2_inv.y;\n                normX=endX-startX;\n                normY=endY-startY;\n                len=Math.sqrt(normX*normX+normY*normY);\n                normX=normX/len;\n                normY=normY/len;\n\n                ahAngle=-1.0*Math.atan2(normY,normX)* (180 / Math.PI);\n                ahAngle-=90;\n             //   console.log(\"INV>>\\n \"+link.property().inverse().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\n                rx=markerCenter_inv.x;\n                ry=markerCenter_inv.y;\n                if (link.layers().length === 1 && !link.loops()) {\n                    // markerOffset=-1*m\n                    ry=-1*ry;\n                    texString += \"\\\\node[\"+arrowType+\", rotate=\"+ahAngle+\"] at (\"+rx+\"pt, \"+ry+\"pt)   (INV_single_marker\"+i+\") {};\\n \";\n                }else{\n                    ry=-1*ry;\n                    texString += \"\\\\node[\"+arrowType+\", rotate=\"+ahAngle+\"] at (\"+rx+\"pt, \"+ry+\"pt)   (INV_marker\"+i+\") {};\\n \";\n                }\n            }\n\n\n\n        }\n\n\n\n        nodeElements.each(function (node) {\n\n            px = node.x;\n            py = -node.y;\n            identifier = node.labelForCurrentLanguage();\n            // console.log(\"Writing : \"+ identifier);\n            if (identifier===undefined) identifier=\"\";\n            var qType=\"owlClass\";\n            if (node.type()===\"owl:Thing\" || node.type()===\"owl:Nothing\")\n                qType=\"owlThing\";\n\n            if (node.type()===\"owl:equivalentClass\") {\n                qType = \"owlEquivalentClass\";\n            }\n            var textColorStr=\"\";\n            if (node.textBlock){\n                var txtColor=node.textBlock()._textBlock().style(\"fill\");\n                if (txtColor===\"rgb(0, 0, 0)\"){\n                    textColorStr=\", text=black\";\n                }\n                if (txtColor===\"rgb(255, 255, 255)\"){\n                    textColorStr=\", text=white\";\n                }\n\n\n                var tspans= node.textBlock()._textBlock().node().children;\n                if (tspans[0]) {\n                    identifier = tspans[0].innerHTML;\n                    if (node.individuals() && node.individuals().length===parseInt(tspans[0].innerHTML)) {\n                        identifier = \"{\\\\color{gray} \" + tspans[0].innerHTML + \" }\";\n                    }\n                    for (var t = 1; t < tspans.length; t++) {\n                    \tif (node.individuals() && node.individuals().length===parseInt(tspans[t].innerHTML)){\n                            identifier += \"\\\\\\\\ {\\\\color{gray} \" + tspans[t].innerHTML+ \" }\";\n\t\t\t\t\t\t}else{\n                        identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML+ \" }\";}\n                    }\n                }\n            }\n            if (node.type()===\"rdfs:Literal\")\t\t\t\t    { qType = \"Literal\"        ;}\n            if (node.type()===\"rdfs:Datatype\")\t\t\t\t    { qType = \"Datatype\"       ;}\n            if (node.attributes().indexOf(\"anonymous\")!==-1)\t{ qType = \"anonymousClass\" ;}\n\n\n            if (node.type()===\"owl:unionOf\" || node.type()===\"owl:complementOf\" || node.type()===\"owl:disjointUnionOf\" ||  node.type()===\"owl:intersectionOf\" )\n                qType=\"owlClass\";\n\n            var bgColorStr=\"\";\n            var widthString=\"\";\n\n            if (node.type()===\"rdfs:Literal\" || node.type()===\"rdfs:Datatype\"){\n                var width=node.width();\n                widthString=\",minimum width=\"+width+\"pt\";\n            }\n            else{\n            \twidthString=\",minimum size=\" +2*node.actualRadius()+\"pt\";\n\n\t\t\t}\n            if (node.backgroundColor()){\n                var bgColor=node.backgroundColor();\n                bgColor.toUpperCase();\n                bgColor=bgColor.slice(1,bgColor.length);\n                texString+= \"\\\\definecolor{Node\"+i+\"_COLOR}{HTML}{\"+bgColor+\"} \\n \";\n                bgColorStr=\", fill=Node\"+i+\"_COLOR \";\n            }\n            if (node.attributes().indexOf(\"deprecated\")>-1) {\n                texString+= \"\\\\definecolor{Node\"+i+\"_COLOR}{HTML}{CCCCCC} \\n \";\n                bgColorStr=\", fill=Node\"+i+\"_COLOR \";\n            }\n\n            var leftPos= px-7;\n            var rightPos= px+7;\n            var txtOffset=py+20;\n            if (node.type()!==\"owl:unionOf\" || node.type()!==\"owl:disjointUnionOf\") {\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n            }\n            if (node.type()===\"owl:unionOf\"){\n            \t// add symbol to it;\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+rightPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[text=black] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\mathbf{\\\\cup}$};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n\t\t\t}\n            // OWL DISJOINT UNION OF\n            if (node.type()===\"owl:disjointUnionOf\"){\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+rightPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (disjointUnoinText\"+i+\") {1};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n            }\n\t\t\t// OWL COMPLEMENT OF\n            if (node.type()===\"owl:complementOf\"){\n                // add symbol to it;\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+px+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{18pt}{18}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\neg$};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n            }\n            // OWL INTERSECTION OF\n            if (node.type()===\"owl:intersectionOf\"){\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf   , text=black] at (\"+rightPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\"+leftPos+ \"pt, \" + py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n\n                // add now the outer colors;\n                texString += \"\\\\filldraw[even odd rule,fill=owlClassColor,line width=1pt] (\"+leftPos+ \"pt, \" + py + \"pt) circle (12.5pt)  (\"+rightPos+ \"pt, \" + py + \"pt) circle (12.5pt);\\n \";\n\n                // add texts\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (intersectionText\"+i+\") {$\\\\cap$};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n\n            }\n\n\n\n            i++;\n\n        });\n        for (i=0;i<propElements.length;i++){\n            var correspondingProp = propElements[i].property();\n            var p_px = propElements[i].x;\n            var p_py = -propElements[i].y;\n            identifier = correspondingProp.labelForCurrentLanguage();\n            if (identifier===undefined) identifier=\"\";\n            var textColorStr=\"\";\n            if (correspondingProp.textBlock && correspondingProp.textBlock()){\n                var txtColor=correspondingProp.textBlock()._textBlock().style(\"fill\");\n              //  console.log(\"PropertyTextColor=\"+txtColor);\n                if (txtColor===\"rgb(0, 0, 0)\"){\n                    textColorStr=\", text=black\";\n                }\n                if (txtColor===\"rgb(255, 255, 255)\"){\n                    textColorStr=\", text=white\";\n                }\n                var tspans= correspondingProp.textBlock()._textBlock().node().children;\n\n                // identifier=node.textBlock()._textBlock().text();\n               // console.log(tspans);\n                if (tspans[0]) {\n                    identifier = tspans[0].innerHTML;\n\n                    for (var t = 1; t < tspans.length; t++) {\n\t\t\t\t\t\tvar spanText=tspans[t].innerHTML;\n\t\t\t\t\t\tif (spanText.indexOf(\"(\")>-1){\n                            identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML+ \" }\";\n                        }\n\t\t\t\t\t\telse {\n                            identifier += \"\\\\\\\\ \" + tspans[t].innerHTML;\n                        }\n                    }\n                }\n                else{\n                }\n            }\n            if (correspondingProp.type()===\"setOperatorProperty\"){\n                continue; // this property does not have a label\n            }\n            var qType=\"owlObjectProperty\";\n            if (correspondingProp.type()===\"owl:DatatypeProperty\") { qType=\"owlDatatypeProperty\";}\n            if (correspondingProp.type()===\"rdfs:subClassOf\") { qType=\"rdfsSubClassOf\";}\n            if (correspondingProp.type()===\"rdf:Property\") { qType=\"rdfProperty\";}\n\n\n\n            var bgColorStr=\"\";\n            if (correspondingProp.backgroundColor()){\n               // console.log(\"Found backGround color\");\n                var bgColor=correspondingProp.backgroundColor();\n                //console.log(bgColor);\n                bgColor.toUpperCase();\n                bgColor=bgColor.slice(1,bgColor.length);\n                texString+= \"\\\\definecolor{property\"+i+\"_COLOR}{HTML}{\"+bgColor+\"} \\n \";\n                bgColorStr=\", fill=property\"+i+\"_COLOR \";\n            }\n            if (correspondingProp.attributes().indexOf(\"deprecated\")>-1) {\n                texString+= \"\\\\definecolor{property\"+i+\"_COLOR}{HTML}{CCCCCC} \\n \";\n                bgColorStr=\", fill=property\"+i+\"_COLOR \";\n            }\n\n            var widthString=\"\";\n            var width=correspondingProp.textWidth();\n            widthString=\",minimum width=\"+width+\"pt\";\n\n\n            // OWL INTERSECTION OF\n            if (correspondingProp.type()===\"owl:disjointWith\"){\n            \tvar leftPos=p_px-12;\n                var rightPos=p_px+12;\n\t\t\t\tvar txtOffset=p_py-20;\n                texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (Node\" + i + \") {};\\n\";\n                texString += \"\\\\node[disjointWith , text=black] at (\"+leftPos+ \"pt, \" + p_py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[disjointWith , text=black] at (\"+rightPos+ \"pt, \" + p_py + \"pt)   (SymbolNode\"+i+ \") {};\\n\";\n                texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + p_px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\";\n\t\t\t\tif (graph.options().compactNotation()===false){\n                    texString += \"(disjoint)\";\n\t\t\t\t}\n                texString += \"};\\n\";\n                continue;\n            }\n\n\n\n            if (correspondingProp.inverse()){\n                var inv_correspondingProp=correspondingProp.inverse();\n                // create the rendering element for the inverse property;\n                var inv_identifier = inv_correspondingProp.labelForCurrentLanguage();\n                if (inv_identifier===undefined) inv_identifier=\"\";\n                var inv_textColorStr=\"\";\n                //console.log(inv_correspondingProp);\n                //console.log(inv_correspondingProp.textBlock());\n\n                if (inv_correspondingProp.textBlock && inv_correspondingProp.textBlock()){\n\n                    var inv_txtColor=inv_correspondingProp.textBlock()._textBlock().style(\"fill\");\n                  //  console.log(\"PropertyTextColor=\"+inv_txtColor);\n                    if (inv_txtColor===\"rgb(0, 0, 0)\"){\n                        inv_textColorStr=\", text=black\";\n                    }\n                    if (inv_txtColor===\"rgb(255, 255, 255)\"){\n                        inv_textColorStr=\", text=white\";\n                    }\n                    var inv_tspans= inv_correspondingProp.textBlock()._textBlock().node().children;\n\n                    // identifier=node.textBlock()._textBlock().text();\n                  //  console.log(inv_tspans);\n                    if (inv_tspans[0]) {\n                        inv_identifier = inv_tspans[0].innerHTML;\n\n                        for (var inv_t = 1; inv_t < inv_tspans.length; inv_t++) {\n                            var ispanText=inv_tspans[inv_t].innerHTML;\n\t\t\t\t\t\t\tif (ispanText.indexOf(\"(\") > -1) {\n\t\t\t\t\t\t\t\tinv_identifier  += \"\\\\\\\\ {\\\\small \" + inv_tspans[inv_t].innerHTML + \" }\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tinv_identifier += \"\\\\\\\\ \" + inv_tspans[inv_t].innerHTML;\n\t\t\t\t\t\t\t}\n                        }\n                    }\n                }\n                var inv_qType=\"owlObjectProperty\";\n                var inv_bgColorStr=\"\";\n\n                if (inv_correspondingProp.backgroundColor()){\n                  //  console.log(\"Found backGround color\");\n                    var inv_bgColor=inv_correspondingProp.backgroundColor();\n                 //   console.log(inv_bgColor);\n                    inv_bgColor.toUpperCase();\n                    inv_bgColor=inv_bgColor.slice(1,inv_bgColor.length);\n                    texString+= \"\\\\definecolor{inv_property\"+i+\"_COLOR}{HTML}{\"+inv_bgColor+\"} \\n \";\n                    inv_bgColorStr=\", fill=inv_property\"+i+\"_COLOR \";\n                }\n                if (inv_correspondingProp.attributes().indexOf(\"deprecated\")>-1) {\n                    texString+= \"\\\\definecolor{inv_property\"+i+\"_COLOR}{HTML}{CCCCCC} \\n \";\n                    inv_bgColorStr=\", fill=inv_property\"+i+\"_COLOR \";\n                }\n\n                var inv_widthString=\"\";\n                var inv_width=inv_correspondingProp.textWidth();\n\n                var pOY1=p_py-14;\n                var pOY2=p_py+14;\n                inv_widthString=\",minimum width=\"+inv_width+\"pt\";\n                texString += \"% Createing Inverse Property \\n\";\n                texString += \"\\\\node[\"+inv_qType+\" \"+inv_widthString+\" \"+inv_bgColorStr+\" \" +inv_textColorStr+\"] at (\" + p_px + \"pt, \" + pOY1 + \"pt)   (property\" + i + \") {\" + inv_identifier.replaceAll(\"_\",\"\\\\_ \") + \"};\\n\";\n                texString += \"% \"+ inv_qType+ \" vs \"+ qType+ \"\\n\";\n                texString += \"% \"+ inv_widthString+ \" vs \"+ widthString+ \"\\n\";\n                texString += \"% \"+ inv_bgColorStr+ \" vs \"+ bgColorStr+ \"\\n\";\n                texString += \"% \"+ inv_textColorStr+ \" vs \"+ textColorStr+ \"\\n\";\n\n                texString += \"\\\\node[\"+qType+\" \"+widthString+\" \"+bgColorStr+\" \" +textColorStr+\"] at (\" + p_px + \"pt, \" + pOY2 + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\",\"\\\\_ \") + \"};\\n\";\n\n            }else{\n                texString += \"\\\\node[\"+qType+\" \"+widthString+\" \"+bgColorStr+\" \" +textColorStr+\"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\",\"\\\\_ \") + \"};\\n\";\n            }\n        }\n\n\t    texString+=\"\\\\end{tikzpicture}\\n}\\n \\\\end{center}\\n\";\n\n     //   console.log(\"Tex Output\\n\"+ texString);\n        var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(texString);\n        exportTexButton.attr(\"href\", dataURI)\n            .attr(\"download\", exportFilename + \".tex\");\n\n\n\t}\n\n    function calculateRadian(angle) {\n        angle = angle % 360;\n        if (angle < 0) {\n            angle = angle + 360;\n        }\n        return (Math.PI * angle) / 180;\n    }\n    function calculateAngle(radian) {\n        return radian * (180 / Math.PI);\n    }\n\n\treturn exportMenu;\n};\n","/**\n * Contains the logic for the export button.\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\tvar exportTTLModule={};\n\tvar resultingTTLContent=\"\";\n\tvar currentNodes;\n\tvar currentProperties;\n    var currentAxioms;\n    var Map_ID2Node={};\n    var Map_ID2Prop={};\n    var prefixModule=webvowl.util.prefixTools(graph);\n\n\texportTTLModule.requestExport=function(){\n        prefixModule.updatePrefixModel();\n        resultingTTLContent=\"\";\n        currentNodes=graph.getClassDataForTtlExport();\n        var i;\n        for (i=0;i<currentNodes.length;i++){\n            Map_ID2Node[currentNodes[i].id()]=currentNodes[i];\n        }\n        currentProperties=graph.getPropertyDataForTtlExport();\n\n        for (i=0;i<currentProperties.length;i++){\n            Map_ID2Prop[currentProperties[i].id()]=currentProperties[i];\n        }\n\n\n        prepareHeader();\n        preparePrefixList();\n        if(!graph.options().MDM)\n            prepareOntologyDef();\n        resultingTTLContent+=\"#################################################################\\r\\n\\r\\n\";\n        preparePrefixRepresentation();\n        var property_success=exportProperties();\n        var class_success=exportClasses();\n        currentNodes=null;\n        currentProperties=null;\n        Map_ID2Node={};\n        Map_ID2Prop={};\n        if (property_success===false || class_success===false)\n            return false;\n\t\treturn true;\n\n\t};\n\n\tfunction preparePrefixRepresentation(){\n\t\tvar i;\n        var allNodes=graph.getUnfilteredData().nodes;\n        var allProps=graph.getUnfilteredData().properties;\n\t\tfor (i=0;i<allNodes.length;i++){\n\t\t    var nodeIRI=prefixModule.getPrefixRepresentationForFullURI(allNodes[i].iri());\n\t\t    if (prefixModule.validURL(nodeIRI)===true)\n                allNodes[i].prefixRepresentation=\"<\"+nodeIRI+\">\";\n\t\t    else\n                allNodes[i].prefixRepresentation=nodeIRI;\n\t\t}\n        for (i=0;i<allProps.length;i++){\n\t\t    var propIRI=prefixModule.getPrefixRepresentationForFullURI(allProps[i].iri());\n            if (prefixModule.validURL(propIRI)===true)\n                allProps[i].prefixRepresentation=\"<\"+propIRI+\">\";\n            else\n                allProps[i].prefixRepresentation=propIRI;\n        }\n\t}\n\n\tfunction exportProperties(){\n\t    if (currentProperties.length===0) return; // we dont need to write that\n        resultingTTLContent+=\"###  Property Definitions (Number of Property) \"+currentProperties.length+\" ###\\r\\n\";\n        for (var i=0;i<currentProperties.length;i++) {\n\n            resultingTTLContent += \"#  --------------------------- Property \" + i + \"------------------------- \\r\\n\";\n            var addedElement=extractPropertyDescription(currentProperties[i]);\n            resultingTTLContent += addedElement ;\n            //@ workaround for not supported elements\n            if (addedElement.indexOf(\"WHYEMPTYNAME\")!==-1){\n                return false;\n            }\n        }\n        return true;\n\t}\n\n\n\tfunction exportClasses(){\n        if (currentNodes.length===0) return; // we dont need to write that\n        resultingTTLContent+=\"###  Class Definitions (Number of Classes) \"+currentNodes.length+\" ###\\r\\n\";\n        for (var i=0;i<currentNodes.length;i++) {\n            // check for node type here and return false\n            resultingTTLContent += \"#  --------------------------- Class  \" + i + \"------------------------- \\r\\n\";\n            var addedElement=extractClassDescription(currentNodes[i]);\n            resultingTTLContent += addedElement ;\n\n            if (addedElement.indexOf(\"WHYEMPTYNAME\")!==-1){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function getPresentAttribute(selectedElement,element){\n        var attr = selectedElement.attributes();\n        return (attr.indexOf(element)>=0);\n    }\n\n    function extractClassDescription(node){\n        var subject=node.prefixRepresentation;\n        var predicate=\"rdf:type\";\n        var object;\n        //MDM_TODO: create global configuration to define letter for prefix\n        if(graph.options().MDM){\n            //MDM_TODO. Obtain prefix from global options.\n            object = \"G\"+ graph.options().prefixModule().getPrefixRepresentationForFullURI(node.iriType());\n        }else{\n            object=node.type();\n        }\n        if (node.type()===\"owl:equivalentClass\")\n            object=\"owl:Class\";\n        if (node.type()===\"owl:disjointUnionOf\")\n            object=\"owl:Class\";\n        if (node.type()===\"owl:unionOf\")\n            object=\"owl:Class\";\n        var arrayOfNodes=[];\n        var arrayOfUnionNodes=[];\n\n        if (node.union()){\n            var union=node.union();\n            for (var u=0;u<union.length;u++){\n                var u_node=Map_ID2Node[union[u]];\n                arrayOfUnionNodes.push(u_node);\n            }\n        }\n\n        if (node.disjointUnion()){\n            var distUnion=node.disjointUnion();\n            for (var du=0;du<distUnion.length;du++){\n                var du_node=Map_ID2Node[distUnion[du]];\n                arrayOfNodes.push(du_node);\n            }\n        }\n\n        var objectDef=subject+\" \"+predicate+\" \"+object;\n        if (getPresentAttribute(node,\"deprecated\")===true){\n            objectDef+=\", owl:DeprecatedProperty\";\n        }\n        // equivalent class handeled using type itself!\n\n        // check for equivalent classes;\n        var indent=getIndent(subject);\n        objectDef+=\"; \\r\\n\";\n        if(node.type() === Global.FEATURE_ID.name){\n            //MDM_TODO: get prefix sc from options.\n            objectDef+= indent+\" rdfs:subClassOf sc:identifier\"+ \" ;\\r\\n\"\n        }\n        for (var e=0;e<node.equivalents().length;e++){\n            var eqIRI=prefixModule.getPrefixRepresentationForFullURI(node.equivalents()[e].iri());\n            var eqNode_prefRepresentation=\"\";\n            if (prefixModule.validURL(eqIRI)===true)\n                eqNode_prefRepresentation=\"<\"+eqIRI+\">\";\n            else\n                eqNode_prefRepresentation=eqIRI;\n            objectDef+=indent+\" owl:equivalentClass \"+eqNode_prefRepresentation+\" ;\\r\\n\";\n        }\n\n        // if (getPresentAttribute(node,\"equivalent\")===true){\n        //     objectDef+=\", owl:EquivalentClass\";\n        // }\n\n        // add Comments\n\n        if (node.commentForCurrentLanguage()){\n\n            objectDef+=indent+\" rdfs:comment \\\"\"+node.commentForCurrentLanguage()+\"\\\" ;\\r\\n\";\n        }\n\n        if (node.annotations()){\n            var annotations=node.annotations();\n            for (var an in annotations){\n                if (annotations.hasOwnProperty(an)){\n                    var anArrayObj=annotations[an];\n                    var anObj=anArrayObj[0];\n                    var an_ident=anObj.identifier;\n                    var an_val=anObj.value;\n\n                    if (an_ident===\"isDefinedBy\"){\n                        objectDef+=indent+\" rdfs:isDefinedBy <\"+an_val+\"> ;\\r\\n\";\n                    }\n                    if (an_ident===\"term_status\"){\n                        objectDef+=indent+\" vs:term_status \\\"\"+an_val+\"\\\" ;\\r\\n\";\n                    }\n                }\n            }\n        }\n\n\n\n        if (arrayOfNodes.length>0) {\n            // add disjoint unionOf\n            objectDef += indent + \" owl:disjointUnionOf (\";\n            for (var duE = 0; duE < arrayOfNodes.length; duE++) {\n                var duIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfNodes[duE].iri());\n                var duNode_prefRepresentation = \"\";\n                if (prefixModule.validURL(duIri) === true)\n                    duNode_prefRepresentation = \"<\" + duIri + \">\";\n                else\n                    duNode_prefRepresentation = duIri;\n                objectDef +=indent+indent+ duNode_prefRepresentation + \" \\n\";\n            }\n            objectDef += \") ;\\r\\n\";\n        }\n\n        if (arrayOfUnionNodes.length>0){\n            // add disjoint unionOf\n            objectDef+=indent+\" rdfs:subClassOf [ rdf:type owl:Class ; \\r\\n\";\n            objectDef+=indent+indent+ \" owl:unionOf ( \";\n\n            for (var uE=0;uE<arrayOfUnionNodes.length;uE++){\n\n                if (arrayOfUnionNodes[uE] && arrayOfUnionNodes[uE].iri()) {\n                    var uIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfUnionNodes[uE].iri());\n                    var uNode_prefRepresentation = \"\";\n                    if (prefixModule.validURL(uIri) === true)\n                        uNode_prefRepresentation = \"<\" + uIri + \">\";\n                    else\n                        uNode_prefRepresentation = uIri;\n                    objectDef += indent + indent + indent + uNode_prefRepresentation + \" \\n\";\n                }\n            }\n            objectDef+= \") ;\\r\\n\";\n\n\n        }\n\n\n        var allProps=graph.getUnfilteredData().properties;\n        var myProperties=[];\n        var i;\n        for (i=0;i<allProps.length;i++){\n            if (allProps[i].domain()===node &&\n                    (   allProps[i].type()===\"rdfs:subClassOf\"\n                        || allProps[i].type()===\"owl:allValuesFrom\"\n                        || allProps[i].type()===\"owl:someValuesFrom\"\n                        || allProps[i].type() === Global.HAS_FEATURE.name\n                        || allProps[i].type() === Global.HAS_RELATION.name\n                    )\n                )\n            {\n                myProperties.push(allProps[i]);\n            }\n            // special case disjoint with>> both domain and range get that property\n            if ((allProps[i].domain()===node) &&\n                allProps[i].type()===\"owl:disjointWith\"){\n                myProperties.push(allProps[i]);\n            }\n\n            }\n        for (i=0;i<myProperties.length;i++) {\n            // depending on the property we have to do some things;\n\n            // special case\n            if (myProperties[i].type()===\"owl:someValuesFrom\"){\n                objectDef += indent +\" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\n                objectDef += indent +\"                   owl:onProperty \"+myProperties[i].prefixRepresentation+\";\\r\\n\";\n                if (myProperties[i].range().type() !== \"owl:Thing\" ) {\n                    objectDef += indent +\"                   owl:someValuesFrom \" + myProperties[i].range().prefixRepresentation+\"\\r\\n\";\n                }\n                objectDef += indent +\"                 ];\\r\\n\";\n                continue;\n            }\n\n            if (myProperties[i].type()===\"owl:allValuesFrom\"){\n                objectDef += indent +\" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\n                objectDef += indent +\"                   owl:onProperty \"+myProperties[i].prefixRepresentation+\";\\r\\n\";\n                if (myProperties[i].range().type() !== \"owl:Thing\" ) {\n                    objectDef += indent +\"                   owl:allValuesFrom \" + myProperties[i].range().prefixRepresentation+\"\\r\\n\";\n                }\n                objectDef += indent +\"                 ];\\r\\n\";\n                continue;\n            }\n\n            if(myProperties[i].iriType() === Global.HAS_FEATURE.iri){\n                var prefix = graph.options().prefixModule().getPrefixRepresentationForFullURI(myProperties[i].iriType());\n                objectDef += indent +\" G\"+prefix+\n                    \" \" + myProperties[i].range().prefixRepresentation + \" ;\\r\\n\";\n            }else if (myProperties[i].range().type() !== \"owl:Thing\" ) {\n                objectDef += indent +\" \"+ myProperties[i].prefixRepresentation +\n                    \" \" + myProperties[i].range().prefixRepresentation + \" ;\\r\\n\";\n\n\n            }\n        }\n        //replace last dot and comma by a dot\n        objectDef = objectDef.replace(/\\s;*$/, \".\");\n        // objectDef+=general_Label_languageExtractor(indent, node.label(), \"rdfs:label\", true);\n        return objectDef;\n\n    }\n\n\tfunction extractPropertyDescription(property){\n        var subject=property.prefixRepresentation;\n        if (subject.length===0){\n            console.log(\"THIS SHOULD NOT HAPPEN\");\n            var propIRI=prefixModule.getPrefixRepresentationForFullURI(property.iri());\n            console.log(\"FOUND \"+propIRI);\n\n\n        }\n        var predicate=\"rdf:type\";\n        var object=property.type();\n\n        var objectDef=subject+\" \"+predicate+\" \"+object;\n        if (getPresentAttribute(property,\"deprecated\")===true){\n            objectDef+=\", owl:DeprecatedProperty\";\n        }\n        if (getPresentAttribute(property,\"functional\")===true){\n            objectDef+=\", owl:FunctionalProperty\";\n        }\n        if (getPresentAttribute(property,\"inverse functional\")===true){\n            objectDef+=\", owl:InverseFunctionalProperty\";\n        }\n        if (getPresentAttribute(property,\"symmetric\")===true){\n            objectDef+=\", owl:SymmetricProperty\";\n        }\n        if (getPresentAttribute(property,\"transitive\")===true){\n            objectDef+=\", owl:TransitiveProperty\";\n        }\n     \tvar indent=getIndent(subject);\n\n        if (property.inverse()){\n            objectDef+=\"; \\r\\n\";\n            objectDef+=indent+\" owl:inverseOf \"+property.inverse().prefixRepresentation;\n        }\n\n        // check for domain and range;\n\n\n        var closeStatement=false;\n        var domain=property.domain();\n        var range=property.range();\n\n\n        objectDef+=\" ;\\r\\n\";\n\n\n        if (property.commentForCurrentLanguage()){\n\n            objectDef+=indent+\" rdfs:comment \\\"\"+property.commentForCurrentLanguage()+\"\\\" ;\\r\\n\";\n        }\n\n        if (property.superproperties()){\n            var superProps=property.superproperties();\n            for (var sP=0;sP<superProps.length;sP++){\n                var sPelement=superProps[sP];\n                objectDef+=indent+\"rdfs:subPropertyOf \" +sPelement.prefixRepresentation + \";\\r\\n\";\n            }\n            // for (var an in annotations){\n            //     if (annotations.hasOwnProperty(an)){\n            //         var anArrayObj=annotations[an];\n            //         var anObj=anArrayObj[0];\n            //         var an_ident=anObj.identifier;\n            //         var an_val=anObj.value;\n            //         console.log(an_ident + \" \"+ an_val);\n            //\n            //         if (an_ident===\"isDefinedBy\"){\n            //             objectDef+=indent+\" rdfs:isDefinedBy <\"+an_val+\"> ;\\r\\n\";\n            //         }\n            //         if (an_ident===\"term_status\"){\n            //             objectDef+=indent+\" vs:term_status \\\"\"+an_val+\"\\\" ;\\r\\n\";\n            //         }\n            //     }\n            // }\n\n        }\n\n        if (property.annotations()){\n            var annotations=property.annotations();\n            for (var an in annotations){\n                if (annotations.hasOwnProperty(an)){\n                    var anArrayObj=annotations[an];\n                    var anObj=anArrayObj[0];\n                    var an_ident=anObj.identifier;\n                    var an_val=anObj.value;\n\n                    if (an_ident===\"isDefinedBy\"){\n                        objectDef+=indent+\" rdfs:isDefinedBy <\"+an_val+\"> ;\\r\\n\";\n                    }\n                    if (an_ident===\"term_status\"){\n                        objectDef+=indent+\" vs:term_status \\\"\"+an_val+\"\\\" ;\\r\\n\";\n                    }\n                }\n            }\n        }\n\n\n\t\tif (domain.type()===\"owl:Thing\" && range.type()===\"owl:Thing\"){\n\t\t\t// we do not write domain and range\n            if (typeof property.label() !==\"object\" && property.label().length===0){\n            \tcloseStatement=true;\n\t\t\t}\n\t\t}\n\n\n\t\tif (closeStatement===true){\n            var uobjectDef=objectDef.substring(0,objectDef.length-2);\n            objectDef=uobjectDef+\" . \\r\\n\";\n\t\t\treturn objectDef;\n\t\t}\n        // objectDef+=\"; \\r\\n\";\n        var labelDescription;\n\n\n\t\tif (domain.type()===\"owl:Thing\" && range.type()===\"owl:Thing\") {\n            labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\", true);\n            objectDef+=labelDescription;\n        }\n\t\telse{\n\t\t\t// do not close the statement;\n            labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\");\n            objectDef+=labelDescription;\n            if (domain.type()!==\"owl:Thing\"){\n                objectDef+=indent+ \" rdfs:domain \"+ domain.prefixRepresentation+\";\\r\\n\";\n\t\t\t}\n            if (range.type()!==\"owl:Thing\"){\n                objectDef+=indent+ \" rdfs:range \"+ range.prefixRepresentation+\";\\r\\n\";\n            }\n\n            // close statement now;\n\n            var s_needUpdate = objectDef;\n            var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n            objectDef=s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n\t\t}\n\n        return objectDef;\n\n    }\n\n\n\texportTTLModule.resultingTTL_Content=function(){\n\t\treturn resultingTTLContent;\n\t};\n\n\tfunction getIndent(name){\n\t    if (name===undefined){\n\t        return \"WHYEMPTYNAME?\";\n        }\n\t\treturn new Array(name.length+1).join(\" \");\n\t}\n\n\tfunction prepareHeader(){\n        resultingTTLContent+=\"#################################################################\\r\\n\";\n        resultingTTLContent+=\"###  Generated with the experimental alpha version of the TTL exporter of WebVOWL (version 1.1.3) \" +\n            \" http://visualdataweb.de/webvowl/   ###\\r\\n\";\n        resultingTTLContent+=\"#################################################################\\r\\n\\r\\n\";\n\n    }\n\n    function preparePrefixList(){\n        var ontoIri=graph.options().getGeneralMetaObjectProperty('iri');\n\t\tvar prefixList=graph.options().prefixList();\n        var prefixDef=[];\n        prefixDef.push('@prefix : \\t\\t<'+ontoIri+'> .');\n        for (var name in prefixList){\n            if (prefixList.hasOwnProperty(name)){\n                prefixDef.push('@prefix '+name+': \\t\\t<'+prefixList[name]+'> .');\n            }\n        }\n        prefixDef.push('@base \\t\\t\\t<'+ontoIri+'> .\\r\\n');\n\n        for  (var i=0;i<prefixDef.length;i++){\n            resultingTTLContent+=prefixDef[i]+'\\r\\n';\n        }\n    }\n\n    function prepareOntologyDef(){\n        var ontoIri=graph.options().getGeneralMetaObjectProperty('iri');\n\t\tvar indent=getIndent('<'+ontoIri+'>');\n        resultingTTLContent  += '<'+ontoIri+'> rdf:type owl:Ontology ;\\r\\n' +\n            \t\t\t\t\tgetOntologyTitle(indent) +\n            \t\t\t\t\tgetOntologyDescription(indent)+\n                                getOntologyVersion(indent)+\n                                getOntologyAuthor(indent);\n\n        // close the statement;\n        var s_needUpdate = resultingTTLContent;\n        var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n        resultingTTLContent= s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n\t}\n\n\tfunction getOntologyTitle(indent){\n       return general_languageExtractor(indent,\"title\", \"dc:title\");\n\t}\n\n\tfunction getOntologyDescription(indent){\n\t\treturn general_languageExtractor(indent,\"description\", \"dc:description\");\n\t}\n    function getOntologyAuthor(indent){\n\t    var languageElement=graph.options().getGeneralMetaObjectProperty('author');\n\t    if (languageElement) {\n            if (typeof languageElement !== \"object\") {\n                if (languageElement.length === 0)\n                    return \"\"; // an empty string\n                var aString = indent + \" dc:creator \" + '\"' + languageElement + '\";\\r\\n';\n                return aString;\n            }\n            // we assume this thing is an array;\n            var authorString = indent + \" dc:creator \" + '\"';\n            for (var i = 0; i < languageElement.length - 1; i++) {\n                authorString += languageElement[i] + \", \";\n            }\n            authorString += languageElement[languageElement.length - 1] + '\";\\r\\n';\n            return authorString;\n        }else{\n            return \"\"; // an empty string\n        }\n    }\n    function getOntologyVersion(indent){\n        var languageElement=graph.options().getGeneralMetaObjectProperty('version');\n        if (languageElement){\n            if (typeof languageElement!==\"object\"){\n                if (languageElement.length===0)\n                    return \"\"; // an empty string\n            }\n            return general_languageExtractor(indent,\"version\", \"owl:versionInfo\");\n        }else return \"\"; // an empty string\n    }\n\n\tfunction general_languageExtractor(indent, metaObjectDescription, annotationDescription,endStatement){\n        var languageElement=graph.options().getGeneralMetaObjectProperty(metaObjectDescription);\n\n        if (typeof languageElement=== 'object'){\n\n            var resultingLanguages=[];\n            for (var name in languageElement){\n                if (languageElement.hasOwnProperty(name)){\n                    var content=languageElement[name];\n                    if (name===\"undefined\"){\n                        resultingLanguages.push(indent+ \" \"+annotationDescription  + ' \"'+content+'\"@en; \\r\\n');\n                    }\n                    else{\n                        resultingLanguages.push(indent+ \" \"+annotationDescription  + ' \"'+content+'\"@'+name+'; \\r\\n');\n                    }\n                }\n            }\n            // create resulting titles;\n\n            var resultingString=\"\";\n            for (var i=0;i<resultingLanguages.length;i++){\n                resultingString+=resultingLanguages[i];\n            }\n            if (endStatement && endStatement===true){\n                var needUpdate=resultingString;\n                var lastPtr=needUpdate.lastIndexOf(\";\");\n                return needUpdate.substring(0,lastPtr)+\". \\r\\n\";\n\t\t\t}else {\n                return resultingString;\n            }\n\n        }else{\n            if (endStatement && endStatement===true) {\n                var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\n                var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n                return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n            }\n            return indent+ \" \"+ annotationDescription+ ' \"'+languageElement+'\"@en;\\r\\n';\n        }\n\t}\n\n    function general_Label_languageExtractor(indent, label, annotationDescription,endStatement){\n        var languageElement=label;\n\n        if (typeof languageElement=== 'object'){\n            var resultingLanguages=[];\n            for (var name in languageElement){\n                if (languageElement.hasOwnProperty(name)){\n                    var content=languageElement[name];\n                    if (name===\"undefined\"){\n                        resultingLanguages.push(indent+ \" \"+annotationDescription  + ' \"'+content+'\"@en; \\r\\n');\n                    }\n                    else{\n                        resultingLanguages.push(indent+ \" \"+annotationDescription  + ' \"'+content+'\"@'+name+'; \\r\\n');\n                    }\n                }\n            }\n            // create resulting titles;\n            var resultingString=\"\";\n            for (var i=0;i<resultingLanguages.length;i++){\n                resultingString+=resultingLanguages[i];\n            }\n            if (endStatement && endStatement===true){\n                var needUpdate=resultingString;\n                var lastPtr=needUpdate.lastIndexOf(\";\");\n                return needUpdate.substring(0,lastPtr)+\" . \\r\\n\";\n            }else {\n                return resultingString;\n            }\n\n        }else{\n            if (endStatement && endStatement===true) {\n                var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\n                var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n                return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n            }\n            return indent+ \" \"+ annotationDescription+ ' \"'+languageElement+'\"@en; \\r\\n';\n        }\n    }\n\n\treturn exportTTLModule;\n};\n","/**\n * Contains the logic for connecting the filters with the website.\n *\n * @param graph required for calling a refresh after a filter change\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar filterMenu = {},\n\t\tcheckboxData = [],\n\t\tmenuElement = d3.select(\"#m_filter\"),\n        menuControl= d3.select(\"#c_filter a\"),\n\t\tnodeDegreeContainer = d3.select(\"#nodeDegreeFilteringOption\"),\n\t\tgraphDegreeLevel,\n\t\tdefaultDegreeValue=0,\n\t\tdegreeSlider;\n\n    filterMenu.setDefaultDegreeValue=function(val){defaultDegreeValue=val;};\n    filterMenu.getDefaultDegreeValue=function(){return defaultDegreeValue;};\n\n\tfilterMenu.getGraphObject=function(){\n\t\treturn graph;\n\t};\n\t/** some getter function  **/\n\tfilterMenu.getCheckBoxContainer = function () {\n\t\treturn checkboxData;\n\t};\n\n\tfilterMenu.getDegreeSliderValue = function () {\n\t\treturn degreeSlider.property(\"value\");\n\t};\n\t/**\n\t * Connects the website with graph filters.\n\t * @param datatypeFilter filter for all datatypes\n\t * @param objectPropertyFilter filter for all object properties\n\t * @param subclassFilter filter for all subclasses\n\t * @param disjointFilter filter for all disjoint with properties\n\t * @param setOperatorFilter filter for all set operators with properties\n\t * @param nodeDegreeFilter filters nodes by their degree\n\t */\n\tfilterMenu.setup = function (datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter) {\n\t\t// TODO: is this here really necessarry? << new menu visualization style?\n        menuControl.on(\"mouseover\",function(){\n\t\t\tvar searchMenu=graph.options().searchMenu();\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t});\n        menuControl.on(\"mouseleave\", function () {\n\t\t\tfilterMenu.highlightForDegreeSlider(false);\n\t\t});\n\n\t\taddFilterItem(datatypeFilter, \"datatype\", \"Datatype properties\", \"#datatypeFilteringOption\");\n\t\taddFilterItem(objectPropertyFilter, \"objectProperty\", \"Object properties\", \"#objectPropertyFilteringOption\");\n\t\taddFilterItem(subclassFilter, \"subclass\", \"Solitary subclasses\", \"#subclassFilteringOption\");\n\t\taddFilterItem(disjointFilter, \"disjoint\", \"Class disjointness\", \"#disjointFilteringOption\");\n\t\taddFilterItem(setOperatorFilter, \"setoperator\", \"Set operators\", \"#setOperatorFilteringOption\");\n\n\t\taddNodeDegreeFilter(nodeDegreeFilter, nodeDegreeContainer);\n        addAnimationFinishedListener();\n\t};\n\n\n\tfunction addFilterItem(filter, identifier, pluralNameOfFilteredItems, selector) {\n\t\tvar filterContainer,\n\t\t\tfilterCheckbox;\n\n\t\tfilterContainer = d3.select(selector)\n\t\t\t.append(\"div\")\n\t\t\t.classed(\"checkboxContainer\", true);\n\n\t\tfilterCheckbox = filterContainer.append(\"input\")\n\t\t\t.classed(\"filterCheckbox\", true)\n\t\t\t.attr(\"id\", identifier + \"FilterCheckbox\")\n\t\t\t.attr(\"type\", \"checkbox\")\n\t\t\t.property(\"checked\", filter.enabled());\n\n\t\t// Store for easier resetting\n\t\tcheckboxData.push({checkbox: filterCheckbox, defaultState: filter.enabled()});\n\n\t\tfilterCheckbox.on(\"click\", function (silent) {\n\t\t\t// There might be no parameters passed because of a manual\n\t\t\t// invocation when resetting the filters\n\t\t\tvar isEnabled = filterCheckbox.property(\"checked\");\n\t\t\tfilter.enabled(isEnabled);\n\t\t\tif (silent !== true) {\n\t\t\t\t// updating graph when silent is false or the parameter is not given.\n\t\t\t\tgraph.update();\n\t\t\t}\n\t\t});\n\n\t\tfilterContainer.append(\"label\")\n\t\t\t.attr(\"for\", identifier + \"FilterCheckbox\")\n\t\t\t.text(pluralNameOfFilteredItems);\n\t}\n\n\tfunction addNodeDegreeFilter(nodeDegreeFilter, container) {\n\t\tnodeDegreeFilter.setMaxDegreeSetter(function (maxDegree) {\n\t\t\tdegreeSlider.attr(\"max\", maxDegree);\n\t\t\tsetSliderValue(degreeSlider, Math.min(maxDegree, degreeSlider.property(\"value\")));\n\t\t});\n\n\t\tnodeDegreeFilter.setDegreeGetter(function () {\n\t\t\treturn degreeSlider.property(\"value\");\n\t\t});\n\n\t\tnodeDegreeFilter.setDegreeSetter(function (value) {\n\t\t\tsetSliderValue(degreeSlider, value);\n\t\t});\n\n\t\tvar sliderContainer,\n\t\t\tsliderValueLabel;\n\n\t\tsliderContainer = container.append(\"div\")\n\t\t\t.classed(\"distanceSliderContainer\", true);\n\n\t\tdegreeSlider = sliderContainer.append(\"input\")\n\t\t\t.attr(\"id\", \"nodeDegreeDistanceSlider\")\n\t\t\t.attr(\"type\", \"range\")\n\t\t\t.attr(\"min\", 0)\n\t\t\t.attr(\"step\", 1);\n\n\t\tsliderContainer.append(\"label\")\n\t\t\t.classed(\"description\", true)\n\t\t\t.attr(\"for\", \"nodeDegreeDistanceSlider\")\n\t\t\t.text(\"Degree of collapsing\");\n\n\t\tsliderValueLabel = sliderContainer.append(\"label\")\n\t\t\t.classed(\"value\", true)\n\t\t\t.attr(\"for\", \"nodeDegreeDistanceSlider\")\n\t\t\t.text(0);\n\n\n\n\t\tdegreeSlider.on(\"change\", function (silent) {\n\t\t\tif (silent !== true) {\n\t\t\t\tgraph.update();\n\t\t\t\tgraphDegreeLevel=degreeSlider.property(\"value\");\n\t\t\t}\n\t\t});\n\n\n\t\tdegreeSlider.on(\"input\", function () {\n\t\t\tvar degree = degreeSlider.property(\"value\");\n\t\t\tsliderValueLabel.text(degree);\n\t\t});\n\n\n\t\t// adding wheel events\n\t\tdegreeSlider.on(\"wheel\",handleWheelEvent);\n\t\tdegreeSlider.on(\"focusout\",function(){\n\t\t\tif (degreeSlider.property(\"value\")!==graphDegreeLevel) {\n\t\t\t\tgraph.update();\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction handleWheelEvent(){\n\t\tvar wheelEvent=d3.event;\n\n\t\tvar offset;\n\t\tif (wheelEvent.deltaY<0) offset=1;\n\t\tif (wheelEvent.deltaY>0) offset=-1;\n\t\tvar maxDeg=parseInt(degreeSlider.attr(\"max\"));\n\t\tvar oldVal=parseInt(degreeSlider.property(\"value\"));\n\t\tvar newSliderValue=oldVal+offset;\n\t\tif (oldVal!==newSliderValue && (newSliderValue>=0 && newSliderValue<=maxDeg)) {\n\t\t\t// only update when they are different [reducing redundant updates]\n\t\t\t// set the new value and emit an update signal\n\t\t\tdegreeSlider.property(\"value\", newSliderValue);\n\t\t\tdegreeSlider.on(\"input\")();// <<-- sets the text value\n\t\t\tgraph.update();\n\t\t}\n\t\td3.event.preventDefault();\n\t}\n\t\n\tfunction setSliderValue(slider, value) {\n\t\tslider.property(\"value\", value).on(\"input\")();\n\t}\n\n\t/**\n\t * Resets the filters (and also filtered elements) to their default.\n\t */\n\tfilterMenu.reset = function () {\n\t\tcheckboxData.forEach(function (checkboxData) {\n\t\t\tvar checkbox = checkboxData.checkbox,\n\t\t\t\tenabledByDefault = checkboxData.defaultState,\n\t\t\t\tisChecked = checkbox.property(\"checked\");\n\n\t\t\tif (isChecked !== enabledByDefault) {\n\t\t\t\tcheckbox.property(\"checked\", enabledByDefault);\n\t\t\t\t// Call onclick event handlers programmatically\n\t\t\t\tcheckbox.on(\"click\")();\n\t\t\t}\n\t\t});\n\n\t\tsetSliderValue(degreeSlider, 0);\n\t\tdegreeSlider.on(\"change\")();\n\t};\n\n\tfunction addAnimationFinishedListener() {\n        menuControl.node().addEventListener(\"animationend\", function () {\n            menuControl.classed(\"buttonPulse\", false);\n            menuControl.classed(\"filterMenuButtonHighlight\", true);\n\n        });\n    }\n\n    filterMenu.killButtonAnimation=function(){\n        menuControl.classed(\"buttonPulse\", false);\n        menuControl.classed(\"filterMenuButtonHighlight\", false);\n\t};\n\n\n\tfilterMenu.highlightForDegreeSlider = function (enable) {\n\t\tif (!arguments.length) {\n\t\t\tenable = true;\n\t\t}\n        menuControl.classed(\"highlighted\", enable);\n\t\tnodeDegreeContainer.classed(\"highlighted\", enable);\n\t\t// pulse button handling\n\t\tif (menuControl.classed(\"buttonPulse\")===true && enable===true){\n            menuControl.classed(\"buttonPulse\", false);\n\t\t\tvar timer= setTimeout(function() {\n                menuControl.classed(\"buttonPulse\", enable);\n\t\t\t\tclearTimeout(timer);\n\t\t\t\t// after the time is done, remove the pulse but stay highlighted\n\t\t\t}, 100);\n\t\t}else {\n            menuControl.classed(\"buttonPulse\", enable);\n            menuControl.classed(\"filterMenuButtonHighlight\", enable);\n\t\t}\n\t};\n\n\n\t/** importer functions **/\n\t// setting manually the values of the filter\n\t// no update of the gui settings, these are updated in updateSettings\n\tfilterMenu.setCheckBoxValue = function (id, checked) {\n\t\tfor (var i = 0; i < checkboxData.length; i++) {\n\t\t\tvar cbdId = checkboxData[i].checkbox.attr(\"id\");\n\t\t\tif (cbdId === id) {\n\t\t\t\tcheckboxData[i].checkbox.property(\"checked\", checked);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n\tfilterMenu.getCheckBoxValue=function(id){\n        for (var i = 0; i < checkboxData.length; i++) {\n            var cbdId = checkboxData[i].checkbox.attr(\"id\");\n            if (cbdId === id) {\n                return checkboxData[i].checkbox.property(\"checked\");\n\n            }\n        }\n\t};\n\t// set the value of the slider\n\tfilterMenu.setDegreeSliderValue = function (val) {\n\t\tdegreeSlider.property(\"value\", val);\n\t};\n\n\tfilterMenu.getDegreeSliderValue = function(){\n\t\treturn degreeSlider.property(\"value\");\n\t};\n\n\t// update the gui without invoking graph update (calling silent onclick function)\n\tfilterMenu.updateSettings = function () {\n\t\tvar silent = true;\n\t\tvar sliderValue = degreeSlider.property(\"value\");\n\t\tif (sliderValue > 0) {\n\t\t\tfilterMenu.highlightForDegreeSlider(true);\n\t\t} else{\n\t\t\tfilterMenu.highlightForDegreeSlider(false);\n\t\t}\n\t\tcheckboxData.forEach(function (checkboxData) {\n\t\t\tvar checkbox = checkboxData.checkbox;\n\t\t\tcheckbox.on(\"click\")(silent);\n\t\t});\n\n\t\tdegreeSlider.on(\"input\")();\n\t\tdegreeSlider.on(\"change\")();\n\n\t};\n\n\treturn filterMenu;\n};\n","/**\n * Contains the logic for setting up the gravity sliders.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar gravityMenu = {},\n\t\tsliders = [],\n\t\toptions = graph.graphOptions(),\n\t\tdefaultCharge = options.charge();\n\n\n\t/**\n\t * Adds the gravity sliders to the website.\n\t */\n\tgravityMenu.setup = function () {\n\t\tvar menuEntry= d3.select(\"#m_gravity\");\n\t\tmenuEntry.on(\"mouseover\",function(){\n\t\t\tvar searchMenu=graph.options().searchMenu();\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t});\n\t\taddDistanceSlider(\"#classSliderOption\", \"class\", \"Class distance\", options.classDistance);\n\t\taddDistanceSlider(\"#datatypeSliderOption\", \"datatype\", \"Datatype distance\", options.datatypeDistance);\n\t};\n\n\tfunction addDistanceSlider(selector, identifier, label, distanceFunction) {\n\t\tvar defaultLinkDistance = distanceFunction();\n\n\t\tvar sliderContainer,\n\t\t\tsliderValueLabel;\n\n\t\tsliderContainer = d3.select(selector)\n\t\t\t.append(\"div\")\n\t\t\t.datum({distanceFunction: distanceFunction}) // connect the options-function with the slider\n\t\t\t.classed(\"distanceSliderContainer\", true);\n\n\t\tvar slider = sliderContainer.append(\"input\")\n\t\t\t.attr(\"id\", identifier + \"DistanceSlider\")\n\t\t\t.attr(\"type\", \"range\")\n\t\t\t.attr(\"min\", 10)\n\t\t\t.attr(\"max\", 600)\n\t\t\t.attr(\"value\", distanceFunction())\n\t\t\t.attr(\"step\", 10);\n\n\t\tsliderContainer.append(\"label\")\n\t\t\t.classed(\"description\", true)\n\t\t\t.attr(\"for\", identifier + \"DistanceSlider\")\n\t\t\t.text(label);\n\n\t\tsliderValueLabel = sliderContainer.append(\"label\")\n\t\t\t.classed(\"value\", true)\n\t\t\t.attr(\"for\", identifier + \"DistanceSlider\")\n\t\t\t.text(distanceFunction());\n\n\t\t// Store slider for easier resetting\n\t\tsliders.push(slider);\n\n\t\tslider.on(\"focusout\",function(){\n\t\t\tgraph.updateStyle();\n\t\t});\n\n\t\tslider.on(\"input\", function () {\n\t\t\tvar distance = slider.property(\"value\");\n\t\t\tdistanceFunction(distance);\n\t\t\tadjustCharge(defaultLinkDistance);\n\t\t\tsliderValueLabel.text(distance);\n\t\t\tgraph.updateStyle();\n\t\t});\n\n\t\t// add wheel event to the slider\n\t\tslider.on(\"wheel\",function(){\n\t\t\tvar wheelEvent=d3.event;\n\t\t\tvar offset;\n\t\t\tif (wheelEvent.deltaY<0) offset=10;\n\t\t\tif (wheelEvent.deltaY>0) offset=-10;\n\t\t\tvar oldVal=parseInt(slider.property(\"value\"));\n\t\t\tvar newSliderValue=oldVal+offset;\n\t\t\tif (newSliderValue!==oldVal){\n\t\t\t\tslider.property(\"value\",newSliderValue);\n\t\t\t\tdistanceFunction(newSliderValue);\n\t\t\t\tslider.on(\"input\")(); // << set text and update the graphStyles\n\t\t\t}\n            d3.event.preventDefault();\n\t\t});\n\t}\n\n\tfunction adjustCharge(defaultLinkDistance) {\n\t\tvar greaterDistance = Math.max(options.classDistance(), options.datatypeDistance()),\n\t\t\tratio = greaterDistance / defaultLinkDistance,\n\t\t\tnewCharge = defaultCharge * ratio;\n\n\t\toptions.charge(newCharge);\n\t}\n\n\t/**\n\t * Resets the gravity sliders to their default.\n\t */\n\tgravityMenu.reset = function () {\n\t\tsliders.forEach(function (slider) {\n\t\t\tslider.property(\"value\", function (d) {\n\t\t\t\t// Simply reload the distance from the options\n\t\t\t\treturn d.distanceFunction();\n\t\t\t});\n\t\t\tslider.on(\"input\")();\n\t\t});\n\t};\n\n\n\treturn gravityMenu;\n};\n","/**\n * Contains the logic for connecting the modes with the website.\n *\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar SAME_COLOR_MODE = {text: \"Multicolor\", type: \"same\"};\n\tvar GRADIENT_COLOR_MODE = {text: \"Multicolor\", type: \"gradient\"};\n\n\tvar modeMenu = {},\n\t\tcheckboxes = [],\n\t\tcolorModeSwitch;\n\n\tvar dynamicLabelWidthCheckBox;\n\t// getter and setter for the state of color modes\n\tmodeMenu.colorModeState = function (s) {\n\t\tif (!arguments.length) return colorModeSwitch.datum().active;\n\t\tcolorModeSwitch.datum().active = s;\n\t\treturn modeMenu;\n\t};\n\n\tmodeMenu.setDynamicLabelWidth=function(val){\n        dynamicLabelWidthCheckBox.property(\"checked\",val);\n\t};\n\t// getter for checkboxes\n\tmodeMenu.getCheckBoxContainer = function () {\n\t\treturn checkboxes;\n\t};\n\t// getter for the color switch [needed? ]\n\tmodeMenu.colorModeSwitch = function () {\n\t\treturn colorModeSwitch;\n\t};\n\n\t/**\n\t * Connects the website with the available graph modes.\n\t */\n\tmodeMenu.setup = function (pickAndPin, nodeScaling, compactNotation, colorExternals,selectionMarker) {\n\t\tif(graph.options().showModesGui()){\n\t\t\tvar menuEntry= d3.select(\"#m_modes\");\n\t\t\td3.select(\"#c_modes\").style(\"display\",\"\");\n\t\t\tmenuEntry.on(\"mouseover\",function(){\n\t\t\t\tvar searchMenu=graph.options().searchMenu();\n\t\t\t\tsearchMenu.hideSearchEntries();\n\t\t\t});\n\t\t\taddCheckBox(\"editorMode\",\"Editing \",\"#editMode\",graph.editorMode);\n\t\t\taddCheckBox(\"OMQ\",\"OMQ \",\"#OMQMode\",graph.setupModeOMQ);\n\t\t\t// addCheckBox(\"selectionSGMode\",\"Selection \",\"#selectionMode\",graph.selectionSGMode);\n\t\t\taddModeItem(selectionMarker, \"selectionSGMode\", \"Selection\", \"#selectionMode\", false);\n\t\t\taddModeItem(pickAndPin, \"pickandpin\", \"Pick & pin\", \"#pickAndPinOption\", false);\n\t\t}else{\n\t\t\t//hide from gui\n\t\t\td3.select(\"#c_modes\").style(\"display\",\"none\");\n\t\t}\n\t\taddCheckBoxD(\"labelWidth\",\"Dynamic label width\",\"#dynamicLabelWidth\",graph.options().dynamicLabelWidth,1);\n\t\taddModeItem(nodeScaling, \"nodescaling\", \"Node scaling\", \"#nodeScalingOption\", true);\n\t\taddModeItem(compactNotation, \"compactnotation\", \"Compact notation\", \"#compactNotationOption\", true);\n\t\tvar container = addModeItem(colorExternals, \"colorexternals\", \"Color externals\", \"#colorExternalsOption\", true);\n\t\tcolorModeSwitch = addExternalModeSelection(container, colorExternals);\n\t};\n    function addCheckBoxD(identifier, modeName, selector,onChangeFunc,updateLvl) {\n        var moduleOptionContainer = d3.select(selector)\n            .append(\"div\")\n            .classed(\"checkboxContainer\", true);\n\n        var moduleCheckbox = moduleOptionContainer.append(\"input\")\n            .classed(\"moduleCheckbox\", true)\n            .attr(\"id\", identifier + \"ModuleCheckbox\")\n            .attr(\"type\", \"checkbox\")\n            .property(\"checked\", onChangeFunc());\n\n        moduleCheckbox.on(\"click\", function (d) {\n            var isEnabled = moduleCheckbox.property(\"checked\");\n            onChangeFunc(isEnabled);\n            d3.select(\"#maxLabelWidthSlider\").node().disabled=!isEnabled;\n            d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\n            d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\n\n            if (updateLvl>0){\n\t\t\t\t\tgraph.animateDynamicLabelWidth();\n                // graph.lazyRefresh();\n            }\n        });\n        moduleOptionContainer.append(\"label\")\n            .attr(\"for\", identifier + \"ModuleCheckbox\")\n            .text(modeName);\n        if (identifier===\"editorMode\"){\n            moduleOptionContainer.append(\"label\")\n\t\t\t\t.attr(\"style\",\"font-size:10px;padding-top:3px\")\n\t\t\t\t.text(\"(experimental)\");\n\t\t}\n\n        dynamicLabelWidthCheckBox=moduleCheckbox;\n    }\n\n    function addCheckBox(identifier, modeName, selector,onChangeFunc) {\n        var moduleOptionContainer = d3.select(selector)\n            .append(\"div\")\n            .classed(\"checkboxContainer\", true);\n\n        var moduleCheckbox = moduleOptionContainer.append(\"input\")\n            .classed(\"moduleCheckbox\", true)\n            .attr(\"id\", identifier + \"ModuleCheckbox\")\n            .attr(\"type\", \"checkbox\")\n            .property(\"checked\", onChangeFunc());\n\n        moduleCheckbox.on(\"click\", function (d) {\n            var isEnabled = moduleCheckbox.property(\"checked\");\n            onChangeFunc(isEnabled);\n            if (isEnabled===true)\n                graph.showEditorHintIfNeeded();\n        });\n        moduleOptionContainer.append(\"label\")\n            .attr(\"for\", identifier + \"ModuleCheckbox\")\n            .text(modeName);\n        if (identifier===\"editorMode\"){\n            moduleOptionContainer.append(\"label\")\n                .attr(\"style\",\"font-size:10px;padding-top:3px\")\n                .text(\" (experimental)\");\n        }\n    }\n\n\tfunction addModeItem(module, identifier, modeName, selector, updateGraphOnClick) {\n\t\tvar moduleOptionContainer,\n\t\t\tmoduleCheckbox;\n\n\t\tmoduleOptionContainer = d3.select(selector)\n\t\t\t.append(\"div\")\n\t\t\t.classed(\"checkboxContainer\", true)\n\t\t\t.datum({module: module, defaultState: module.enabled()});\n\n\t\tmoduleCheckbox = moduleOptionContainer.append(\"input\")\n\t\t\t.classed(\"moduleCheckbox\", true)\n\t\t\t.attr(\"id\", identifier + \"ModuleCheckbox\")\n\t\t\t.attr(\"type\", \"checkbox\")\n\t\t\t.property(\"checked\", module.enabled());\n\n\n\n\t\tif(identifier === \"selectionSGMode\"){\n\t\t\tmoduleCheckbox.on(\"click\", function (d, silent) {\n\t\t\t\tvar isEnabled = moduleCheckbox.property(\"checked\");\n\t\t\t\td.module.enabled(isEnabled);\n\t\t\t\tgraph.setupModeSelectionSG(isEnabled);\n\t\t\t});\n\t\t}else{\n\t\t\t// Store for easier resetting all modes except selection since the setting is in option.js\n\n\t\t\tcheckboxes.push(moduleCheckbox);\n\n\t\t\tmoduleCheckbox.on(\"click\", function (d, silent) {\n\t\t\t\tvar isEnabled = moduleCheckbox.property(\"checked\");\n\t\t\t\td.module.enabled(isEnabled);\n\t\t\t\tif (updateGraphOnClick && silent !== true) {\n\t\t\t\t\tgraph.executeColorExternalsModule();\n\t\t\t\t\tgraph.executeCompactNotationModule();\n\t\t\t\t\tgraph.lazyRefresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tmoduleOptionContainer.append(\"label\")\n\t\t\t.attr(\"for\", identifier + \"ModuleCheckbox\")\n\t\t\t.text(modeName);\n\n\t\treturn moduleOptionContainer;\n\t}\n\n\tfunction addExternalModeSelection(container, colorExternalsMode) {\n\t\tvar button = container.append(\"button\").datum({active: false}).classed(\"color-mode-switch\", true);\n\t\tapplyColorModeSwitchState(button, colorExternalsMode);\n\n\t\tbutton.on(\"click\", function (silent) {\n\t\t\tvar data = button.datum();\n\t\t\tdata.active = !data.active;\n\t\t\tapplyColorModeSwitchState(button, colorExternalsMode);\n\t\t\tif (colorExternalsMode.enabled() && silent !== true) {\n                graph.executeColorExternalsModule();\n                graph.lazyRefresh();\n            }\n\t\t});\n\n\t\treturn button;\n\t}\n\n\tfunction applyColorModeSwitchState(element, colorExternalsMode) {\n\t\tvar isActive = element.datum().active;\n\t\tvar activeColorMode = getColorModeByState(isActive);\n\n\t\telement.classed(\"active\", isActive)\n\t\t\t.text(activeColorMode.text);\n\n\t\tif (colorExternalsMode) {\n\t\t\tcolorExternalsMode.colorModeType(activeColorMode.type);\n\t\t}\n\t}\n\n\tfunction getColorModeByState(isActive) {\n\t\treturn isActive ? GRADIENT_COLOR_MODE : SAME_COLOR_MODE;\n\t}\n\n\t/**\n\t * Resets the modes to their default.\n\t */\n\tmodeMenu.reset = function () {\n\t\tcheckboxes.forEach(function (checkbox) {\n\t\t\tvar defaultState = checkbox.datum().defaultState,\n\t\t\t\tisChecked = checkbox.property(\"checked\");\n\n\t\t\tif (isChecked !== defaultState) {\n\t\t\t\tcheckbox.property(\"checked\", defaultState);\n\t\t\t\t// Call onclick event handlers programmatically\n\t\t\t\tcheckbox.on(\"click\")(checkbox.datum());\n\t\t\t}\n\n\t\t\t// Reset the module that is connected with the checkbox\n\t\t\tcheckbox.datum().module.reset();\n\t\t});\n\n\t\t// set the switch to active and simulate disabling\n\t\tcolorModeSwitch.datum().active = true;\n\t\tcolorModeSwitch.on(\"click\")();\n\t};\n\n\t/** importer functions **/\n\t// setting manually the values of the filter\n\t// no update of the gui settings, these are updated in updateSettings\n\tmodeMenu.setCheckBoxValue = function (id, checked) {\n\t\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\t\tvar cbdId = checkboxes[i].attr(\"id\");\n\n\t\t\tif (cbdId === id) {\n\t\t\t\tcheckboxes[i].property(\"checked\", checked);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n    modeMenu.getCheckBoxValue = function (id) {\n        for (var i = 0; i < checkboxes.length; i++) {\n            var cbdId = checkboxes[i].attr(\"id\");\n            if (cbdId === id) {\n                return checkboxes[i].property(\"checked\");\n            }\n        }\n    };\n\n\tmodeMenu.setColorSwitchState = function (state) {\n\t\t// need the !state because we simulate later a click\n\t\tmodeMenu.colorModeState(!state);\n\t};\n    modeMenu.setColorSwitchStateUsingURL = function (state) {\n        // need the !state because we simulate later a click\n        modeMenu.colorModeState(!state);\n        colorModeSwitch.on(\"click\")(true);\n    };\n\n\n    modeMenu.updateSettingsUsingURL = function () {\n        var silent = true;\n        checkboxes.forEach(function (checkbox) {\n            checkbox.on(\"click\")(checkbox.datum(), silent);\n        });\n    };\n\n\tmodeMenu.updateSettings = function () {\n\t\tvar silent = true;\n\t\tcheckboxes.forEach(function (checkbox) {\n\t\t\tcheckbox.on(\"click\")(checkbox.datum(), silent);\n\t\t});\n\t\t// this simulates onclick and inverts its state\n\t\tcolorModeSwitch.on(\"click\")(silent);\n\t};\n\treturn modeMenu;\n};\n","/**\n * Contains the navigation \"engine\"\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\tvar navigationMenu  = {},\n        scrollContainer = d3.select(\"#menuElementContainer\").node(),\n        menuContainer   = d3.select(\"#menuContainer\").node(),\n        leftButton=d3.select(\"#scrollLeftButton\"),\n        rightButton=d3.select(\"#scrollRightButton\"),\n        scrolLeftValue,\n        scrollMax,\n        currentlyVisibleMenu,\n        currentlyHoveredEntry,\n        touchedElement=false,\n        t_scrollLeft,\n        t_scrollRight,\n        c_select=[],\n        m_select=[];\n\n\n    function clearAllTimers(){\n        cancelAnimationFrame(t_scrollLeft);\n        cancelAnimationFrame(t_scrollRight);\n    }\n\n    function timed_scrollRight(){\n        scrolLeftValue+=5;\n        scrollContainer.scrollLeft=scrolLeftValue;\n        navigationMenu.updateScrollButtonVisibility();\n        if (scrolLeftValue>=scrollMax){\n            clearAllTimers();\n            return;\n        }\n        t_scrollRight=requestAnimationFrame(timed_scrollRight);\n\n    }\n    function timed_scrollLeft(){\n        scrolLeftValue-=5;\n        scrollContainer.scrollLeft=scrolLeftValue;\n        navigationMenu.updateScrollButtonVisibility();\n        if (scrolLeftValue<=0){\n            clearAllTimers();\n            return;\n        }\n        t_scrollRight=requestAnimationFrame(timed_scrollLeft);\n    }\n    // collect all menu entries and stuff;\n    function setupControlsAndMenus(){\n        // HEURISTIC : to match the menus and their controllers we remove the first 2 letters and match\n        c_select=[];\n        m_select=[];\n\n        var c_temp=[];\n        var m_temp=[];\n        var i;\n        var controlElements=scrollContainer.children;\n        var numEntries = controlElements.length;\n\n        for ( i = 0; i < numEntries; i++) {\n            c_temp.push(controlElements[i].id.slice(2));\n        }\n\n        var menuElements=menuContainer.children;\n        numEntries = menuElements.length;\n        for ( i = 0; i < numEntries; i++) {\n            m_temp.push(menuElements[i].id.slice(2));\n        }\n\n        numEntries=controlElements.length;\n        for ( i = 0; i < numEntries; i++) {\n            c_select[i]=\"c_\"+c_temp[i];\n            if (m_temp.indexOf(c_temp[i])>-1){\n                m_select[i]=\"m_\"+c_temp[i];\n            } else{\n                m_select[i]=undefined;\n            }\n            // create custom behavior for click, touch, and hover\n            d3.select(\"#\"+c_select[i]).on(\"mouseover\",menuElementOnHovered);\n            d3.select(\"#\"+c_select[i]).on(\"mouseout\",menuElementOutHovered);\n\n            d3.select(\"#\"+c_select[i]).on(\"click\",menuElementClicked);\n            d3.select(\"#\"+c_select[i]).on(\"touchstart\",menuElementTouched);\n\n        }\n\n        // connect to mouseWheel\n        d3.select(\"#menuElementContainer\").on(\"wheel\",function() {\n            var wheelEvent = d3.event;\n            var offset;\n            if (wheelEvent.deltaY < 0) offset =  20;\n            if (wheelEvent.deltaY > 0) offset = -20;\n            scrollContainer.scrollLeft+=offset;\n            navigationMenu.hideAllMenus();\n            navigationMenu.updateScrollButtonVisibility();\n        });\n\n        // connect scrollIndicator Buttons;\n        d3.select(\"#scrollRightButton\").on(\"mousedown\",function(){\n            scrolLeftValue=scrollContainer.scrollLeft;\n            navigationMenu.hideAllMenus();\n            t_scrollRight=requestAnimationFrame(timed_scrollRight);\n\n        }).on(\"touchstart\",function(){\n            scrolLeftValue=scrollContainer.scrollLeft;\n            navigationMenu.hideAllMenus();\n            t_scrollRight=requestAnimationFrame(timed_scrollRight);\n        }).on(\"mouseup\",clearAllTimers)\n          .on(\"touchend\",clearAllTimers)\n          .on(\"touchcancel\",clearAllTimers);\n\n        d3.select(\"#scrollLeftButton\").on(\"mousedown\",function(){\n            scrolLeftValue=scrollContainer.scrollLeft;\n            navigationMenu.hideAllMenus();\n            t_scrollLeft=requestAnimationFrame(timed_scrollLeft);\n        }).on(\"touchstart\",function(){\n            scrolLeftValue=scrollContainer.scrollLeft;\n            navigationMenu.hideAllMenus();\n            t_scrollLeft=requestAnimationFrame(timed_scrollLeft);\n        }).on(\"mouseup\",clearAllTimers)\n          .on(\"touchend\",clearAllTimers)\n          .on(\"touchcancel\",clearAllTimers);\n\n        // connect the scroll functionality;\n        d3.select(\"#menuElementContainer\").on(\"scroll\",function(){\n            navigationMenu.updateScrollButtonVisibility();\n            navigationMenu.hideAllMenus();\n        });\n    }\n\n    function menuElementOnHovered(){\n        navigationMenu.hideAllMenus();\n        if  (touchedElement){ return; }\n        showSingleMenu( this.id );\n    }\n\n    function menuElementOutHovered(){\n        hoveroutedControMenu( this.id );\n    }\n\n    function menuElementClicked() {\n        var m_element=m_select[c_select.indexOf(this.id)];\n        if (m_element) {\n            var menuElement = d3.select(\"#\" + m_element);\n            if (menuElement) {\n                if (menuElement.style(\"display\") === \"block\") {\n                    menuElement.style(\"display\", \"none\");// hide it\n                }else {\n                    showSingleMenu(this.id);\n                }\n            }\n        }\n    }\n\n    function menuElementTouched(){\n        // it sets a flag that we have touched it,\n        // since d3. propagates the event for touch as hover and then click, we block the hover event\n        touchedElement=true;\n    }\n\n\n    function hoveroutedControMenu( controllerID ){\n        currentlyHoveredEntry=d3.select(\"#\"+controllerID);\n        if (controllerID !== \"c_search\") {\n                d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\n                d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#fff\");\n            }\n\n    }\n\n    function showSingleMenu( controllerID ){\n        currentlyHoveredEntry=d3.select(\"#\"+controllerID).node();\n        // get the corresponding menu element for this controller\n        var m_element=m_select[c_select.indexOf(controllerID)];\n        if (m_element) {\n            if (controllerID !== \"c_search\") {\n\n            d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\n            d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#bdc3c7\");\n        }\n            // show it if we have a menu\n            currentlyVisibleMenu=d3.select(\"#\"+m_element);\n            currentlyVisibleMenu.style(\"display\",\"block\");\n            if (m_element===\"m_export\")\n                graph.options().exportMenu().exportAsUrl();\n            updateMenuPosition();\n        }\n    }\n\n    function updateMenuPosition(){\n        if (currentlyHoveredEntry) {\n            var leftOffset = currentlyHoveredEntry.offsetLeft;\n            var scrollOffset = scrollContainer.scrollLeft;\n            var totalOffset = leftOffset - scrollOffset;\n            var finalOffset = Math.max(0, totalOffset);\n            var fullContainer_width = scrollContainer.getBoundingClientRect().width;\n            var elementWidth = currentlyVisibleMenu.node().getBoundingClientRect().width;\n            // make priority > first check if we are right\n            if (finalOffset + elementWidth > fullContainer_width) {\n                finalOffset = fullContainer_width - elementWidth;\n            }\n            // fix priority;\n            finalOffset = Math.max(0, finalOffset);\n            currentlyVisibleMenu.style(\"left\", finalOffset + \"px\");\n\n            // // check if outside the viewport\n            // var menuWidth=currentlyHoveredEntry.getBoundingClientRect().width;\n            // var bt_width=36;\n            // if (totalOffset+menuWidth<bt_width || totalOffset+bt_width>fullContainer_width){\n            //     navigationMenu.hideAllMenus();\n            //     currentlyHoveredEntry=undefined;\n            // }\n        }\n    }\n\n    navigationMenu.hideAllMenus=function(){\n        d3.selectAll(\".toolTipMenu\").style(\"display\",\"none\"); // hiding all menus\n    };\n\n    navigationMenu.updateScrollButtonVisibility=function(){\n        scrollMax = scrollContainer.scrollWidth - scrollContainer.clientWidth -2;\n        if ( scrollContainer.scrollLeft === 0){\n               leftButton.classed(\"hidden\",true);\n        }else{ leftButton.classed(\"hidden\",false);}\n\n        if ( scrollContainer.scrollLeft > scrollMax){\n               rightButton.classed(\"hidden\",true);\n        }else{ rightButton.classed(\"hidden\",false); }\n\n    };\n\n\tnavigationMenu.setup = function () {\n        setupControlsAndMenus();\n        // make sure that the menu elements follow their controller and also their restrictions\n        // some hovering behavior -- lets the menu disappear when hovered in graph or sidebar;\n        d3.select(\"#graph\")         .on(\"mouseover\",function(){ navigationMenu.hideAllMenus(); });\n        d3.select(\"#generalDetails\").on(\"mouseover\",function(){ navigationMenu.hideAllMenus(); });\n    };\n\n    return navigationMenu;\n};\n","var unescape = require(\"lodash/unescape\");\n\nmodule.exports = function (graph) {\n\n\tvar ontologyMenu = {},\n\t\tloadingInfo = d3.select(\"#loading-info\"),\n\t\tloadingProgress = d3.select(\"#loading-progress\"),\n\n\t\tontologyMenuTimeout,\n\t\tfileToLoad,\n        stopTimer=false,\n\t\tloadingError=false,\n        loadingStatusTimer,\n        conversion_sessionId,\n\t\tcachedConversions = {},\n\t\tloadingModule,\n\t\tloadOntologyFromText;\n\t    var currentLoadedOntologyName=\"\";\n\n\tString.prototype.beginsWith = function (string) {\n\t\treturn(this.indexOf(string) === 0);\n\t};\n\n\tontologyMenu.getLoadingFunction=function(){\n\t\treturn loadOntologyFromText;\n\t};\n\n\tontologyMenu.clearCachedVersion=function(){\n        if (cachedConversions[currentLoadedOntologyName]) {\n            cachedConversions[currentLoadedOntologyName]=undefined;\n        }\n    };\n\n\n\tontologyMenu.reloadCachedOntology=function(){\n\t    ontologyMenu.clearCachedVersion();\n        graph.clearGraphData();\n        loadingModule.parseUrlAndLoadOntology(false);\n    };\n\n\tontologyMenu.cachedOntology=function(ontoName){\n        currentLoadedOntologyName=ontoName;\n        if (cachedConversions[ontoName]){\n            var locStr=String(location.hash);\n            d3.select(\"#reloadSvgIcon\").node().disabled=false;\n            graph.showReloadButtonAfterLayoutOptimization(true);\n            if (locStr.indexOf(\"#file\")>-1){\n                d3.select(\"#reloadSvgIcon\").node().disabled=true;\n                d3.select(\"#reloadCachedOntology\").node().title=\"reloading original version not possible, please reload the file\";\n                d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\",true);\n                d3.select(\"#svgStringText\").style(\"fill\",\"gray\");\n                d3.select(\"#svgStringText\").classed(\"noselect\",true);\n            }\n            else{\n                d3.select(\"#reloadCachedOntology\").node().title=\"generate new visualization and overwrite cached ontology\";\n                d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\",false);\n                d3.select(\"#svgStringText\").style(\"fill\",\"black\");\n                d3.select(\"#svgStringText\").classed(\"noselect\",true);\n            }\n        }else {\n            graph.showReloadButtonAfterLayoutOptimization(false);\n\n        }\n\t\treturn cachedConversions[ontoName];\n\t};\n    ontologyMenu.setCachedOntology=function(ontoName, ontoContent){\n        cachedConversions[ontoName]=ontoContent;\n        currentLoadedOntologyName=ontoName;\n    };\n\n    ontologyMenu.getErrorStatus=function(){\n    \treturn loadingError;\n    };\n\n\tontologyMenu.setup = function (_loadOntologyFromText) {\n\t\tloadOntologyFromText = _loadOntologyFromText;\n\t\tloadingModule=graph.options().loadingModule();\n\n\t\tif(graph.options().showSelectOntologyGui()){\n            var menuEntry= d3.select(\"#m_select\");\n            menuEntry.on(\"mouseover\",function(){\n            \tvar searchMenu=graph.options().searchMenu();\n            \tsearchMenu.hideSearchEntries();\n            });\n        }\n\n\t\tsetupConverterButtons();\n\t\tsetupUploadButton();\n\n\t\tvar descriptionButton = d3.select(\"#error-description-button\").datum({open: false});\n\t\tdescriptionButton.on(\"click\", function (data) {\n\t\t\tvar errorContainer = d3.select(\"#error-description-container\");\n\t\t\tvar errorDetailsButton = d3.select(this);\n\n\t\t\t// toggle the state\n\t\t\tdata.open = !data.open;\n\t\t\tvar descriptionVisible = data.open;\n\t\t\tif (descriptionVisible) {\n\t\t\t\terrorDetailsButton.text(\"Hide error details\");\n\t\t\t} else {\n\t\t\t\terrorDetailsButton.text(\"Show error details\");\n\t\t\t}\n\t\t\terrorContainer.classed(\"hidden\", !descriptionVisible);\n\t\t});\n\n\t\tsetupUriListener();\n\t    loadingModule.setOntologyMenu(ontologyMenu);\n\t};\n\n\n\tfunction setupUriListener() {\n\t\t// reload ontology when hash parameter gets changed manually\n\t\td3.select(window).on(\"hashchange\", function () {\n\t\t\tvar oldURL = d3.event.oldURL, newURL = d3.event.newURL;\n\t\t\tif (oldURL !== newURL) {\n\t\t\t\t// don't reload when just the hash parameter gets appended\n\t\t\t\tif (newURL === oldURL + \"#\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tupdateNavigationHrefs();\n\t\t\t\tloadingModule.parseUrlAndLoadOntology();\n\t\t\t}\n\t\t});\n\t\tupdateNavigationHrefs();\n\t}\n\n\tontologyMenu.stopLoadingTimer=function(){\n        stopTimer=true;\n        clearTimeout(loadingStatusTimer);\n\t};\n\n\t/**\n\t * Quick fix: update all anchor tags that are used as buttons because a click on them\n\t * changes the url and this will load an other ontology.\n\t */\n\tfunction updateNavigationHrefs() {\n\t\td3.selectAll(\"#menuElementContainer > li > a\").attr(\"href\", location.hash || \"#\");\n\t}\n\n\tontologyMenu.setIriText=function(text){\n\t\td3.select(\"#iri-converter-input\").node().value=text;\n\t\td3.select(\"#iri-converter-button\").attr(\"disabled\", false);\n\t\td3.select(\"#iri-converter-form\").on(\"submit\")();\n\t};\n\n    ontologyMenu.clearDetailInformation=function(){\n        var bpContainer=d3.select(\"#bulletPoint_container\");\n        var htmlCollection = bpContainer.node().children;\n        var numEntries = htmlCollection.length;\n\n        for (var i = 0; i < numEntries; i++) {\n            htmlCollection[0].remove();\n        }\n\t};\n    ontologyMenu.append_message=function(msg){\n        // forward call\n        append_message(msg);\n    };\n    function append_message(msg){\n        var bpContainer=d3.select(\"#bulletPoint_container\");\n        var div=bpContainer.append(\"div\");\n\t\tdiv.node().innerHTML=msg;\n        loadingModule.scrollDownDetails();\n    }\n\tontologyMenu.append_message_toLastBulletPoint=function(msg){\n\t\t// forward call\n\t\tappend_message_toLastBulletPoint(msg);\n\t};\n\n    ontologyMenu.append_bulletPoint=function(msg){\n        // forward call\n        append_bulletPoint(msg);\n    };\n    function append_message_toLastBulletPoint(msg){\n        var bpContainer=d3.select(\"#bulletPoint_container\");\n        var htmlCollection = bpContainer.node().getElementsByTagName(\"LI\");\n        var lastItem= htmlCollection.length-1;\n        if (lastItem>=0){\n            var oldText=htmlCollection[lastItem].innerHTML;\n            htmlCollection[lastItem].innerHTML=oldText+msg;\n        }\n        loadingModule.scrollDownDetails();\n    }\n\n    function append_bulletPoint(msg){\n        var bp_container=d3.select(\"#bulletPoint_container\");\n        var bp=bp_container.append(\"li\");\n        bp.node().innerHTML=msg;\n        d3.select(\"#currentLoadingStep\").node().innerHTML=msg;\n        loadingModule.scrollDownDetails();\n    }\n\n\n\tfunction setupConverterButtons() {\n\t\tvar iriConverterButton = d3.select(\"#iri-converter-button\");\n\t\tvar iriConverterInput = d3.select(\"#iri-converter-input\");\n\n\t\tiriConverterInput.on(\"input\", function () {\n\t\t\tkeepOntologySelectionOpenShortly();\n\n\t\t\tvar inputIsEmpty = iriConverterInput.property(\"value\") === \"\";\n\t\t\tiriConverterButton.attr(\"disabled\", inputIsEmpty || undefined);\n\t\t}).on(\"click\", function () {\n\t\t\tkeepOntologySelectionOpenShortly();\n\t\t});\n\n\t\td3.select(\"#iri-converter-form\").on(\"submit\", function () {\n\t\t\tvar inputName=iriConverterInput.property(\"value\");\n\n\t\t\t// remove first spaces\n\t\t\tvar clearedName=inputName.replace(/%20/g,\" \");\n\t\t\twhile (clearedName.beginsWith(\" \")){\n\t\t\t\tclearedName=clearedName.substr(1,clearedName.length);\n\t\t\t}\n\t\t\t// remove ending spaces\n\t\t\twhile (clearedName.endsWith(\" \")){\n\t\t\t\tclearedName=clearedName.substr(0,clearedName.length-1);\n\t\t\t}\n\t\t\t// check if iri is actually an url for a json file (ends with .json)\n\t\t\t// create lowercase filenames;\n\t\t\tinputName=clearedName;\n\t\t\tvar lc_iri=inputName.toLowerCase();\n\t\t\tif (lc_iri.endsWith(\".json\")) {\n\t\t\t\tlocation.hash = \"url=\" + inputName;\n\t\t\t\tiriConverterInput.property(\"value\", \"\");\n\t\t\t\tiriConverterInput.on(\"input\")();\n\t\t\t} else {\n\t\t\t\tlocation.hash = \"iri=\" + inputName;\n\t\t\t\tiriConverterInput.property(\"value\", \"\");\n\t\t\t\tiriConverterInput.on(\"input\")();\n\t\t\t}\n\t\t\td3.event.preventDefault();\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tfunction setupUploadButton() {\n\t\tvar input = d3.select(\"#file-converter-input\"),\n\t\t\tinputLabel = d3.select(\"#file-converter-label\"),\n\t\t\tuploadButton = d3.select(\"#file-converter-button\");\n\n\t\tinput.on(\"change\", function () {\n\t\t\tvar selectedFiles = input.property(\"files\");\n\t\t\tif (selectedFiles.length <= 0) {\n\t\t\t\tinputLabel.text(\"Select ontology file\");\n\t\t\t\tuploadButton.property(\"disabled\", true);\n\t\t\t} else {\n\t\t\t\tinputLabel.text(selectedFiles[0].name);\n                fileToLoad=selectedFiles[0].name;\n\t\t\t\tuploadButton.property(\"disabled\", false);\n\t\t\t\tuploadButton.node().click();\n\t\t\t\t// close menu;\n                graph.options().navigationMenu().hideAllMenus();\n            }\n\t\t});\n\n\t\tuploadButton.on(\"click\", function () {\n\t\t\tvar selectedFile = input.property(\"files\")[0];\n\t\t\tif (!selectedFile) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar newHashParameter = \"file=\" + selectedFile.name;\n\t\t\t// Trigger the reupload manually, because the iri is not changing\n\t\t\tif (location.hash === \"#\" + newHashParameter) {\n\t\t\t\tloadingModule.parseUrlAndLoadOntology();\n\t\t\t} else {\n\t\t\t\tlocation.hash = newHashParameter;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction setLoadingStatusInfo(message){\n\t\t// check if there is a owl2vowl li item;\n\t\tvar o2vConverterContainer=d3.select(\"#o2vConverterContainer\");\n\t\tif (!o2vConverterContainer.node()){\n            var bp_container=d3.select(\"#bulletPoint_container\");\n            var div=bp_container.append(\"div\");\n\t\t\to2vConverterContainer=div.append(\"ul\");\n\t\t\to2vConverterContainer.attr(\"id\",\"o2vConverterContainer\");\n\t\t\to2vConverterContainer.style(\"margin-left\",\"-25px\");\n\t\t}\n\t\t// clear o2vConverterContainer;\n        var htmlCollection = o2vConverterContainer.node().children;\n\t\tvar numEntries = htmlCollection.length;\n        for (var i = 0; i < numEntries; i++) {\n                htmlCollection[0].remove();\n        }\n\t\t// split tokens provided by o2v messages\n\t\tvar tokens=message.split(\"* \");\n        var liForToken;\n\t\tfor (var t=0;t<tokens.length;t++) {\n            var tokenMessage = tokens[t];\n            // create li for tokens;\n            if (tokenMessage.length > 0) {\n                liForToken = o2vConverterContainer.append(\"li\");\n            \tliForToken.attr(\"type\", \"disc\");\n            \tliForToken.node().innerHTML = tokenMessage.replace(/\\n/g,\"<br>\");\n        \t}\n\t\t}\n\t\tif (liForToken)\n\t\t\tliForToken.node().innerHTML+=\"<br>\";\n\n        loadingModule.scrollDownDetails();\n\t}\n\n\tontologyMenu.setLoadingStatusInfo=function(message){\n\t\t// forward call\n        setLoadingStatusInfo(message);\n    };\n\n    function getLoadingStatusOnceCallBacked(callback,parameter){\n        d3.xhr(\"loadingStatus?sessionId=\"+conversion_sessionId, \"application/text\", function (error, request) {\n            if (error){\n                console.log(\"ontologyMenu getLoadingStatusOnceCallBacked throws error\");\n                console.log(\"---------Error -----------\");\n                console.log(error);\n                console.log(\"---------Request -----------\");\n                console.log(request);\n            }\n            setLoadingStatusInfo(request.responseText);\n            callback(parameter);\n        });\n    }\n\n\tfunction getLoadingStatusTimeLooped(){\n        d3.xhr(\"loadingStatus?sessionId=\"+conversion_sessionId, \"application/text\", function (error, request) {\n        \tif (error){\n                console.log(\"ontologyMenu getLoadingStatusTimeLooped throws error\");\n                console.log(\"---------Error -----------\");\n                console.log(error);\n                console.log(\"---------Request -----------\");\n                console.log(request);\n\t\t\t}\n            if (stopTimer===false) {\n                setLoadingStatusInfo(request.responseText);\n                timedLoadingStatusLogger();\n            }\n    \t});\n\t}\n\n\tfunction timedLoadingStatusLogger(){\n        clearTimeout(loadingStatusTimer);\n        if (stopTimer===false) {\n            loadingStatusTimer = setTimeout(function () {\n                getLoadingStatusTimeLooped();\n            }, 1000);\n        }\n\t}\n\n\tfunction callbackUpdateLoadingMessage(msg){\n        d3.xhr(\"loadingStatus\", \"application/text\", function (error, request) {\n        \tif (request!==undefined){\n    \t        setLoadingStatusInfo(request.responseText+ \"<br>\"+msg);\n        \t}else{\n        \t\tappend_message(msg);\n\t\t\t}\n        });\n\t}\n\n\tontologyMenu.setConversionID=function (id){\n\t\tconversion_sessionId=id;\n\t};\n\n\tontologyMenu.callbackLoad_Ontology_FromIRI=function(parameter){\n        var relativePath=parameter[0];\n        var ontoName=parameter[1];\n        var localThreadId=parameter[2];\n        stopTimer=false;\n        timedLoadingStatusLogger();\n        d3.xhr(relativePath, \"application/json\", function (error, request) {\n            var loadingSuccessful = !error;\n            // check if error occurred or responseText is empty\n            if ((error!==null && error.status === 500) || (request && request.responseText.length===0)) {\n     \t\t\tclearTimeout(loadingStatusTimer);\n                stopTimer=true;\n                getLoadingStatusOnceCallBacked(callbackFromIRI_URL_ERROR,[error,request,localThreadId]);\n            }\n            var jsonText;\n            if (loadingSuccessful) {\n                clearTimeout(loadingStatusTimer);\n                stopTimer=true;\n                jsonText = request.responseText;\n                getLoadingStatusOnceCallBacked(callbackFromIRI_Success,[jsonText,ontoName,localThreadId]);\n            }\n        });\n\t};\n\n\n    ontologyMenu.callbackLoad_Ontology_From_DirectInput=function(text,parameter){\n        var input=text;\n        var sessionId=parameter[1];\n        stopTimer=false;\n        timedLoadingStatusLogger();\n\n        var formData = new FormData();\n        formData.append(\"input\" , input);\n        formData.append(\"sessionId\", sessionId);\n        var xhr = new XMLHttpRequest();\n\n        xhr.open(\"POST\", \"directInput\", true);\n        xhr.onload = function () {\n            clearTimeout(loadingStatusTimer);\n            stopTimer=true;\n            getLoadingStatusOnceCallBacked(callbackForConvert,[xhr, input,sessionId]);\n        };\n        timedLoadingStatusLogger();\n        xhr.send(formData);\n\n    };\n\tfunction callbackFromIRI_Success(parameter){\n        var local_conversionId=parameter[2];\n        if (local_conversionId!==conversion_sessionId){\n            console.log(\"The conversion process for file:\"+parameter[1]+\" has been canceled!\");\n            ontologyMenu.conversionFinished(local_conversionId);\n            return;\n        }\n        loadingModule.loadFromOWL2VOWL(parameter[0],parameter[1]);\n        ontologyMenu.conversionFinished();\n\n    }\n    function callbackFromDirectInput_Success(parameter){\n        var local_conversionId=parameter[1];\n        if (local_conversionId!==conversion_sessionId){\n            console.log(\"The conversion process for file:\"+parameter[1]+\" has been canceled!\");\n            ontologyMenu.conversionFinished(local_conversionId);\n            return;\n        }\n        loadingModule.loadFromOWL2VOWL(parameter[0],\"DirectInputConversionID\"+local_conversionId);\n        ontologyMenu.conversionFinished();\n\n    }\n\n    ontologyMenu.getConversionId=function(){return conversion_sessionId;};\n\n\tontologyMenu.callbackLoad_JSON_FromURL=function(parameter){\n\t\tvar relativePath=parameter[0];\n\t\tvar ontoName=parameter[1];\n\t\tvar local_conversionId=parameter[2];\n        stopTimer=false;\n        timedLoadingStatusLogger();\n        d3.xhr(relativePath, \"application/json\", function (error, request) {\n            var loadingSuccessful = !error;\n            // check if error occurred or responseText is empty\n            if ((error!==null && error.status === 500) || (request && request.responseText.length===0)) {\n                clearTimeout(loadingStatusTimer);\n                stopTimer=true;\n                loadingSuccessful=false;\n                console.log(request);\n                console.log(request.responseText.length);\n                getLoadingStatusOnceCallBacked(callbackFromJSON_URL_ERROR,[error,request,local_conversionId]);\n            }\n            if (loadingSuccessful) {\n                clearTimeout(loadingStatusTimer);\n                stopTimer=true;\n                var jsonText = request.responseText;\n                getLoadingStatusOnceCallBacked(callbackFromJSON_Success,[jsonText,ontoName,local_conversionId]);\n            }\n        });\n\t};\n\n\tfunction callbackFromJSON_Success(parameter){\n        var local_conversionId=parameter[2];\n        if (local_conversionId!==conversion_sessionId){\n            console.log(\"The conversion process for file:\"+parameter[1]+\" has been canceled!\");\n            return;\n        }\n        loadingModule.loadFromOWL2VOWL(parameter[0],parameter[1]);\n\t}\n\n\tfunction callbackFromJSON_URL_ERROR(parameter){\n        var error=parameter[0];\n        var request=parameter[1];\n        var local_conversionId=parameter[2];\n        if (local_conversionId!==conversion_sessionId){\n            console.log(\"This thread has been canceled!!\");\n            ontologyMenu.conversionFinished(local_conversionId);\n            return;\n        }\n        callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \"+\n            \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n            \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n\n        if (error!==null && error.status === 500){\n            append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\n        }\n        if (request && request.responseText.length===0){\n            append_message(\"<span style='color:red'>Received empty graph</span>\");\n        }\n        graph.handleOnLoadingError();\n        ontologyMenu.conversionFinished();\n    }\n\n\n    function callbackFromIRI_URL_ERROR(parameter){\n        var error=parameter[0];\n        var request=parameter[1];\n        var local_conversionId=parameter[2];\n        if (local_conversionId!==conversion_sessionId){\n            console.log(\"This thread has been canceled!!\");\n            ontologyMenu.conversionFinished(local_conversionId);\n            return;\n        }\n        callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \"+\n            \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n            \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n\n        if (error!==null && error.status === 500){\n            append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\n        }\n        if (request && request.responseText.length===0){\n            append_message(\"<span style='color:red'>Received empty graph</span>\");\n        }\n        graph.handleOnLoadingError();\n        ontologyMenu.conversionFinished();\n    }\n\n\tfunction callbackFromDirectInput_ERROR(parameter){\n\n\t\tvar error=parameter[0];\n\t\tvar request=parameter[1];\n\t\tvar local_conversionId=parameter[2];\n\t\tif (local_conversionId!==conversion_sessionId){\n            console.log(\"The loading process for direct input has been canceled!\");\n\t\t\treturn;\n\t\t}\n        // callbackUpdateLoadingMessage(\"<br> <span style='color:red'> Failed to convert the file.</span> \"+\n        //     \"Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n        //     \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n        if (error!==null && error.status === 500){\n            append_message(\"<span style='color:red'>Could not convert direct input</span>\");\n        }\n        if (request && request.responseText.length===0){\n            append_message(\"<span style='color:red'>Received empty graph</span>\");\n        }\n\n        graph.handleOnLoadingError();\n        ontologyMenu.conversionFinished();\n\t}\n\n\tontologyMenu.callbackLoadFromOntology=function(selectedFile,filename,local_threadId){\n    \tcallbackLoadFromOntology(selectedFile,filename,local_threadId);\n\t};\n\n    function callbackLoadFromOntology(selectedFile, filename, local_threadId){\n    \tstopTimer=false;\n        timedLoadingStatusLogger();\n\n        var formData = new FormData();\n        formData.append(\"ontology\" , selectedFile);\n        formData.append(\"sessionId\", local_threadId);\n        var xhr = new XMLHttpRequest();\n\n        xhr.open(\"POST\", \"convert\", true);\n        xhr.onload = function () {\n            clearTimeout(loadingStatusTimer);\n            stopTimer=true;\n            getLoadingStatusOnceCallBacked(callbackForConvert,[xhr, filename,local_threadId]);\n        };\n        timedLoadingStatusLogger();\n        xhr.send(formData);\n\t}\n\n\tfunction callbackForConvert(parameter){\n    \tvar xhr=parameter[0];\n    \tvar filename=parameter[1];\n    \tvar local_threadId=parameter[2];\n    \tif (local_threadId!==conversion_sessionId){\n    \t\tconsole.log(\"The conversion process for file:\"+filename+\" has been canceled!\");\n            ontologyMenu.conversionFinished(local_threadId);\n    \t\treturn;\n\t\t}\n        if (xhr.status === 200) {\n            loadingModule.loadFromOWL2VOWL(xhr.responseText,filename);\n            ontologyMenu.conversionFinished();\n        } else {\n            callbackUpdateLoadingMessage(\"Failed to convert the file. \"+\n                \"Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n                \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n            graph.handleOnLoadingError();\n            ontologyMenu.conversionFinished();\n\t\t}\n\t}\n\n    ontologyMenu.conversionFinished=function(id){\n\t\tvar local_id=conversion_sessionId;\n\t\tif (id){\n            local_id=id;\n\t\t}\n        d3.xhr(\"conversionDone?sessionId=\"+local_id, \"application/text\", function (error, request) {\n            if (error){\n                console.log(\"ontologyMenu conversionFinished throws error\");\n                console.log(\"---------Error -----------\");\n                console.log(error);\n                console.log(\"---------Request -----------\");\n                console.log(request);\n            }\n        });\n\t};\n\n\tfunction keepOntologySelectionOpenShortly() {\n\t\t// Events in the menu should not be considered\n\t\tvar ontologySelection = d3.select(\"#select .toolTipMenu\");\n\t\tontologySelection.on(\"click\", function () {\n\t\t\td3.event.stopPropagation();\n\t\t}).on(\"keydown\", function () {\n\t\t\td3.event.stopPropagation();\n\t\t});\n\n\t\tontologySelection.style(\"display\", \"block\");\n\n\t\tfunction disableKeepingOpen() {\n\t\t\tontologySelection.style(\"display\", undefined);\n\n\t\t\tclearTimeout(ontologyMenuTimeout);\n\t\t\td3.select(window).on(\"click\", undefined).on(\"keydown\", undefined);\n\t\t\tontologySelection.on(\"mouseover\", undefined);\n\t\t}\n\n\t\t// Clear the timeout to handle fast calls of this function\n\t\tclearTimeout(ontologyMenuTimeout);\n\t\tontologyMenuTimeout = setTimeout(function () {\n\t\t\tdisableKeepingOpen();\n\t\t}, 3000);\n\n\t\t// Disable forced open selection on interaction\n\t\td3.select(window).on(\"click\", function () {\n\t\t\tdisableKeepingOpen();\n\t\t}).on(\"keydown\", function () {\n\t\t\tdisableKeepingOpen();\n\t\t});\n\n\t\tontologySelection.on(\"mouseover\", function () {\n\t\t\tdisableKeepingOpen();\n\t\t});\n\t}\n\n    ontologyMenu.showLoadingStatus=function (visible){\n\t\tif (visible===true){\n\t\t\tdisplayLoadingIndicators();\n\t\t}\n\t\telse {\n\t\t\thideLoadingInformations();\n\t\t}\n\t};\n\n\tfunction displayLoadingIndicators() {\n        d3.select(\"#layoutLoadingProgressBarContainer\").classed(\"hidden\",false);\n        loadingInfo.classed(\"hidden\",false);\n\t\tloadingProgress.classed(\"hidden\", false);\n\t}\n\n\tfunction hideLoadingInformations() {\n        loadingInfo.classed(\"hidden\",true);\n\t}\n\n\treturn ontologyMenu;\n};\n","/**\n * Contains the logic for the pause and resume button.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar pauseMenu = {},\n\t\tpauseButton;\n\n\n\t/**\n\t * Adds the pause button to the website.\n\t */\n\tpauseMenu.setup = function () {\n\t\tvar menuEntry = d3.select(\"#pauseOption\");\n\t\tmenuEntry.on(\"mouseover\", function () {\n\t\t\tvar searchMenu = graph.options().searchMenu();\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t});\n\t\tpauseButton = d3.select(\"#pause-button\")\n\t\t\t.datum({paused: false})\n\t\t\t.on(\"click\", function (d) {\n\t\t\t\tgraph.paused(!d.paused);\n\t\t\t\td.paused = !d.paused;\n\t\t\t\tupdatePauseButton();\n\t\t\t\tpauseButton.classed(\"highlighted\", d.paused);\n\t\t\t});\n\t\t// Set these properties the first time manually\n\t\tupdatePauseButton();\n\t};\n\n\tpauseMenu.setPauseValue = function (value) {\n\t\tpauseButton.datum().paused = value;\n\t\tgraph.paused(value);\n\t\tpauseButton.classed(\"highlighted\", value);\n\t\tupdatePauseButton();\n\t};\n\n\tfunction updatePauseButton() {\n\t\tupdatePauseButtonClass();\n\t\tupdatePauseButtonText();\n\t}\n\n\tfunction updatePauseButtonClass() {\n\t\tpauseButton.classed(\"paused\", function (d) {\n\t\t\treturn d.paused;\n\t\t});\n\t}\n\n\tfunction updatePauseButtonText() {\n\t\tif (pauseButton.datum().paused) {\n\t\t\tpauseButton.text(\"Resume\");\n\t\t} else {\n\t\t\tpauseButton.text(\"Pause\");\n\t\t}\n\t}\n\n\tpauseMenu.reset = function () {\n\t\t// resuming\n\t\tpauseMenu.setPauseValue(false);\n\t};\n\n\n\treturn pauseMenu;\n};\n","/**\n * Contains the logic for the reset button.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar resetMenu = {},\n\t\toptions = graph.graphOptions(),\n\t\tresettableModules,\n\t\tuntouchedOptions = webvowl.options();\n\n\n\t/**\n\t * Adds the reset button to the website.\n\t * @param _resettableModules modules that can be resetted\n\t */\n\tresetMenu.setup = function (_resettableModules) {\n\t\tresettableModules = _resettableModules;\n\t\td3.select(\"#reset-button\").on(\"click\", resetGraph);\n\t\tvar menuEntry= d3.select(\"#resetOption\");\n\t\tmenuEntry.on(\"mouseover\",function(){\n\t\t\tvar searchMenu=graph.options().searchMenu();\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t});\n\t};\n\n\tfunction resetGraph() {\n\t\tgraph.resetSearchHighlight();\n\t\tgraph.options().searchMenu().clearText();\n\t\toptions.classDistance(untouchedOptions.classDistance());\n\t\toptions.datatypeDistance(untouchedOptions.datatypeDistance());\n\t\toptions.charge(untouchedOptions.charge());\n\t\toptions.gravity(untouchedOptions.gravity());\n\t\toptions.linkStrength(untouchedOptions.linkStrength());\n\t\tgraph.reset();\n\n\t\tresettableModules.forEach(function (module) {\n\t\t\tmodule.reset();\n\t\t});\n\n\t\tgraph.updateStyle();\n\t}\n\n\n\treturn resetMenu;\n};\n","module.exports = function (graph) {\n\n    var saveGraphMenu = {},\n        saveButton,\n        loadingModule,\n        exportMenu;\n\n    saveGraphMenu.setup = function () {\n\n        saveButton = d3.select(\"#save-button\")\n            .on(\"click\", function (d) {\n                var config = graph.options().defaultConfig();\n                if(config.editorMode === \"true\"){\n                    loadingModule=graph.options().loadingModule();\n                    exportMenu = graph.options().exportMenu();\n                    var object = new Object();\n                    object.modified = graph.prepareChangesObject();\n                    if(!object.modified.isModified)\n                        object.ttl = exportMenu.exportTurtleText();\n\n                    // Javier: Uncomment in next iteration when we added Jena into ODIN.\n                    // For now we are just interested to save the graphical graph into mongodb\n\n                    console.log(\"success\");\n                    saveGraphMenu.saveGraphicalGraph();\n                    graph.resetOriginalLabels();\n                    graph.options().alertModule().showAlert(\"Information\",\"Graph saved\");\n\n\n                    // $.ajax({\n                    //     type: \"POST\",\n                    //     url: '/globalGraph/'+encodeURIComponent(loadingModule.currentGlobalGraph().namedGraph)+'/TTL',\n                    //     data: object,\n                    //     success: function(data) {\n                    //         console.log(\"success\");\n                    //         saveGraphMenu.saveGraphicalGraph();\n                    //         graph.resetOriginalLabels();\n                    //         graph.options().alertModule().showAlert(\"Information\",\"Graph saved\");\n                    //     }\n                    // });\n                } else if(config.selectSG_mode === \"true\"){\n                    saveGraphMenu.saveSubGraph();\n                }\n            });\n    };\n\n    saveGraphMenu.saveSubGraph = function(){\n        console.log(\"saveGraphMenu.saveSubGraph\")\n        var subGraph = new Object();\n        subGraph.selection = JSON.stringify(graph.prepareSelectionObject());\n        subGraph.LAVMappingID = getParameterByName(\"LAVMappingID\");\n        subGraph.graphicalSubGraph = graph.prepareGraphicalSelObject();\n        console.log(typeof(subGraph));\n        console.log(subGraph);\n\n        $.ajax({\n            url: odinApi+'/lavMapping/subgraph',\n            type: 'POST',\n            contentType: \"application/json;charset=UTF-8\",\n            data: JSON.stringify(subGraph),\n            success: function(data) {\n                graph.options().alertModule().showAlert(\"Information\",\"Mappings saved\");\n            }\n        });\n    };\n\n    saveGraphMenu.saveGraphicalGraph = function () {\n        loadingModule = graph.options().loadingModule();\n        exportMenu = graph.options().exportMenu();\n        console.log(\"loadingModule.currentGlobalGraph()\")\n        console.log(loadingModule.currentGlobalGraph());\n        console.log(\"DEBUG\")\n\n        console.log(graph.prepareChangesObject());\n        console.log(typeof(exportMenu.exportTurtleText()));\n        console.log(graph.deletedURIProperties())\n        const modified = graph.prepareChangesObject().isModified \n                        || (graph.deletedURIClasses().length > 0)\n                        || (graph.deletedURIProperties().length > 0) || true; //graph.prepareChangesObject().isModified no dice si se\n                                 //ha creado un nodo/propiedad sin modificar el label\n        const data = {\n            globalGraph: loadingModule.currentGlobalGraph(),\n            isModified: modified,\n            ttl: modified ? exportMenu.exportTurtleText() : \"\",\n            deleted: {\n              classes: graph.deletedURIClasses(),\n              properties: graph.deletedURIProperties(),\n            },\n            new: {\n                classes: graph.newURIClasses(),\n                properties: graph.newURIProperties(),\n            }\n        };\n        data.globalGraph.graphicalGraph = exportMenu.getJson();\n        console.log({data})\n        $.ajax({\n            type: \"PUT\",\n            contentType: \"application/json\",\n            url: odinApi+'/globalGraph/'+loadingModule.currentGlobalGraph().id,\n            data: JSON.stringify(data)\n        });\n    };\n\n    saveGraphMenu.hide = function (flag) {\n        if(flag){\n            d3.select(\"#c_save\").style(\"display\",\"none\")\n        }else{\n            d3.select(\"#c_save\").style(\"display\",\"\")\n        }\n    };\n\n    function getParameterByName(name) {\n        console.log(\"location.search\")\n        console.log(location.search)\n        name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n            results = regex.exec(location.search);\n        return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n    }\n\n    return saveGraphMenu;\n};\n","/**\n * Contains the search \"engine\"\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\tvar searchMenu = {},\n\t\tdictionary = [],\n\t\tentryNames = [],\n\t\tsearchLineEdit,\n\t\tmergedStringsList,\n\t\tmergedIdList,\n\t\tmaxEntries = 6,\n\t\tdictionaryUpdateRequired = true,\n\t\tlabelDictionary,\n\t\tinputText,\n\t\tviewStatusOfSearchEntries = false;\n\n\t\tvar results = [];\n\t\tvar resultID = [];\n\t\tvar c_locate=d3.select(\"#locateSearchResult\");\n\t\tvar c_search=d3.select(\"#c_search\");\n\t\tvar m_search=d3.select(\"#m_search\"); // << dropdown container;\n\n\n\tString.prototype.beginsWith = function (string) {\n\t\treturn(this.indexOf(string) === 0);\n\t};\n\n\tsearchMenu.requestDictionaryUpdate = function () {\n\t\tdictionaryUpdateRequired = true;\n\t\t// clear possible pre searched entries\n\t\tvar htmlCollection = m_search.node().children;\n\t\tvar numEntries = htmlCollection.length;\n\n\t\tfor (var i = 0; i < numEntries; i++)\n\t\t\thtmlCollection[0].remove();\n\t\tsearchLineEdit.node().value = \"\";\n\t};\n\n\n\tfunction updateSearchDictionary() {\n\t\tlabelDictionary = graph.getUpdateDictionary();\n\t\tdictionaryUpdateRequired = false;\n\t\tdictionary = [];\n\t\tentryNames = [];\n\t\tvar idList = [];\n\t\tvar stringList = [];\n\n\t\tvar i;\n\t\tfor (i = 0; i < labelDictionary.length; i++) {\n\t\t\tvar lEntry = labelDictionary[i].labelForCurrentLanguage();\n\t\t\tidList.push(labelDictionary[i].id());\n\t\t\tstringList.push(lEntry);\n\t\t\t// add all equivalents to the search space;\n\t\t\tif (labelDictionary[i].equivalents && labelDictionary[i].equivalents().length>0){\n\t\t\t\tvar eqs=labelDictionary[i].equivalentsString();\n\t\t\t\tvar eqsLabels=eqs.split(\", \");\n\t\t\t\tfor (var e=0;e<eqsLabels.length;e++){\n                    idList.push(labelDictionary[i].id());\n                    stringList.push(eqsLabels[e]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmergedStringsList = [];\n\t\tmergedIdList = [];\n\t\tvar indexInStringList=-1;\n\t\tvar currentString;\n\t\tvar currentObjectId;\n\n\t\tfor (i = 0; i < stringList.length; i++) {\n\t\t\tif (i === 0) {\n\t\t\t\t// just add the elements\n\t\t\t\tmergedStringsList.push(stringList[i]);\n\t\t\t\tmergedIdList.push([]);\n\t\t\t\tmergedIdList[0].push(idList[i]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcurrentString = stringList[i];\n\t\t\t\tcurrentObjectId = idList[i];\n\t\t\t\tindexInStringList = mergedStringsList.indexOf(currentString);\n\t\t\t}\n\t\t\tif (indexInStringList === -1) {\n\t\t\t\tmergedStringsList.push(stringList[i]);\n\t\t\t\tmergedIdList.push([]);\n\t\t\t\tvar lastEntry = mergedIdList.length;\n\t\t\t\tmergedIdList[lastEntry - 1].push(currentObjectId);\n\t\t\t} else {\n\t\t\t\tmergedIdList[indexInStringList].push(currentObjectId);\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < mergedStringsList.length; i++) {\n\t\t\tvar aString = mergedStringsList[i];\n\t\t\tvar correspondingIdList = mergedIdList[i];\n\t\t\tvar idListResult = \"[ \";\n\t\t\tfor (var j = 0; j < correspondingIdList.length; j++) {\n\t\t\t\tidListResult = idListResult + correspondingIdList[j].toString();\n\t\t\t\tidListResult = idListResult + \", \";\n\t\t\t}\n\t\t\tidListResult = idListResult.substring(0, idListResult.length - 2);\n\t\t\tidListResult = idListResult + \" ]\";\n\n\t\t\tdictionary.push(aString);\n\t\t\tentryNames.push(aString);\n\t\t}\n\t}\n\n\tsearchMenu.setup = function () {\n\t\t// clear dictionary;\n\t\tdictionary = [];\n\t\tsearchLineEdit = d3.select(\"#search-input-text\");\n\t\tsearchLineEdit.on(\"input\", userInput);\n\t\tsearchLineEdit.on(\"keydown\", userNavigation);\n\t\tsearchLineEdit.on(\"click\", toggleSearchEntryView);\n\t\tsearchLineEdit.on(\"mouseover\", hoverSearchEntryView);\n\n        c_locate.on(\"click\",function(){\n            graph.locateSearchResult();\n        });\n\n        c_locate.on(\"mouseover\",function(){\n            searchMenu.hideSearchEntries();\n        });\n\n    };\n\n\tfunction hoverSearchEntryView() {\n\t\tupdateSelectionStatusFlags();\n\t\tsearchMenu.showSearchEntries();\n\t}\n\n\tfunction toggleSearchEntryView() {\n\t\tif (viewStatusOfSearchEntries) {\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t} else {\n\t\t\tsearchMenu.showSearchEntries();\n\t\t}\n\t}\n\n\tsearchMenu.hideSearchEntries = function () {\n        m_search.style(\"display\", \"none\");\n\t\tviewStatusOfSearchEntries = false;\n\t};\n\n\tsearchMenu.showSearchEntries = function () {\n        m_search.style(\"display\", \"block\");\n\t\tviewStatusOfSearchEntries = true;\n\t};\n\n\tfunction ValidURL(str) {\n\t\tvar urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n\t\treturn urlregex.test(str);\n\n\t}\n\n\n\tfunction updateSelectionStatusFlags() {\n\t\tif (searchLineEdit.node().value.length===0){\n\t\t\tcreateSearchEntries();\n\t\t\treturn;\n\t\t}\n        handleAutoCompletion();\n    }\n\n\tfunction userNavigation() {\n\t\tif (dictionaryUpdateRequired) {\n\t\t\tupdateSearchDictionary();\n\t\t}\n\n\t\tvar htmlCollection = m_search.node().children;\n\t\tvar numEntries = htmlCollection.length;\n\n\n\t\tvar move = 0;\n\t\tvar i;\n\t\tvar selectedEntry = -1;\n\t\tfor (i = 0; i < numEntries; i++) {\n\t\t\tvar atr = htmlCollection[i].getAttribute('class');\n\t\t\tif (atr === \"dbEntrySelected\") {\n\t\t\t\tselectedEntry = i;\n\t\t\t}\n\t\t}\n\t\tif (d3.event.keyCode === 13) {\n\t\t\tif (selectedEntry >= 0 && selectedEntry < numEntries) {\n\t\t\t\t// simulate onClick event\n\t\t\t\thtmlCollection[selectedEntry].onclick();\n\t\t\t\tsearchMenu.hideSearchEntries();\n\t\t\t}\n\t\t\telse if (numEntries===0){\n\t\t\t\tinputText = searchLineEdit.node().value;\n\t\t\t\t// check if input text ends or begins with with space\n\t\t\t\t// remove first spaces\n\t\t\t\tvar clearedText=inputText.replace(/%20/g,\" \");\n\t\t\t\twhile (clearedText.beginsWith(\" \")){\n\t\t\t\t\tclearedText=clearedText.substr(1,clearedText.length);\n\t\t\t\t}\n\t\t\t\t// remove ending spaces\n\t\t\t\twhile (clearedText.endsWith(\" \")){\n\t\t\t\t\tclearedText=clearedText.substr(0,clearedText.length-1);\n\t\t\t\t}\n\t\t\t\tvar iri=clearedText.replace(/ /g,\"%20\");\n\n\t\t\t\tvar valid=ValidURL(iri);\n\t\t\t\t// validate url:\n\t\t\t\tif (valid){\n\t\t\t\t\tvar ontM=graph.options().ontologyMenu();\n\t\t\t\t\tontM.setIriText(iri);\n\t\t\t\t\tsearchLineEdit.node().value=\"\";\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconsole.log(iri+\" is not a valid URL!\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (d3.event.keyCode === 38) {\n\t\t\tmove = -1;\n\t\t\tsearchMenu.showSearchEntries();\n\t\t}\n\t\tif (d3.event.keyCode === 40) {\n\t\t\tmove = +1;\n\t\t\tsearchMenu.showSearchEntries();\n\t\t}\n\n\t\tvar newSelection = selectedEntry + move;\n\t\tif (newSelection !== selectedEntry) {\n\n\t\t\tif (newSelection < 0 && selectedEntry <= 0) {\n\t\t\t\thtmlCollection[0].setAttribute('class', \"dbEntrySelected\");\n\t\t\t}\n\n\t\t\tif (newSelection >= numEntries) {\n\t\t\t\thtmlCollection[selectedEntry].setAttribute('class', \"dbEntrySelected\");\n\t\t\t}\n\t\t\tif (newSelection >= 0 && newSelection < numEntries) {\n\t\t\t\thtmlCollection[newSelection].setAttribute('class', \"dbEntrySelected\");\n\t\t\t\tif (selectedEntry >= 0)\n\t\t\t\t\thtmlCollection[selectedEntry].setAttribute('class', \"dbEntry\");\n\t\t\t}\n\t\t}\n\t}\n\n\tsearchMenu.getSearchString=function (){return searchLineEdit.node().value;};\n\n\n\n    function clearSearchEntries(){\n        var htmlCollection = m_search.node().children;\n        var numEntries = htmlCollection.length;\n        for (var i = 0; i < numEntries; i++) {\n            htmlCollection[0].remove();\n        }\n        results=[];\n        resultID=[];\n\n    }\n\tfunction createSearchEntries(){\n        inputText = searchLineEdit.node().value;\n        var i;\n        var lc_text = inputText.toLowerCase();\n        var token;\n\n        for (i = 0; i < dictionary.length; i++) {\n            var tokenElement = dictionary[i];\n            if (tokenElement === undefined){\n                //@WORKAROUND : nodes with undefined labels are skipped\n                //@FIX: these nodes are now not added to the dictionary\n                continue;\n            }\n            token = dictionary[i].toLowerCase();\n            if (token.indexOf(lc_text) > -1) {\n                results.push(dictionary[i]);\n                resultID.push(i);\n            }\n        }\n\t}\n\n    function measureTextWidth(text, textStyle) {\n        // Set a default value\n        if (!textStyle) {\n            textStyle = \"text\";\n        }\n        var d = d3.select(\"body\")\n                .append(\"div\")\n                .attr(\"class\", textStyle)\n                .attr(\"id\", \"width-test\") // tag this element to identify it\n                .attr(\"style\", \"position:absolute; float:left; white-space:nowrap; visibility:hidden;\")\n                .text(text),\n            w = document.getElementById(\"width-test\").offsetWidth;\n        d.remove();\n        return w;\n    }\n\n\tfunction cropText(input) {\n\t\tvar maxWidth=250;\n        var textStyle=\"dbEntry\";\n        var truncatedText=input;\n        var textWidth;\n        var ratio;\n        var newTruncatedTextLength;\n        while (true) {\n            textWidth = measureTextWidth(truncatedText, textStyle);\n            if (textWidth <= maxWidth) {\n                break;\n            }\n\n            ratio = textWidth / maxWidth;\n            newTruncatedTextLength = Math.floor(truncatedText.length / ratio);\n\n            // detect if nothing changes\n            if (truncatedText.length === newTruncatedTextLength) {\n                break;\n            }\n\n            truncatedText = truncatedText.substring(0, newTruncatedTextLength);\n        }\n\n        if (input.length > truncatedText.length) {\n            return input.substring(0, truncatedText.length - 6);\n        }\n\t\treturn input;\n    }\n\n\tfunction createDropDownElements(){\n        var numEntries;\n        var copyRes = results;\n        var i;\n        var token;\n        var newResults = [];\n        var newResultsIds = [];\n\n        var lc_text=searchLineEdit.node().value.toLowerCase();\n        // set the number of shown results to be maxEntries or less;\n        numEntries = results.length;\n        if (numEntries > maxEntries)\n            numEntries = maxEntries;\n\n\n\n        for (i = 0; i < numEntries; i++) {\n            // search for the best entry\n            var indexElement  = 1000000;\n            var lengthElement = 1000000;\n            var bestElement = -1;\n            for (var j = 0; j < copyRes.length; j++) {\n                token = copyRes[j].toLowerCase();\n                var tIe = token.indexOf(lc_text);\n                var tLe = token.length;\n                if (tIe > -1 && tIe <= indexElement && tLe <= lengthElement) {\n                    bestElement = j;\n                    indexElement = tIe;\n                    lengthElement = tLe;\n                }\n            }\n            newResults.push(copyRes[bestElement]);\n            newResultsIds.push(resultID[bestElement]);\n            copyRes[bestElement] = \"\";\n        }\n\n        // add the results to the entry menu\n        //******************************************\n        numEntries = results.length;\n        if (numEntries > maxEntries)\n            numEntries = maxEntries;\n\n        var filteredOutElements=0;\n        for (i = 0; i < numEntries; i++) {\n            //add results to the dropdown menu\n            var testEntry = document.createElement('li');\n            testEntry.setAttribute('elementID', newResultsIds[i]);\n            testEntry.onclick= handleClick (newResultsIds[i]);\n            testEntry.setAttribute('class', \"dbEntry\");\n\n            var entries=mergedIdList[newResultsIds[i]];\n            var eLen=entries.length;\n\n            var croppedText=cropText(newResults[i]);\n\n            var el0=entries[0];\n            var allSame=true;\n            var nodeMap=graph.getNodeMapForSearch();\n            var visible=eLen;\n            if (eLen>1){\n\t\t\t\tfor (var q=0;q<eLen;q++){\n\t\t\t\t\tif (nodeMap[entries[q]]===undefined){\n\t\t\t\t\t\tvisible--;\n\t\t\t\t\t}\n\t\t\t\t}\n            }\n\n            for (var a=0;a<eLen;a++) {\n                if (el0 !== entries[a]) {\n                    allSame = false;\n                }\n            }\n\t\t\tif (croppedText!==newResults[i]) {\n                // append ...(#numElements) if needed\n                if (eLen > 1 && allSame===false) {\n                \tif (eLen!==visible)\n                    \tcroppedText += \"... (\" +visible+\"/\"+ eLen + \")\";\n                }\n                else {\n                    croppedText += \"...\";\n                }\n                testEntry.title=newResults[i];\n            }\n            else{\n                if (eLen > 1 && allSame===false) {\n                    if (eLen!==visible)\n                        croppedText += \" (\" +visible+\"/\"+ eLen + \")\";\n                    else\n                    \tcroppedText += \" (\" + eLen + \")\";\n                }\n\t\t\t}\n\n            var searchEntryNode=d3.select(testEntry);\n            if (eLen===1 || allSame===true) {\n                if( nodeMap[entries[0]]===undefined ){\n                    searchEntryNode.style(\"color\",\"#979797\");\n                    testEntry.title=newResults[i]+\"\\nElement is filtered out.\";\n                    testEntry.onclick=function(){};\n                    d3.select(testEntry).style(\"cursor\",\"default\");\n                    filteredOutElements++;\n                }\n            }else{\n                if (visible<1) {\n                    searchEntryNode.style(\"color\", \"#979797\");\n                    testEntry.onclick=function(){};\n                    testEntry.title=newResults[i]+\"\\nAll elements are filtered out.\";\n                    d3.select(testEntry).style(\"cursor\",\"default\");\n                    filteredOutElements++;\n                }else{\n                    searchEntryNode.style(\"color\", \"\");\n                }\n                if (visible<eLen && visible>1){\n                    testEntry.title=newResults[i]+\"\\n\"+visible+\"/\"+eLen+ \" elements are visible.\";\n                }\n            }\n            searchEntryNode.node().innerHTML=croppedText;\n            m_search.node().appendChild(testEntry);\n        }\n\t}\n\n\n\n\tfunction handleAutoCompletion() {\n\t\t/**  pre condition: autoCompletion has already a valid text**/\n\t\tclearSearchEntries();\n\t\tcreateSearchEntries();\n\t\tcreateDropDownElements();\n\t}\n\n\tfunction userInput() {\n        c_locate.classed(\"highlighted\", false);\n        c_locate.node().title=\"Nothing to locate\";\n\n\t\tif (dictionaryUpdateRequired) {\n\t\t\tupdateSearchDictionary();\n\t\t}\n\t\tgraph.resetSearchHighlight();\n\n\t\tif (dictionary.length === 0) {\n\t\t\tconsole.log(\"dictionary is empty\");\n\t\t\treturn;\n\t\t}\n        inputText = searchLineEdit.node().value;\n\n\t\tclearSearchEntries();\n\t\tif (inputText.length!==0) {\n            createSearchEntries();\n            createDropDownElements();\n        }\n\n        searchMenu.showSearchEntries();\n\t}\n\n\tfunction handleClick(elementId){\n\n\t\treturn function(){\n\t\t\tvar id = elementId;\n\t\t\tvar correspondingIds = mergedIdList[id];\n\n\t\t\t// autoComplete the text for the user\n\t\t\tvar autoComStr = entryNames[id];\n\t\t\tsearchLineEdit.node().value = autoComStr;\n\n\t\t\tgraph.resetSearchHighlight();\n\t\t\tgraph.highLightNodes(correspondingIds);\n            c_locate.node().title=\"Locate search term\";\n\t\t\tif (autoComStr !== inputText) {\n\t\t\t\thandleAutoCompletion();\n\t\t\t}\n\t\t\tsearchMenu.hideSearchEntries();\n\t\t};\n\t}\n\n\tsearchMenu.clearText=function(){\n\t\tsearchLineEdit.node().value=\"\";\n        c_locate.classed(\"highlighted\", false);\n        c_locate.node().title=\"Nothing to locate\";\n\t\tvar htmlCollection = m_search.node().children;\n\t\tvar numEntries = htmlCollection.length;\n\t\tfor (var i = 0; i < numEntries; i++){\n\t\t\thtmlCollection[0].remove();\n\t\t}\n\t};\n\n\treturn searchMenu;\n};\n","/** The zoom Slider **/\nmodule.exports = function (graph) {\n    var zoomSlider  = {};\n    var minMag=graph.options().minMagnification(),\n        maxMag=graph.options().maxMagnification(),\n        defZoom,\n        t_zoomOut,\n        t_zoomIn,\n        zoomValue,\n        showSlider=true,\n        w = graph.options().width(),\n        h = graph.options().height(),\n        slider;\n\n    defZoom = Math.min(w, h) / 1000;\n\n    function clearAllTimers() {\n        cancelAnimationFrame(t_zoomOut);\n        cancelAnimationFrame(t_zoomIn);\n    }\n\n    function timed_zoomOut(){\n        zoomValue=0.98*zoomValue;\n        // fail saves\n        if (zoomValue < minMag) {\n            zoomValue = minMag;\n        }\n        graph.setSliderZoom(zoomValue);\n        t_zoomOut=requestAnimationFrame(timed_zoomOut);\n    }\n\n    function timed_zoomIn(){\n        zoomValue=1.02*zoomValue;\n        // fail saves\n        if (zoomValue > maxMag) {\n            zoomValue = maxMag;\n        }\n        graph.setSliderZoom(zoomValue);\n        t_zoomIn=requestAnimationFrame(timed_zoomIn);\n    }\n\n    zoomSlider.setup = function () {\n        slider= d3.select(\"#zoomSliderParagraph\").append(\"input\")\n            .datum({})\n            .attr(\"id\",\"zoomSliderElement\")\n            .attr(\"type\", \"range\")\n            .attr(\"value\", defZoom)\n            .attr(\"min\", minMag)\n            .attr(\"max\", maxMag)\n            .attr(\"step\", (maxMag - minMag) / 40)\n            .attr(\"title\",\"zoom factor\")\n            .on(\"input\", function(){\n            zoomSlider.zooming();});\n\n        d3.select(\"#zoomOutButton\").on(\"mousedown\",function(){\n            graph.options().navigationMenu().hideAllMenus();\n            zoomValue=graph.scaleFactor();\n            t_zoomOut = requestAnimationFrame(timed_zoomOut);\n        })\n            .on(\"touchstart\",function(){\n                graph.options().navigationMenu().hideAllMenus();\n                zoomValue=graph.scaleFactor();\n                t_zoomOut = requestAnimationFrame(timed_zoomOut);\n            })\n            .on(\"mouseup\",clearAllTimers)\n            .on(\"touchend\",clearAllTimers)\n            .on(\"touchcancel\",clearAllTimers)\n            .attr(\"title\",\"zoom out\");\n\n        d3.select(\"#zoomInButton\").on(\"mousedown\",function(){\n            graph.options().navigationMenu().hideAllMenus();\n            zoomValue=graph.scaleFactor();\n            t_zoomIn = requestAnimationFrame(timed_zoomIn);\n          })\n            .on(\"touchstart\",function(){\n                graph.options().navigationMenu().hideAllMenus();\n                zoomValue=graph.scaleFactor();\n                t_zoomIn = requestAnimationFrame(timed_zoomIn);\n            })\n            .on(\"mouseup\",clearAllTimers)\n            .on(\"touchend\",clearAllTimers)\n            .on(\"touchcancel\",clearAllTimers)\n            .attr(\"title\",\"zoom in\");\n\n        d3.select(\"#centerGraphButton\").on(\"click\",function(){\n                graph.options().navigationMenu().hideAllMenus();\n                graph.forceRelocationEvent();\n        }).attr(\"title\",\"center graph\");\n\n    };\n\n    zoomSlider.showSlider=function(val){\n        if (!arguments.length) return showSlider;\n        d3.select(\"#zoomSlider\").classed(\"hidden\",!val);\n        showSlider=val;\n    };\n\n    zoomSlider.zooming=function(){\n        graph.options().navigationMenu().hideAllMenus();\n        var zoomValue=slider.property(\"value\");\n        slider.attr(\"value\", zoomValue);\n        graph.setSliderZoom(zoomValue);\n    };\n\n    zoomSlider.updateZoomSliderValue=function(val){\n        if(slider){\n            slider.attr(\"value\",val);\n            slider.property(\"value\",val);\n        }\n    };\n\n    return zoomSlider;\n};\n","\nmodule.exports =  function (graph) {\n    /** variable defs **/\n    var alertModule={};\n    var superContainer=d3.select(\"#AlertMessages\");\n    var _messageContainers=[];\n    var _messageContext=[];\n    var _visibleStatus=[];\n\n    var _filterHintId;\n    var _editorHintId;\n    var _messageId=-1;\n    superContainer.style(\"display\", \"inline-block\");\n    var cssStyleIndex=0;\n\n    function findCSS_Index(){\n        var css=document.styleSheets[1].cssRules;\n        for (var i=0;i<css.length;i++){\n            var entry=css[i];\n            if (entry.name===\"msg_CollapseAnimation\"){\n                cssStyleIndex=i;\n            }\n        }\n    }\n    findCSS_Index();\n\n    alertModule.addMessageBox=function(){\n        // add a container;\n        _messageId++;\n        var messageContainer=d3.select(\"#AlertMessages\").append(\"div\");\n        messageContainer.node().id=\"messageAContainerId_\"+_messageId;\n\n        var messageContext=messageContainer.append(\"div\");\n        messageContext.node().id=\"messageAContextId_\"+_messageId;\n        messageContext.style(\"top\",\"0\");\n        messageContainer.style(\"position\",\"relative\");\n        messageContainer.style(\"width\",\"100%\");\n        //save in array\n        _messageContainers.push(messageContainer);\n        _messageContext.push(messageContext);\n\n        // add animation to the container\n        messageContainer.node().addEventListener(\"animationend\", function () {\n            var containerId=this.id;\n            var tokens=containerId.split(\"_\")[1];\n            var mContainer=d3.select(\"#\"+containerId);\n            // get number of children\n            mContainer.classed(\"hidden\",!_visibleStatus[tokens]);\n            // clean up DOM\n            if (!_visibleStatus[tokens]) {\n                mContainer.remove();\n                _messageContext[tokens]=null;\n                _messageContainers[tokens]=null;\n            }\n        });\n\n        // set visible flag that is used in end of animation\n        _visibleStatus[_messageId]=true;\n        return _messageId;\n    };\n    alertModule.closeMessage=function(id){\n        var nId;\n        if (id===undefined ){\n            var givenId=this.id;\n            nId=givenId.split(\"_\")[1];\n        } else {\n            nId=id;\n        }\n        if (id && id.indexOf(\"_\")!==-1){\n            nId=id.split(\"_\")[1];\n        }\n        _visibleStatus[nId]=false;\n        // get module;\n        var moduleContainer=_messageContainers[nId];\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_CollapseAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n\n        var m_height=moduleContainer.node().getBoundingClientRect().height;\n\n        // find my id in the children\n        var pNode=moduleContainer.node().parentNode;\n\n        var followingChildren=[];\n        var pChild=pNode.children;\n        var pChild_len=pChild.length;\n        var containerId=moduleContainer.node().id;\n        var found_me=false;\n        for (var i=0;i<pChild_len;i++){\n            if (found_me===true){\n                followingChildren.push(pChild[i].id);\n            }\n\n            if (containerId===pChild[i].id){\n                found_me=true;\n            }\n\n        }\n\n        for (var fc=0; fc<followingChildren.length;fc++){\n            var child=d3.select(\"#\"+followingChildren[fc]);\n            // get the document style and overwrite it;\n            var superCss=document.styleSheets[1].cssRules[cssStyleIndex];\n            // remove the existing 0% and 100% rules\n            superCss.deleteRule(\"0%\");\n            superCss.deleteRule(\"100%\");\n\n            superCss.appendRule(\"0%   {top: 0;}\");\n            superCss.appendRule(\"100% {top: -\"+m_height+\"px;\");\n\n            child.style(\"-webkit-animation-name\",\"msg_CollapseAnimation\");\n            child.style(\"-webkit-animation-duration\",\"0.5s\");\n            child.node().addEventListener(\"animationend\", function () {\n                var c=d3.select(this);\n                c.style(\"-webkit-animation-name\",\"\");\n                c.style(\"-webkit-animation-duration\",\"\");\n            });\n        }\n    };\n\n\n\n    alertModule.showAlert=function(title,msg){\n        var id=alertModule.addMessageBox();\n        var AlertContainer=_messageContext[id];\n        var moduleContainer=_messageContainers[id];\n        _visibleStatus[id]=true;\n\n        // add new one;\n        var graphWidth=0.5*graph.options().width();\n\n        if (title.length>0){\n            var head= AlertContainer.append(\"div\");\n            head.style(\"padding\",\"5px\");\n            var titleHeader=head.append(\"div\");\n            // some classes\n            titleHeader.style(\"display\",\"inline-flex\");\n            titleHeader.node().innerHTML=\"<b>\"+title+\"</b>\";\n            titleHeader.style(\"padding-right\",\"3px\");\n        }\n        if (msg.length>0){\n            var reasonContainer= AlertContainer.append(\"div\");\n            reasonContainer.style(\"padding\",\"5px\");\n            var reasonHeader=reasonContainer.append(\"div\");\n            // some classes\n            reasonHeader.style(\"display\",\"inline-flex\");\n            reasonHeader.style(\"padding-right\",\"3px\");\n\n            reasonHeader.node().innerHTML=\"<b>Message:</b>\";\n            var msgReason=reasonContainer.append(\"div\");\n            // some classes\n            msgReason.style(\"display\",\"inline-flex\");\n            msgReason.style(\"max-width\",graphWidth+\"px\");\n            msgReason.node().innerHTML=msg;\n        }\n        var gotItButton;\n\n            gotItButton= AlertContainer.append(\"label\");\n            gotItButton.node().id = \"killAlertMessages_\"+id;\n            gotItButton.node().innerHTML = \"Got It\";\n            gotItButton.on(\"click\",alertModule.closeMessage);\n\n\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n        moduleContainer.classed(\"hidden\",false);\n    };\n\n    return alertModule;\n};\n\n\n","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function (graph) {\n\n\tvar sidebar = {},\n\t\tlanguageTools = webvowl.util.languageTools(),\n\t\telementTools = webvowl.util.elementTools(),\n\t// Required for reloading when the language changes\n\t\tontologyInfo,\n        visibleSidebar=1,\n\t\tlastSelectedElement,\n\n\t    detailArea     = d3.select(\"#detailsArea\"),\n\t    graphArea      = d3.select(\"#canvasArea\"),\n\t    menuArea       = d3.select(\"#swipeBarContainer\"),\n\t    collapseButton = d3.select(\"#sidebarExpandButton\");\n\t/**\n\t * Setup the menu bar.\n\t */\n\n\n\tfunction setupCollapsing() {\n\t\t// adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n\t\tfunction collapseContainers(containers) {\n\t\t\tcontainers.classed(\"hidden\", true);\n\t\t}\n\n\t\tfunction expandContainers(containers) {\n\t\t\tcontainers.classed(\"hidden\", false);\n\t\t}\n\n\t\tvar triggers = d3.selectAll(\".accordion-trigger\");\n\n\t\t// Collapse all inactive triggers on startup\n\t\tcollapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n\n\t\ttriggers.on(\"click\", function () {\n\t\t\tvar selectedTrigger = d3.select(this),\n\t\t\t\tactiveTriggers = d3.selectAll(\".accordion-trigger-active\");\n\n\t\t\tif (selectedTrigger.classed(\"accordion-trigger-active\")) {\n\t\t\t\t// Collapse the active (which is also the selected) trigger\n\t\t\t\tcollapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n\t\t\t\tselectedTrigger.classed(\"accordion-trigger-active\", false);\n\t\t\t} else {\n\t\t\t\t// Collapse the other trigger ...\n\t\t\t\tcollapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n\t\t\t\tactiveTriggers.classed(\"accordion-trigger-active\", false);\n\t\t\t\t// ... and expand the selected one\n\t\t\t\texpandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n\t\t\t\tselectedTrigger.classed(\"accordion-trigger-active\", true);\n\t\t\t}\n\t\t});\n\t}\n\n\tsidebar.clearOntologyInformation= function(){\n\n\t\td3.select(\"#title\").text(\"No title available\");\n\t\td3.select(\"#about\").attr(\"href\", \"#\").attr(\"target\", \"_blank\").text(\"not given\");\n\t\td3.select(\"#version\").text(\"--\");\n\t\td3.select(\"#authors\").text(\"--\");\n\t\td3.select(\"#description\").text(\"No description available.\");\n\t\tvar container = d3.select(\"#ontology-metadata\");\n\t\tcontainer.selectAll(\"*\").remove();\n\t\td3.select(\"#classCount\")\n\t\t\t.text(\"0\");\n\t\td3.select(\"#objectPropertyCount\")\n\t\t\t.text(\"0\");\n\t\td3.select(\"#datatypePropertyCount\")\n\t\t\t.text(\"0\");\n\t\td3.select(\"#individualCount\")\n\t\t\t.text(\"0\");\n\t\td3.select(\"#nodeCount\")\n\t\t\t.text(\"0\");\n\t\td3.select(\"#edgeCount\")\n\t\t\t.text(\"0\");\n\n\t\t// clear selectedNode info\n\t\tvar isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\n\t\tif (isTriggerActive){\n\t\t\t// close accordion\n\t\t\td3.select(\"#selection-details-trigger\").node().click();\n\t\t}\n\t\tshowSelectionAdvice();\n\n\t};\n\n\t/**\n\t * Updates the information of the passed ontology.\n\t * @param data the graph data\n\t * @param statistics the statistics module\n\t */\n\tsidebar.updateOntologyInformation = function (data, statistics) {\n\t\tdata = data || {};\n\t\tontologyInfo = data.header || {};\n\n\t\tupdateGraphInformation();\n\t\tdisplayGraphStatistics(undefined, statistics);\n\t\tdisplayMetadata(ontologyInfo.other);\n\n\t\t// Reset the sidebar selection\n\t\tsidebar.updateSelectionInformation(undefined);\n\n\t\tsetLanguages(ontologyInfo.languages);\n\t};\n\n\tfunction setLanguages(languages) {\n\t\tlanguages = languages || [];\n\n\t\t// Put the default and unset label on top of the selection labels\n\t\tlanguages.sort(function (a, b) {\n\t\t\tif (a === webvowl.util.constants().LANG_IRIBASED) {\n\t\t\t\treturn -1;\n\t\t\t} else if (b === webvowl.util.constants().LANG_IRIBASED) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (a === webvowl.util.constants().LANG_UNDEFINED) {\n\t\t\t\treturn -1;\n\t\t\t} else if (b === webvowl.util.constants().LANG_UNDEFINED) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn a.localeCompare(b);\n\t\t});\n\n\t\tvar languageSelection = d3.select(\"#language\")\n\t\t\t.on(\"change\", function () {\n\t\t\t\tgraph.language(d3.event.target.value);\n\t\t\t\tupdateGraphInformation();\n\t\t\t\tsidebar.updateSelectionInformation(lastSelectedElement);\n\t\t\t});\n\n\t\tlanguageSelection.selectAll(\"option\").remove();\n\t\tlanguageSelection.selectAll(\"option\")\n\t\t\t.data(languages)\n\t\t\t.enter().append(\"option\")\n\t\t\t.attr(\"value\", function (d) {\n\t\t\t\treturn d;\n\t\t\t})\n\t\t\t.text(function (d) {\n\t\t\t\treturn d;\n\t\t\t});\n\n\t\tif (!trySelectDefaultLanguage(languageSelection, languages, \"en\")) {\n\t\t\tif (!trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_UNDEFINED)) {\n\t\t\t\ttrySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_IRIBASED);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction trySelectDefaultLanguage(selection, languages, language) {\n\t\tvar langIndex = languages.indexOf(language);\n\t\tif (langIndex >= 0) {\n\t\t\tselection.property(\"selectedIndex\", langIndex);\n\t\t\tgraph.language(language);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction updateGraphInformation() {\n\t\tvar title = languageTools.textInLanguage(ontologyInfo.title, graph.language());\n\t\td3.select(\"#title\").text(title || \"No title available\");\n\t\td3.select(\"#about\").attr(\"href\", ontologyInfo.iri).attr(\"target\", \"_blank\").text(ontologyInfo.iri);\n\t\td3.select(\"#version\").text(ontologyInfo.version || \"--\");\n\t\tvar authors = ontologyInfo.author;\n\t\tif (typeof authors === \"string\") {\n\t\t\t// Stay compatible with author info as strings after change in january 2015\n\t\t\td3.select(\"#authors\").text(authors);\n\t\t} else if (authors instanceof Array) {\n\t\t\td3.select(\"#authors\").text(authors.join(\", \"));\n\t\t} else {\n\t\t\td3.select(\"#authors\").text(\"--\");\n\t\t}\n\n\t\tvar description = languageTools.textInLanguage(ontologyInfo.description, graph.language());\n\t\td3.select(\"#description\").text(description || \"No description available.\");\n\t}\n\n\tfunction displayGraphStatistics(deliveredMetrics, statistics) {\n\t\t// Metrics are optional and may be undefined\n\t\tdeliveredMetrics = deliveredMetrics || {};\n\n\t\td3.select(\"#classCount\")\n\t\t\t.text(deliveredMetrics.classCount || statistics.classCount());\n\t\td3.select(\"#objectPropertyCount\")\n\t\t\t.text(deliveredMetrics.objectPropertyCount || statistics.objectPropertyCount());\n\t\td3.select(\"#datatypePropertyCount\")\n\t\t\t.text(deliveredMetrics.datatypePropertyCount || statistics.datatypePropertyCount());\n\t\td3.select(\"#individualCount\")\n\t\t\t.text(deliveredMetrics.totalIndividualCount || statistics.totalIndividualCount());\n\t\td3.select(\"#nodeCount\")\n\t\t\t.text(statistics.nodeCount());\n\t\td3.select(\"#edgeCount\")\n\t\t\t.text(statistics.edgeCount());\n\t}\n\n\tfunction displayMetadata(metadata) {\n\t\tvar container = d3.select(\"#ontology-metadata\");\n\t\tcontainer.selectAll(\"*\").remove();\n\n\t\tlistAnnotations(container, metadata);\n\n\t\tif (container.selectAll(\".annotation\").size() <= 0) {\n\t\t\tcontainer.append(\"p\").text(\"No annotations available.\");\n\t\t}\n\t}\n\n\tfunction listAnnotations(container, annotationObject) {\n\t\tannotationObject = annotationObject || {};  //todo\n\n\t\t// Collect the annotations in an array for simpler processing\n\t\tvar annotations = [];\n\t\tfor (var annotation in annotationObject) {\n\t\t\tif (annotationObject.hasOwnProperty(annotation)) {\n\t\t\t\tannotations.push(annotationObject[annotation][0]);\n\t\t\t}\n\t\t}\n\n\t\tcontainer.selectAll(\".annotation\").remove();\n\t\tcontainer.selectAll(\".annotation\").data(annotations).enter().append(\"p\")\n\t\t\t.classed(\"annotation\", true)\n\t\t\t.classed(\"statisticDetails\", true)\n\t\t\t.text(function (d) {\n\t\t\t\treturn d.identifier + \":\";\n\t\t\t})\n\t\t\t.append(\"span\")\n\t\t\t.each(function (d) {\n\t\t\t\tappendIriLabel(d3.select(this), d.value, d.type === \"iri\" ? d.value : undefined);\n\t\t\t});\n\t}\n\n\t/**\n\t * Update the information of the selected node.\n\t * @param selectedElement the selection or null if nothing is selected\n\t */\n\tsidebar.updateSelectionInformation = function (selectedElement) {\n\t\tlastSelectedElement = selectedElement;\n\n\t\t// Click event was prevented when dragging\n\t\tif (d3.event && d3.event.defaultPrevented) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\n\t\tif (selectedElement && !isTriggerActive) {\n\t\t\td3.select(\"#selection-details-trigger\").node().click();\n\t\t} else if (!selectedElement && isTriggerActive) {\n\t\t\tshowSelectionAdvice();\n\t\t\treturn;\n\t\t}\n\n\t\tif (elementTools.isProperty(selectedElement)) {\n\t\t\tdisplayPropertyInformation(selectedElement);\n\t\t} else if (elementTools.isNode(selectedElement)) {\n\t\t\tdisplayNodeInformation(selectedElement);\n\t\t}\n\t};\n\n\tfunction showSelectionAdvice() {\n\t\tsetSelectionInformationVisibility(false, false, true);\n\t}\n\n\tfunction setSelectionInformationVisibility(showClasses, showProperties, showAdvice) {\n\t\td3.select(\"#classSelectionInformation\").classed(\"hidden\", !showClasses);\n\t\td3.select(\"#propertySelectionInformation\").classed(\"hidden\", !showProperties);\n\t\td3.select(\"#noSelectionInformation\").classed(\"hidden\", !showAdvice);\n\t}\n\n\tfunction displayPropertyInformation(property) {\n\t\tshowPropertyInformations();\n\n\t\tsetIriLabel(d3.select(\"#propname\"), property.labelForCurrentLanguage(), property.iri());\n\t\td3.select(\"#typeProp\").text(property.type());\n\n\t\tif (property.inverse() !== undefined) {\n\t\t\td3.select(\"#inverse\").classed(\"hidden\", false);\n\t\t\tsetIriLabel(d3.select(\"#inverse span\"), property.inverse().labelForCurrentLanguage(), property.inverse().iri());\n\t\t} else {\n\t\t\td3.select(\"#inverse\").classed(\"hidden\", true);\n\t\t}\n\n\t\tvar equivalentIriSpan = d3.select(\"#propEquivUri\");\n\t\tlistNodeArray(equivalentIriSpan, property.equivalents());\n\n\t\tlistNodeArray(d3.select(\"#subproperties\"), property.subproperties());\n\t\tlistNodeArray(d3.select(\"#superproperties\"), property.superproperties());\n\n\t\tif (property.minCardinality() !== undefined) {\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", true);\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", false);\n\t\t\td3.select(\"#minCardinality span\").text(property.minCardinality());\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", false);\n\n\t\t\tif (property.maxCardinality() !== undefined) {\n\t\t\t\td3.select(\"#maxCardinality span\").text(property.maxCardinality());\n\t\t\t} else {\n\t\t\t\td3.select(\"#maxCardinality span\").text(\"*\");\n\t\t\t}\n\n\t\t} else if (property.cardinality() !== undefined) {\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", true);\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", true);\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", false);\n\t\t\td3.select(\"#infoCardinality span\").text(property.cardinality());\n\t\t} else {\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", true);\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", true);\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", true);\n\t\t}\n\n\t\tsetIriLabel(d3.select(\"#domain\"), property.domain().labelForCurrentLanguage(), property.domain().iri());\n\t\tsetIriLabel(d3.select(\"#range\"), property.range().labelForCurrentLanguage(), property.range().iri());\n\n\t\tdisplayAttributes(property.attributes(), d3.select(\"#propAttributes\"));\n\n\t\tsetTextAndVisibility(d3.select(\"#propDescription\"), property.descriptionForCurrentLanguage());\n\t\tsetTextAndVisibility(d3.select(\"#propComment\"), property.commentForCurrentLanguage());\n\n\t\tlistAnnotations(d3.select(\"#propertySelectionInformation\"), property.annotations());\n\t}\n\n\tfunction showPropertyInformations() {\n\t\tsetSelectionInformationVisibility(false, true, false);\n\t}\n\n\tfunction setIriLabel(element, name, iri) {\n\t\tvar parent = d3.select(element.node().parentNode);\n\n\t\tif (name) {\n\t\t\telement.selectAll(\"*\").remove();\n\t\t\tappendIriLabel(element, name, iri);\n\t\t\tparent.classed(\"hidden\", false);\n\t\t} else {\n\t\t\tparent.classed(\"hidden\", true);\n\t\t}\n\t}\n\n\tfunction appendIriLabel(element, name, iri) {\n\t\tvar tag;\n\n\t\tif (iri) {\n\t\t\ttag = element.append(\"a\")\n\t\t\t\t.attr(\"href\", iri)\n\t\t\t\t.attr(\"title\", iri)\n\t\t\t\t.attr(\"target\", \"_blank\");\n\t\t} else {\n\t\t\ttag = element.append(\"span\");\n\t\t}\n\t\ttag.text(name);\n\t}\n\n\tfunction displayAttributes(attributes, textSpan) {\n\t\tvar spanParent = d3.select(textSpan.node().parentNode);\n\n\t\tif (attributes && attributes.length > 0) {\n\t\t\t// Remove redundant redundant attributes for sidebar\n\t\t\tremoveElementFromArray(\"object\", attributes);\n\t\t\tremoveElementFromArray(\"datatype\", attributes);\n\t\t\tremoveElementFromArray(\"rdf\", attributes);\n\t\t}\n\n\t\tif (attributes && attributes.length > 0) {\n\t\t\ttextSpan.text(attributes.join(\", \"));\n\n\t\t\tspanParent.classed(\"hidden\", false);\n\t\t} else {\n\t\t\tspanParent.classed(\"hidden\", true);\n\t\t}\n\t}\n\n\tfunction removeElementFromArray(element, array) {\n\t\tvar index = array.indexOf(element);\n\t\tif (index > -1) {\n\t\t\tarray.splice(index, 1);\n\t\t}\n\t}\n\n\tfunction displayNodeInformation(node) {\n\t\tshowClassInformations();\n\n\t\tsetIriLabel(d3.select(\"#name\"), node.labelForCurrentLanguage(), node.iri());\n\n\t\t/* Equivalent stuff. */\n\t\tvar equivalentIriSpan = d3.select(\"#classEquivUri\");\n\t\tlistNodeArray(equivalentIriSpan, node.equivalents());\n\n\t\td3.select(\"#typeNode\").text(node.type());\n\t\tlistNodeArray(d3.select(\"#individuals\"), node.individuals());\n\n\t\t/* Disjoint stuff. */\n\t\tvar disjointNodes = d3.select(\"#disjointNodes\");\n\t\tvar disjointNodesParent = d3.select(disjointNodes.node().parentNode);\n\n\t\tif (node.disjointWith() !== undefined) {\n\t\t\tdisjointNodes.selectAll(\"*\").remove();\n\n\t\t\tnode.disjointWith().forEach(function (element, index) {\n\t\t\t\tif (index > 0) {\n\t\t\t\t\tdisjointNodes.append(\"span\").text(\", \");\n\t\t\t\t}\n\t\t\t\tappendIriLabel(disjointNodes, element.labelForCurrentLanguage(), element.iri());\n\t\t\t});\n\n\t\t\tdisjointNodesParent.classed(\"hidden\", false);\n\t\t} else {\n\t\t\tdisjointNodesParent.classed(\"hidden\", true);\n\t\t}\n\n\t\tdisplayAttributes(node.attributes(), d3.select(\"#classAttributes\"));\n\n\t\tsetTextAndVisibility(d3.select(\"#nodeDescription\"), node.descriptionForCurrentLanguage());\n\t\tsetTextAndVisibility(d3.select(\"#nodeComment\"), node.commentForCurrentLanguage());\n\n\t\tlistAnnotations(d3.select(\"#classSelectionInformation\"), node.annotations());\n\t}\n\n\tfunction showClassInformations() {\n\t\tsetSelectionInformationVisibility(true, false, false);\n\t}\n\n\tfunction listNodeArray(textSpan, nodes) {\n\t\tvar spanParent = d3.select(textSpan.node().parentNode);\n\n\t\tif (nodes && nodes.length) {\n\t\t\ttextSpan.selectAll(\"*\").remove();\n\t\t\tnodes.forEach(function (element, index) {\n\t\t\t\tif (index > 0) {\n\t\t\t\t\ttextSpan.append(\"span\").text(\", \");\n\t\t\t\t}\n\t\t\t\tappendIriLabel(textSpan, element.labelForCurrentLanguage(), element.iri());\n\t\t\t});\n\n\t\t\tspanParent.classed(\"hidden\", false);\n\t\t} else {\n\t\t\tspanParent.classed(\"hidden\", true);\n\t\t}\n\t}\n\n\tfunction setTextAndVisibility(label, value) {\n\t\tvar parentNode = d3.select(label.node().parentNode);\n\t\tvar hasValue = !!value;\n\t\tif (value) {\n\t\t\tlabel.text(value);\n\t\t}\n\t\tparentNode.classed(\"hidden\", !hasValue);\n\t}\n\n\t/** Collapsible Sidebar functions; **/\n\n    sidebar.showSidebar=function(val,init){\n        // make val to bool\n        if (val===1) {\n            visibleSidebar=true;\n            collapseButton.node().innerHTML=\">\";\n            detailArea.classed(\"hidden\",true);\n            if (init===true) {\n                detailArea.classed(\"hidden\",!visibleSidebar);\n                graphArea.style(\"width\",\"78%\");\n                graphArea.style(\"-webkit-animation-name\",\"none\");\n\n                menuArea.style(\"width\",\"78%\");\n                menuArea.style(\"-webkit-animation-name\",\"none\");\n\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"width\",\"78%\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\",\"none\");\n            } else {\n                graphArea.style(\"width\",\"78%\");\n                graphArea.style(\"-webkit-animation-name\",\"sbCollapseAnimation\");\n                graphArea.style(\"-webkit-animation-duration\",\"0.5s\");\n\n                menuArea.style(\"width\",\"78%\");\n                menuArea.style(\"-webkit-animation-name\",\"sbCollapseAnimation\");\n                menuArea.style(\"-webkit-animation-duration\",\"0.5s\");\n\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"width\",\"78%\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\",\"warn_ExpandRightBarAnimation\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\",\"0.5s\");\n            }\n            graph.options().width(window.innerWidth - (window.innerWidth * 0.22));\n            graph.options().navigationMenu().updateScrollButtonVisibility();\n        }\n        if (val===0){\n            visibleSidebar=false;\n            detailArea.classed(\"hidden\",true);\n\n            collapseButton.node().innerHTML=\"<\";\n            // adjust the layout\n            if (init===true) {\n                graphArea.style(\"width\",\"100%\");\n                graphArea.style(\"-webkit-animation-name\",\"none\");\n\n                menuArea.style(\"width\",\"100%\");\n                menuArea.style(\"-webkit-animation-name\",\"none\");\n\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"width\",\"100%\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\",\"none\");\n            }else {\n                graphArea.style(\"width\",\"100%\");\n                graphArea.style(\"-webkit-animation-name\",\"sbExpandAnimation\");\n                graphArea.style(\"-webkit-animation-duration\",\"0.5s\");\n\n\t\t\t\tmenuArea.style(\"width\",\"100%\");\n                menuArea.style(\"-webkit-animation-name\",\"sbExpandAnimation\");\n                menuArea.style(\"-webkit-animation-duration\",\"0.5s\");\n\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"width\",\"100%\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\",\"warn_CollapseRightBarAnimation\");\n                d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\",\"0.5s\");\n\n            }\n            graph.options().width(window.innerWidth);\n            graph.updateCanvasContainerSize();\n            graph.options().navigationMenu().updateScrollButtonVisibility();\n        }\n    };\n\n    sidebar.hideExpandButton = function(flag){\n\t\tcollapseButton.classed(\"hidden\",flag);\n\t};\n\n    sidebar.hideMenuArea = function(flag){\n    \tmenuArea.classed(\"hidden\",flag);\n\t};\n\n    sidebar.isSidebarVisible=function(){return visibleSidebar;};\n\n    sidebar.updateSideBarVis=function(init){\n        var vis=sidebar.getSidebarVisibility();\n        sidebar.showSidebar(parseInt(vis),init);\n    };\n\n    sidebar.getSidebarVisibility=function(){\n        var isHidden=detailArea.classed(\"hidden\");\n        if (isHidden===false) return String(1);\n        if (isHidden===true) return String(0);\n\t};\n\n    sidebar.initSideBarAnimation=function(){\n        graphArea.node().addEventListener(\"animationend\", function() {\n            detailArea.classed(\"hidden\", !visibleSidebar);\n            graph.updateCanvasContainerSize();\n            graph.options().navigationMenu().updateScrollButtonVisibility();\n        });\n    };\n\n    sidebar.setup = function () {\n        setupCollapsing();\n        sidebar.initSideBarAnimation();\n\n        collapseButton.on(\"click\",function(){\n            graph.options().navigationMenu().hideAllMenus();\n            var settingValue=parseInt(sidebar.getSidebarVisibility());\n            if (settingValue===1) sidebar.showSidebar(0);\n            else                  sidebar.showSidebar(1);\n        });\n    };\n\n\n    sidebar.updateShowedInformation=function(){\n\t\tvar editMode=graph.editorMode();\n        d3.select(\"#generalDetails\").classed(\"hidden\",editMode);\n        d3.select(\"#generalDetailsEdit\").classed(\"hidden\",!editMode);\n\n        // store the meta information in graph.options()\n\n\t\t// todo: update edit meta info\n        graph.options().editSidebar().updateGeneralOntologyInfo();\n\n\t\t// todo: update showed meta info;\n        graph.options().sidebar().updateGeneralOntologyInfo();\n\n\t};\n\n    sidebar.updateGeneralOntologyInfo=function() {\n        // get it from graph.options\n        var generalMetaObj = graph.options().getGeneralMetaObject();\n        var preferredLanguage = graph && graph.language ? graph.language() : null;\n        if (generalMetaObj.hasOwnProperty(\"title\")) {\n            // title has language to it -.-\n            if (typeof generalMetaObj.title === \"object\") {\n                d3.select(\"#title\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\n            } else{\n                d3.select(\"#title\").node().innerHTML = generalMetaObj.title;\n            }\n\n        }\n        if (generalMetaObj.hasOwnProperty(\"iri\")) d3.select(\"#about\").node().innerHTML= generalMetaObj.iri;\n        if (generalMetaObj.hasOwnProperty(\"iri\")) d3.select(\"#about\").node().href= generalMetaObj.iri;\n        if (generalMetaObj.hasOwnProperty(\"version\")) d3.select(\"#version\").node().innerHTML = generalMetaObj.version;\n        if (generalMetaObj.hasOwnProperty(\"author\")) d3.select(\"#authors\").node().innerHTML = generalMetaObj.author;\n \t\t// this could also be an object >>\n        if (generalMetaObj.hasOwnProperty(\"description\")) {\n            if (typeof generalMetaObj.description === \"object\") {\n                d3.select(\"#description\").node().innerHTML = languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\n            }\n            else {\n                d3.select(\"#description\").node().innerHTML = generalMetaObj.description;\n            }\n        }\n    };\n\n\n        return sidebar;\n};\n","/*\n * Hide button of mdm depending the selecting mode.\n */\nmodule.exports = function (graph) {\n\n    var controller = {},\n        //Selection\n        clearSelectSGMenu,\n        //OMG\n        clearQueryOMQMenu,\n        genSparqlOMQ,\n        //Selection & editor\n        saveGraphMenu,\n        config,\n        setup = false;\n\n    controller.updateGui = function () {\n        if(setup) {\n            if (config.editorMode === \"true\") {\n                hideSelection(true);\n                hideOMQ(true)\n                saveGraphMenu.hide(false);\n            } else if (config.selectSG_mode === \"true\") {\n                hideSelection(false);\n                hideOMQ(true);\n                saveGraphMenu.hide(false);\n            } else if (config.OMQ_mode === \"true\") {\n                hideOMQ(false);\n                hideSelection(true);\n                saveGraphMenu.hide(true);\n            } else if (config.bdi_manualAl === \"true\" || config.source_graph === \"true\") {\n                hideOMQ(true);\n                hideSelection(true);\n                saveGraphMenu.hide(true);\n                //hide sidebars and menu bar to keep just the graph\n                showJustGraph(true);\n            } else if (config.test_incDI_visualize === \"true\") {\n                console.log(\"**config test\");\n                hideOMQ(true);\n                hideSelection(true);\n                saveGraphMenu.hide(true);\n            }else{\n                //default mode\n                hideOMQ(true);\n                hideSelection(true);\n                saveGraphMenu.hide(true);\n            }\n        }\n    };\n\n    function showJustGraph(flag) {\n        var sidebar = graph.options().sidebar();\n        if(flag){ //true\n            sidebar.showSidebar(1,true);\n            sidebar.hideExpandButton(!flag);\n            // sidebar.hideMenuArea(!flag);\n        }else{\n            graph.options().sidebar().showSidebar(0,true);\n            sidebar.hideExpandButton(!flag);\n            // sidebar.hideMenuArea(!flag);\n        }\n    }\n\n    function hideOMQ(flag){\n        clearQueryOMQMenu.hide(flag);\n        genSparqlOMQ.hide(flag);\n    }\n\n    function hideSelection(flag){\n        clearSelectSGMenu.hide(flag);\n    }\n\n    controller.setup = function () {\n        config = graph.options().defaultConfig();\n        setup = true;\n        clearSelectSGMenu = graph.options().clearSelectSGMenu();\n        genSparqlOMQ = graph.options().generateSparqlOMQMenu();\n        clearQueryOMQMenu = graph.options().clearQueryOMQMenu();\n        saveGraphMenu = graph.options().saveGraphMenu();\n        controller.updateGui();\n    };\n\n    return controller;\n};\n","\nmodule.exports =  function (graph) {\n    /** variable defs **/\n    var warningModule={};\n    var superContainer=d3.select(\"#WarningErrorMessages\");\n    var _messageContainers=[];\n    var _messageContext=[];\n    var _visibleStatus=[];\n\n    var _filterHintId;\n    var _editorHintId;\n    var _messageId=-1;\n    superContainer.style(\"display\", \"inline-block\");\n    var cssStyleIndex=0;\n\n    function findCSS_Index(){\n        var css=document.styleSheets[1].cssRules;\n        for (var i=0;i<css.length;i++){\n            var entry=css[i];\n            if (entry.name===\"msg_CollapseAnimation\"){\n                cssStyleIndex=i;\n            }\n        }\n    }\n    findCSS_Index();\n\n    warningModule.addMessageBox=function(){\n        // add a container;\n        _messageId++;\n        var messageContainer=d3.select(\"#WarningErrorMessages\").append(\"div\");\n        messageContainer.node().id=\"messageContainerId_\"+_messageId;\n\n        var messageContext=messageContainer.append(\"div\");\n        messageContext.node().id=\"messageContextId_\"+_messageId;\n        messageContext.style(\"top\",\"0\");\n        messageContainer.style(\"position\",\"relative\");\n        messageContainer.style(\"width\",\"100%\");\n        //save in array\n        _messageContainers.push(messageContainer);\n        _messageContext.push(messageContext);\n\n        // add animation to the container\n        messageContainer.node().addEventListener(\"animationend\", function () {\n            var containerId=this.id;\n            var tokens=containerId.split(\"_\")[1];\n            var mContainer=d3.select(\"#\"+containerId);\n            // get number of children\n            mContainer.classed(\"hidden\",!_visibleStatus[tokens]);\n            // clean up DOM\n            if (!_visibleStatus[tokens]) {\n                mContainer.remove();\n                _messageContext[tokens]=null;\n                _messageContainers[tokens]=null;\n            }\n        });\n\n        // set visible flag that is used in end of animation\n        _visibleStatus[_messageId]=true;\n        return _messageId;\n    };\n\n    warningModule.createMessageContext=function(id){\n        var warningContainer=_messageContext[id];\n        var moduleContainer=_messageContainers[id];\n        var generalHint=warningContainer.append('div');\n        generalHint.node().innerHTML=\"\";\n        _editorHintId=id;\n        /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\n        generalHint.node().innerHTML+=\"Editing mode activated.<br>\" +\n            \"You can now modify an existing ontology or create a new one via the <em>ontology</em> menu.<br>\" +\n            \"You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).\";\n\n        generalHint.style(\"padding\", \"5px\");\n        generalHint.style(\"line-height\", \"1.2em\");\n        generalHint.style(\"font-size\", \"1.2em\");\n\n\n        var ul=warningContainer.append('ul');\n        ul.append('li').node().innerHTML=\"Create a class with <b>double click / tap</b> on empty canvas area.\";\n        ul.append('li').node().innerHTML=\"Edit names with <b>double click / tap</b> on element.</li>\";\n        ul.append('li').node().innerHTML=\"Selection of default constructors is provided in the left sidebar.\";\n        ul.append('li').node().innerHTML=\"Additional editing functionality is provided in the right sidebar.\";\n\n\n        var gotItButton = warningContainer.append(\"label\");\n        gotItButton.node().id = \"killWarningErrorMessages_\"+id;\n        gotItButton.node().innerHTML = \"Got It\";\n        gotItButton.on(\"click\",warningModule.closeMessage);\n\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n    };\n\n    warningModule.showMessage=function(id){\n        var moduleContainer=_messageContainers[id];\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n    };\n\n    warningModule.closeMessage=function(id){\n        var nId;\n        if (id===undefined ){\n            var givenId=this.id;\n            nId=givenId.split(\"_\")[1];\n        } else {\n            nId=id;\n        }\n        if (id && id.indexOf(\"_\")!==-1){\n            nId=id.split(\"_\")[1];\n        }\n        _visibleStatus[nId]=false;\n        // get module;\n        var moduleContainer=_messageContainers[nId];\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_CollapseAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n\n        var m_height=moduleContainer.node().getBoundingClientRect().height;\n\n        // find my id in the children\n        var pNode=moduleContainer.node().parentNode;\n\n        var followingChildren=[];\n        var pChild=pNode.children;\n        var pChild_len=pChild.length;\n        var containerId=moduleContainer.node().id;\n        var found_me=false;\n        for (var i=0;i<pChild_len;i++){\n            if (found_me===true){\n                followingChildren.push(pChild[i].id);\n            }\n\n            if (containerId===pChild[i].id){\n                found_me=true;\n            }\n\n        }\n\n        for (var fc=0; fc<followingChildren.length;fc++){\n            var child=d3.select(\"#\"+followingChildren[fc]);\n            // get the document style and overwrite it;\n            var superCss=document.styleSheets[1].cssRules[cssStyleIndex];\n            // remove the existing 0% and 100% rules\n            superCss.deleteRule(\"0%\");\n            superCss.deleteRule(\"100%\");\n\n            superCss.appendRule(\"0%   {top: 0;}\");\n            superCss.appendRule(\"100% {top: -\"+m_height+\"px;\");\n\n            child.style(\"-webkit-animation-name\",\"msg_CollapseAnimation\");\n            child.style(\"-webkit-animation-duration\",\"0.5s\");\n            child.node().addEventListener(\"animationend\", function () {\n                var c=d3.select(this);\n                c.style(\"-webkit-animation-name\",\"\");\n                c.style(\"-webkit-animation-duration\",\"\");\n            });\n        }\n    };\n\n    warningModule.closeFilterHint=function(){\n        if (_messageContainers[_filterHintId]){\n            _messageContainers[_filterHintId].classed(\"hidden\",true);\n            _messageContainers[_filterHintId].remove();\n            _messageContainers[_filterHintId]=null;\n            _messageContext[_filterHintId]=null;\n            _visibleStatus[_filterHintId]=false;\n        }\n    };\n\n    warningModule.showEditorHint=function(){\n        var id=warningModule.addMessageBox();\n        warningModule.createMessageContext(id);\n    };\n\n\n    warningModule.responseWarning=function(header,reason,action, callback, parameterArray,forcedWarning){\n        var id=warningModule.addMessageBox();\n        var warningContainer=_messageContext[id];\n        var moduleContainer=_messageContainers[id];\n        _visibleStatus[id]=true;\n        d3.select(\"#blockGraphInteractions\").classed(\"hidden\",false);\n        var graphWidth=0.5*graph.options().width();\n\n        if (header.length>0){\n            var head= warningContainer.append(\"div\");\n            head.style(\"padding\",\"5px\");\n            var titleHeader=head.append(\"div\");\n            // some classes\n            titleHeader.style(\"display\",\"inline-flex\");\n            titleHeader.node().innerHTML=\"<b>Warning:</b>\";\n            titleHeader.style(\"padding-right\",\"3px\");\n            var msgHeader=head.append(\"div\");\n            // some classes\n            msgHeader.style(\"display\",\"inline-flex\");\n            msgHeader.style(\"max-width\",graphWidth+\"px\");\n\n            msgHeader.node().innerHTML=header;\n        }\n        if (reason.length>0){\n            var reasonContainer= warningContainer.append(\"div\");\n            reasonContainer.style(\"padding\",\"5px\");\n            var reasonHeader=reasonContainer.append(\"div\");\n            // some classes\n            reasonHeader.style(\"display\",\"inline-flex\");\n            reasonHeader.style(\"padding-right\",\"3px\");\n\n            reasonHeader.node().innerHTML=\"<b>Reason:</b>\";\n            var msgReason=reasonContainer.append(\"div\");\n            // some classes\n            msgReason.style(\"display\",\"inline-flex\");\n            msgReason.style(\"max-width\",graphWidth+\"px\");\n            msgReason.node().innerHTML=reason;\n        }\n        if (action.length>0){\n            var actionContainer= warningContainer.append(\"div\");\n            actionContainer.style(\"padding\",\"5px\");\n            var actionHeader=actionContainer.append(\"div\");\n            // some classes\n            actionHeader.style(\"display\",\"inline-flex\");\n            actionHeader.style(\"padding-right\",\"8px\");\n            actionHeader.node().innerHTML=\"<b>Action:</b>\";\n            var msgAction=actionContainer.append(\"div\");\n            // some classes\n            msgAction.style(\"display\",\"inline-flex\");\n            msgAction.style(\"max-width\",graphWidth+\"px\");\n            msgAction.node().innerHTML=action;\n        }\n\n        var gotItButton = warningContainer.append(\"label\");\n        gotItButton.node().id = \"killWarningErrorMessages_\"+id;\n        gotItButton.node().innerHTML = \"Continue\";\n        gotItButton.on(\"click\",function(){\n            warningModule.closeMessage(this.id);\n            d3.select(\"#blockGraphInteractions\").classed(\"hidden\",true);\n            callback(parameterArray[0],parameterArray[1],parameterArray[2],parameterArray[3]);\n        });\n        warningContainer.append(\"span\").node().innerHTML=\"|\";\n        var cancelButton= warningContainer.append(\"label\");\n        cancelButton.node().id = \"cancelButton_\"+id;\n        cancelButton.node().innerHTML = \"Cancel\";\n        cancelButton.on(\"click\",function(){\n            warningModule.closeMessage(this.id);\n            d3.select(\"#blockGraphInteractions\").classed(\"hidden\",true);\n        });\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n    };\n\n    warningModule.showFilterHint=function(){\n        var id=warningModule.addMessageBox();\n        var warningContainer=_messageContext[id];\n        var moduleContainer=_messageContainers[id];\n        _visibleStatus[id]=true;\n\n        _filterHintId=id;\n        var generalHint=warningContainer.append('div');\n        /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\n        generalHint.node().innerHTML=\"Collapsing filter activated.<br>\" +\n            \"The number of visualized elements has been automatically reduced.<br>\" +\n            \"Use the degree of collapsing slider in the <em>filter</em> menu to adjust the visualization.<br><br>\"+\n            \"<em>Note:</em> A performance decrease could be experienced with a growing amount of visual elements in the graph.\";\n\n\n        generalHint.style(\"padding\", \"5px\");\n        generalHint.style(\"line-height\", \"1.2em\");\n        generalHint.style(\"font-size\", \"1.2em\");\n\n        var gotItButton = warningContainer.append(\"label\");\n        gotItButton.node().id = \"killFilterMessages_\"+id;\n        gotItButton.node().innerHTML = \"Got It\";\n        gotItButton.on(\"click\",warningModule.closeMessage);\n\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n    };\n\n    warningModule.showWarning=function(header,reason,action,type,forcedWarning,additionalOpts){\n        var id=warningModule.addMessageBox();\n        var warningContainer=_messageContext[id];\n        var moduleContainer=_messageContainers[id];\n        _visibleStatus[id]=true;\n\n        // add new one;\n        var graphWidth=0.5*graph.options().width();\n\n        if (header.length>0){\n            var head= warningContainer.append(\"div\");\n            head.style(\"padding\",\"5px\");\n            var titleHeader=head.append(\"div\");\n            // some classes\n            titleHeader.style(\"display\",\"inline-flex\");\n            titleHeader.node().innerHTML=\"<b>Warning:</b>\";\n            titleHeader.style(\"padding-right\",\"3px\");\n            var msgHeader=head.append(\"div\");\n            // some classes\n            msgHeader.style(\"display\",\"inline-flex\");\n            msgHeader.style(\"max-width\",graphWidth+\"px\");\n\n            msgHeader.node().innerHTML=header;\n        }\n        if (reason.length>0){\n            var reasonContainer= warningContainer.append(\"div\");\n            reasonContainer.style(\"padding\",\"5px\");\n            var reasonHeader=reasonContainer.append(\"div\");\n            // some classes\n            reasonHeader.style(\"display\",\"inline-flex\");\n            reasonHeader.style(\"padding-right\",\"3px\");\n\n            reasonHeader.node().innerHTML=\"<b>Reason:</b>\";\n            var msgReason=reasonContainer.append(\"div\");\n            // some classes\n            msgReason.style(\"display\",\"inline-flex\");\n            msgReason.style(\"max-width\",graphWidth+\"px\");\n            msgReason.node().innerHTML=reason;\n        }\n        if (action.length>0){\n            var actionContainer= warningContainer.append(\"div\");\n            actionContainer.style(\"padding\",\"5px\");\n            var actionHeader=actionContainer.append(\"div\");\n            // some classes\n            actionHeader.style(\"display\",\"inline-flex\");\n            actionHeader.style(\"padding-right\",\"8px\");\n            actionHeader.node().innerHTML=\"<b>Action:</b>\";\n            var msgAction=actionContainer.append(\"div\");\n            // some classes\n            msgAction.style(\"display\",\"inline-flex\");\n            msgAction.style(\"max-width\",graphWidth+\"px\");\n            msgAction.node().innerHTML=action;\n        }\n\n        var gotItButton;\n        if (type===1) {\n            gotItButton= warningContainer.append(\"label\");\n            gotItButton.node().id = \"killWarningErrorMessages_\"+id;\n            gotItButton.node().innerHTML = \"Got It\";\n            gotItButton.on(\"click\",warningModule.closeMessage);\n        }\n\n        if (type===2) {\n            gotItButton = warningContainer.append(\"label\");\n            gotItButton.node().id = \"killWarningErrorMessages_\"+id;\n            gotItButton.node().innerHTML = \"Got It\";\n            gotItButton.on(\"click\",warningModule.closeMessage);\n            warningContainer.append(\"span\").node().innerHTML=\"|\";\n            var zoomToElementButton = warningContainer.append(\"label\");\n            zoomToElementButton.node().id = \"zoomElementThing_\"+id;\n            zoomToElementButton.node().innerHTML = \"Zoom to element \";\n            zoomToElementButton.on(\"click\",function(){\n                // assume the additional Element is for halo;\n                graph.zoomToElementInGraph(additionalOpts);\n            });\n            warningContainer.append(\"span\").node().innerHTML=\"|\";\n            var ShowElementButton = warningContainer.append(\"label\");\n            ShowElementButton.node().id = \"showElementThing_\"+id;\n            ShowElementButton.node().innerHTML = \"Indicate element\";\n            ShowElementButton.on(\"click\",function(){\n                // assume the additional Element is for halo;\n                if (additionalOpts.halo()===false) {\n                    additionalOpts.drawHalo();\n                    graph.updatePulseIds([additionalOpts.id()]);\n                }else{\n                    additionalOpts.removeHalo();\n                    additionalOpts.drawHalo();\n                    graph.updatePulseIds([additionalOpts.id()]);\n                }\n            });\n        }\n        moduleContainer.classed(\"hidden\",false);\n        moduleContainer.style(\"-webkit-animation-name\",\"warn_ExpandAnimation\");\n        moduleContainer.style(\"-webkit-animation-duration\",\"0.5s\");\n        moduleContainer.classed(\"hidden\",false);\n    };\n\n    return warningModule;\n};\n\n\n","module.exports = d3;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(1143);\n"],"names":["Symbol","module","exports","array","iteratee","index","length","result","Array","getRawTag","objectToString","symToStringTag","toStringTag","undefined","value","Object","object","key","arrayMap","isArray","isSymbol","symbolProto","prototype","symbolToString","toString","baseToString","call","freeGlobal","g","objectProto","hasOwnProperty","nativeObjectToString","isOwn","tag","unmasked","e","freeSelf","self","root","Function","unescapeHtmlChar","basePropertyOf","baseGetTag","isObjectLike","reEscapedHtml","reHasEscapedHtml","RegExp","source","string","test","replace","String","replaceAll","search","replacement","this","split","join","newOntologyCounter","app","graph","webvowl","options","graphOptions","languageTools","util","GRAPH_SELECTOR","exportMenu","filterMenu","gravityMenu","modeMenu","debugMenu","ontologyMenu","pauseMenu","resetMenu","saveGraphMenu","clearSelectSG","clearQueryOMQ","genSparqlOMQ","searchMenu","navigationMenu","zoomSlider","sidebar","leftSidebar","editSidebar","configMenu","loadingModule","warningModule","alertModule","directInputMod","MDMController","mdmConfig","colorExternalsSwitch","modules","compactNotationSwitch","datatypeFilter","disjointFilter","focuser","emptyLiteralFilter","nodeDegreeFilter","nodeScalingSwitch","objectPropertyFilter","pickAndPin","selectionDetailDisplayer","selectionDetailsDisplayer","updateSelectionInformation","statistics","subclassFilter","setOperatorFilter","selectionGraph","selectionMarker","loadOntologyFromText","jsonText","filename","alternativeFilename","d3","select","classed","reset","hideAllMenus","notValidJsonFile","data","editorMode","validJSON","JSON","parse","ontologyNames","header","title","textInLanguage","classCount","class","loadEmptyOntologyForEditing","location","hash","indexOf","node","href","emptyGraphContentError","validJsonFile","setCachedOntology","setJsonText","setPercentMode","load","updateOntologyInformation","setFilename","updateZoomSliderValueFromOutside","adjustSize","showModesGui","flagOfCheckBox","checked","defaultConfig","dist_bottom_bar","dist_nav","navbar","empty","parseInt","style","graphContainer","svg","height","window","innerHeight","width","innerWidth","getSidebarVisibility","updateLayout","attr","updateStyle","document","createEvent","isTouchDevice","isEditorMode","innerHTML","setTouchDevice","checkForScreenSize","fullHeight","zoomOutPos","zoomInPos","centerPos","sliderPos","adjustSliderSize","warningDiv","offset","getBoundingClientRect","element","maxScrollLeft","scrollWidth","clientWidth","leftButton","rightButton","updateScrollButtonVisibility","updateElementWidth","getOptions","opts","getGraph","gr","initialize","viewType","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","mozCancelAnimationFrame","requestID","clearTimeout","setEditorModeForDefaultObject","getConf","setEditModeForSource_Graph","source_graph","setEditModeForTestIncDIVisualize","testIncDI","setModeForSelectionSG","selectSG","setModeForOMQ","OMQ_mode","setModeBDIManualAlignment","bdi_manualAl","graphContainerSelector","selectionModules","push","mdmController","filterModules","on","setup","ua","rv","agentVersion","navigator","userAgent","appName","exec","parseFloat","$1","console","log","literalFilter","pausedMenu","pickAndPinModule","clearSelectSGMenu","clearQueryOMQMenu","generateSparqlOMQMenu","graphObject","directInputModule","disjointPropertyFilter","focuserModule","colorExternalsModule","compactNotationModule","showSidebar","hideCollapseButton","start","defZoom","modeOp","w","h","Math","min","setDefaultZoom","selectAll","htmlBody","event","keyCode","target","preventDefault","ctrlKey","shiftKey","executeHiddenDebugFeatuers","setValue","dynamicLabelWidth","disabled","stopPropagation","setDirectInputMode","draggable","prefixModule","prefixTools","parseUrlAndLoadOntology","selectSG_mode","loadGraphicalSelection","updateSettings","reloadCachedOntology","clearCachedVersion","showBrowserWarningIfRequired","version","config","global_Graph_Edit","mappings_Graph_select","omq","bdi_manual_alignments","test_visualization","default_Option","type","inputContainer","textArea","visibleContainer","handleDirectUpload","jsonOBJ","text","directInput","initializeLoader","requestServerTimeStampForDirectInput","callbackLoad_Ontology_From_DirectInput","error2","handleCloseButton","val","selectedElementForCharacteristics","oldPrefix","oldPrefixURL","elementTools","prefix_editMode","highlightDeleteButton","enable","name","deletePath","deleteRect","highlightEditButton","fill","editPath","editRect","setupPrefixList","prefixListContainer","prefixElements","prefixList","prefixEditContainer","append","id","IconContainer","editButton","elementStyle","selectorName","editIcon","f_editPath","f_editRect","prefInput","autocomplete","prefURL","deleteContainer","deleteButton","deleteIcon","f_deletePath","f_deleteRect","enablePrefixEdit","deletePrefixLine","updatePrefixModel","selector","remove","removePrefix","item","agent","stl","newPrefixURL","newPrefix","updatePrefix","saveButton","savePath","getURLFROMPrefixedVersion","url","base","getGeneralMetaObjectProperty","tokens","pr","basePref","showWarning","iri","changeIriForElement","sanityCheckResult","ontoIRI","isNode","checkIfIriClassAlreadyExist","labelForCurrentLanguage","isProperty","checkProperIriChange","addAttribute","backgroundColor","redrawElement","redrawLabelText","removeAttribute","focused","handle","getPrefixRepresentationForFullURI","changeLabelForElement","label","getPresentAttribute","selectedElement","attributes","handleCheckBoxClick","char","getAttribute","toggleFocus","indications","visAttr","visualAttributes","visInd","splice","attrInd","indInd","styleClass","clearMetaObjectValue","updatePrefixUi","firstChild","removeChild","selectedTrigger","nextElementSibling","containers","expandContainers","focus","datatypeEditorSelection","supportedDatatypes","i","optB","createElement","appendChild","setupSupportedDatatypes","addOrUpdateGeneralObjectEntry","updateEditDeleteButtonIds","checkForExistingURL","allProps","getUnfilteredData","properties","elementIRI","forceIRISync","getGeneralMetaObject","iriType","Global","HAS_RELATION","str2Compare","defaultIriValue","resourceName","syncedIRI","baseIri","dType","givenName","identifier","MDM","changeDatatypeType","typeEditorSelection","htmlCollection","children","numEntries","elementPrototypes","availiblePrototypes","supportedProperties","domain","range","renderType","FEATURE","FEATURE_ID","gui_name","guiLabel","supportedClasses","optA","changeNodeType","isDatatype","changePropertyType","elementTypeSelectionChanged","needChar","elementNeedsCharacteristics","filterContainer","filterCheckbox","charSelectionNode","q","externalCharSpan","arrayOfNodeChars","property","arrayOfPropertyChars","isDatatypeProperty","addElementsCharacteristics","fullURI","updateGeneralOntologyInfo","preferredLanguage","language","generalMetaObj","author","description","lsb_offset","lsb_height","div_width","title_labelWidth","iri_labelWidth","version_labelWidth","author_labelWidth","maxW","max","meta_inputWidth","elementIri_width","elementLabel_width","elementType_width","elementDType_width","selectedElement_inputWidth","containerWidth","prefixWidth","collapseButton","visibleSidebar","backupVisibility","sideBarContent","sideBarContainer","defaultClassSelectionContainers","selectThisDefaultElement","updateDefaultNameInAccordion","elementDescription","classSelectorFunction","container","unselectAllElements","initSideBarAnimation","settingValue","classContainer","defaultClass","aClassSelectionContainer","setupSelectionContainers","addEventListener","isSidebarVisible","updateSideBarVis","init","vis","updateCanvasContainerSize","isHidden","conversion_sessionId","currentGlobalGraph","currentSubGraph","ontologyIdentifierFromURL","progressBarMode","loadingWasSuccessFul","missingImportsWarning","showLoadingDetails","visibilityStatus","menuContainer","loadingInfoContainer","detailsButton","closeButton","parseOntologyContent","content","append_bulletPoint","getLoadingFunction","_loader","retrieveGraph","globalGraphID","getParameterByName","lavMappingID","dataSourceID","minimal","integration","$","ajax","odinApi","async","responseText","globalQuery","globalGraphId","graphicalGraph","graphicalMinimalIntegration","graphicalIntegration","results","decodeURIComponent","getProgressBarMode","successfullyLoadedOntology","setOntologyMenu","m","showErrorDetailsMessage","showLoadingIndicator","expandDetails","scrollDownDetails","showWarningDetailsMessage","scrollingElement","scrollTop","scrollHeight","hideLoadingIndicator","setBusyMode","updateSize","getDetailsState","collapseDetails","innherHTML","setSuccessful","setErrorMode","setPercentValue","clearGraphData","append_message_toLastBulletPoint","handleOnLoadingError","isThreadCanceled","storeCache","getCachedJsonObj","cachedContent","stringify","cachedName","setConversionID","stopLoadingTimer","clearDetailInformation","autoStore","clearAllGraphData","parameterArray","paramArray","match","identifyParameter","optString","loadDefaultConfig","setOptionsFromURL","loadCustomConfig","changeEditingFlag","defObj","keyVal","parameterLength","substr","identifyOptions","identifyOptionsAndOntology","loadGraphOptions","loadingMethod","iriKey","urlKey","fileKey","identifyOntologyLoadingMethod","from_presetOntology","from_FileUpload","from_JSON_URL","from_IRI_URL","from_MDM_DB","fileName","slice","callback","parameter","ontologyContent","cachedOntology","append_message","callbackLoad_JSON_FromURL","xhr","error","request","fallbackForJSON_URL","encoded","encodeURIComponent","callbackLoad_Ontology_FromIRI","selectedFile","reader","FileReader","readAsText","onload","file","formData","FormData","XMLHttpRequest","open","status","onreadystatechange","readyState","send","fallbackConversion","requestServerTimeStamp","callbackLoadFromOntology","loadFromOWL2VOWL","ontoContent","selectedOntology","ontology","f2r","showEditorHintIfNeeded","fileToRead","namespace","loadPresetOntology","retrieveCurrentGraph","clearQuery","getLastElementURI","ele","parts","d","selection","prepareSelectionObject","graphical_omq","modal","projectedFeatures","getSelectedFeatures","method","contentType","done","res","sparql_omq","sparql","namedGraph","features","currOMQ","sql_omq","sql","wrappers","hide","tableCol","_","each","col","field","align","headerFilter","show","tabledata","row","rowT","feature","table","Tabulator","layout","columns","pagination","paginationSize","selectable","paginationSizeSelector","click","download","delimiter","sheetName","orientation","fail","err","alert","flag","clearSelectionSubGraph","clearSelectionMenu","checkboxes","onChangeFunc","configOptionContainer","configCheckbox","hideSearchEntries","showSlider","silent","isEnabled","onChangeFunction","sliderContainer","sliderValueLabel","slider","animateDynamicLabelWidth","wheelEvent","deltaY","oldVal","newSliderValue","addLabelWidthSlider","maxLabelWidth","setCheckBoxValue","getCheckBoxValue","forEach","checkbox","specialCbx","hoverFlag","addCheckBox","modeName","_callbackFunction","menuEntry","useAccuracyHelper","enabled","lazyRefresh","updateDraggerElements","showDraggerObject","showRenderingStatistic","getHideDebugFeatures","showInputModality","exportSvgButton","exportFilename","exportJsonButton","exportTurtleButton","exportTexButton","exportableJsonText","exportTTLModule","exportTurtle","success","requestExport","resultingTTL_Content","dataURI","ontoTitle","showExporterWarning","copyUrl","execCommand","exportSvg","graphSvgCode","escapedGraphSvgCode","graphSvg","setStyleSensitively","parentNode","character","charCode","textSnippets","textLength","charAt","charCodeAt","escapeUnicodeCharacters","btoa","inlineStyles","styleName","shouldntChangeInlineCss","datum","controlElements","currentMenu","removeVowlInlineStyles","styles","elements","hasBackgroundColorSet","exportJson","exportText","getJson","jsonExportFileName","endsWith","exportObj","createJSON_exportObject","exportTex","scaleFactor","translation","bbox","getBoundingBoxForTex","texString","comment","nodeElements","graphNodeElements","propElements","graphLabelElements","links","graphLinkElements","dx","dy","px","py","rx","ry","linkDomainIntersection","linkRangeIntersection","center","curvePoint","pathStart","pathEnd","controlPoints","len","ahAngle","pathLen","startX","startY","normX","normY","lg","link","prop","colorStr","linkStyle","isLoop","arrowType","linkType","layers","loops","math","calculateLoopPoints","calculateIntersection","x","y","calculateCenter","nx","ny","sqrt","atan2","PI","markerElement","pathObj","floor","getTotalLength","p1","getPointAtLength","p2","markerCenter","cardinalityText","generateCardinalityText","cardinalityCenter","cx","cy","inverse","p1_inv","p2_inv","markerCenter_inv","qType","textColorStr","textBlock","txtColor","_textBlock","tspans","individuals","t","bgColorStr","widthString","actualRadius","bgColor","toUpperCase","leftPos","rightPos","txtOffset","correspondingProp","p_px","p_py","textWidth","inv_correspondingProp","inv_identifier","inv_textColorStr","inv_txtColor","inv_tspans","inv_t","inv_qType","inv_bgColorStr","inv_bgColor","inv_widthString","inv_width","pOY2","compactNotation","showExportGui","exportAsUrl","exportTurtleText","currObj","defOntValue","getDefaultDegreeValue","currentValue","getDegreeSliderValue","doc","cd","classDistance","dd","datatypeDistance","filter_datatypes","filter_sco","filter_disjoint","filter_setOperator","filter_objectProperties","mode_dynamic","mode_scaling","mode_compact","mode_colorExt","mode_multiColor","colorModeState","mode_pnp","debugFeatures","rect","htmlElement","optsString","defOpts","currOpts","setOptions","def_value","cur_value","prepareOptionString","initialConfig","urlString","hashCode","lPos","lastIndexOf","newURL","newUrlString","numParameters","j","k","unfilteredData","ontologyComment","_comment","metaObj","nodes","nLen","classObjects","classAttributeObjects","classObj","classAttr","annotations","classIndividualElements","nIndividuals","indObj","labels","equalsForAttributes","equivalents","equals","eqObj","eqAttr","e_classIndividualElements","e_nIndividuals","e_indObj","equivalent","pLen","propertyObjects","propertyAttributeObjects","pObj","pAttr","maxCardinality","minCardinality","cardinality","subproperties","subProps","subPropsIdArray","subproperty","superproperties","superProps","superPropsIdArray","superproperty","classAttribute","propertyAttribute","propertyObj","propAttribute","classObj_del","pos","pinned","nodeId","toFixed","settings","cb_text","cb_obj","zoom","paused","global","gravity","fMenu","fContainer","getCheckBoxContainer","cbCont","degreeSliderVal","filter","checkBox","degreeSliderValue","mMenu","mContainer","cb_modes","colorSwitchState","modes","metrics","line","interpolate","tension","currentNodes","currentProperties","resultingTTLContent","Map_ID2Node","Map_ID2Prop","extractClassDescription","subject","prefixRepresentation","arrayOfNodes","arrayOfUnionNodes","union","u","u_node","disjointUnion","distUnion","du","du_node","objectDef","indent","getIndent","eqIRI","validURL","commentForCurrentLanguage","an","anObj","an_ident","an_val","duE","duIri","uE","uIri","myProperties","HAS_FEATURE","extractPropertyDescription","propIRI","closeStatement","sP","substring","general_Label_languageExtractor","s_needUpdate","s_lastPtr","general_languageExtractor","metaObjectDescription","annotationDescription","endStatement","languageElement","resultingLanguages","resultingString","needUpdate","lastPtr","ontoIri","getClassDataForTtlExport","getPropertyDataForTtlExport","prefixDef","preparePrefixList","getOntologyTitle","getOntologyDescription","getOntologyVersion","authorString","getOntologyAuthor","allNodes","nodeIRI","preparePrefixRepresentation","property_success","addedElement","exportProperties","class_success","exportClasses","graphDegreeLevel","degreeSlider","checkboxData","menuControl","nodeDegreeContainer","defaultDegreeValue","addFilterItem","pluralNameOfFilteredItems","defaultState","update","handleWheelEvent","maxDeg","setSliderValue","setDefaultDegreeValue","getGraphObject","highlightForDegreeSlider","setMaxDegreeSetter","maxDegree","setDegreeGetter","setDegreeSetter","degree","addNodeDegreeFilter","enabledByDefault","killButtonAnimation","arguments","timer","setDegreeSliderValue","sliders","defaultCharge","charge","addDistanceSlider","distanceFunction","defaultLinkDistance","distance","greaterDistance","newCharge","adjustCharge","colorModeSwitch","dynamicLabelWidthCheckBox","SAME_COLOR_MODE","GRADIENT_COLOR_MODE","moduleOptionContainer","moduleCheckbox","addModeItem","updateGraphOnClick","setupModeSelectionSG","executeColorExternalsModule","executeCompactNotationModule","applyColorModeSwitchState","colorExternalsMode","isActive","active","activeColorMode","getColorModeByState","colorModeType","s","setDynamicLabelWidth","nodeScaling","colorExternals","setupModeOMQ","button","addExternalModeSelection","setColorSwitchState","state","setColorSwitchStateUsingURL","updateSettingsUsingURL","scrolLeftValue","scrollMax","currentlyVisibleMenu","currentlyHoveredEntry","t_scrollLeft","t_scrollRight","scrollContainer","touchedElement","c_select","m_select","clearAllTimers","timed_scrollRight","scrollLeft","timed_scrollLeft","menuElementOnHovered","showSingleMenu","menuElementOutHovered","controllerID","menuElementClicked","m_element","menuElement","menuElementTouched","totalOffset","offsetLeft","finalOffset","fullContainer_width","elementWidth","updateMenuPosition","c_temp","m_temp","menuElements","setupControlsAndMenus","ontologyMenuTimeout","loadingStatusTimer","loadingInfo","loadingProgress","stopTimer","cachedConversions","currentLoadedOntologyName","updateNavigationHrefs","msg","setLoadingStatusInfo","message","o2vConverterContainer","liForToken","tokenMessage","getLoadingStatusOnceCallBacked","timedLoadingStatusLogger","callbackUpdateLoadingMessage","callbackFromIRI_Success","local_conversionId","conversionFinished","callbackFromJSON_Success","callbackFromJSON_URL_ERROR","callbackFromIRI_URL_ERROR","callbackForConvert","local_threadId","keepOntologySelectionOpenShortly","ontologySelection","disableKeepingOpen","beginsWith","ontoName","locStr","showReloadButtonAfterLayoutOptimization","getErrorStatus","_loadOntologyFromText","iriConverterButton","iriConverterInput","input","inputLabel","uploadButton","showSelectOntologyGui","inputIsEmpty","inputName","clearedName","toLowerCase","selectedFiles","newHashParameter","errorContainer","errorDetailsButton","descriptionVisible","oldURL","setIriText","getElementsByTagName","lastItem","oldText","relativePath","localThreadId","loadingSuccessful","sessionId","getConversionId","local_id","showLoadingStatus","visible","pauseButton","updatePauseButton","setPauseValue","resettableModules","untouchedOptions","resetGraph","resetSearchHighlight","clearText","linkStrength","_resettableModules","modified","prepareChangesObject","isModified","ttl","saveGraphicalGraph","resetOriginalLabels","showAlert","saveSubGraph","subGraph","LAVMappingID","graphicalSubGraph","prepareGraphicalSelObject","deletedURIProperties","deletedURIClasses","globalGraph","deleted","classes","new","newURIClasses","newURIProperties","searchLineEdit","mergedStringsList","mergedIdList","labelDictionary","inputText","dictionary","entryNames","dictionaryUpdateRequired","viewStatusOfSearchEntries","resultID","c_locate","m_search","updateSearchDictionary","getUpdateDictionary","idList","stringList","lEntry","eqsLabels","equivalentsString","currentString","currentObjectId","indexInStringList","lastEntry","aString","correspondingIdList","idListResult","hoverSearchEntryView","handleAutoCompletion","createSearchEntries","showSearchEntries","toggleSearchEntryView","userNavigation","move","selectedEntry","onclick","clearedText","newSelection","setAttribute","clearSearchEntries","lc_text","measureTextWidth","textStyle","getElementById","offsetWidth","cropText","ratio","newTruncatedTextLength","truncatedText","createDropDownElements","token","copyRes","newResults","newResultsIds","indexElement","lengthElement","bestElement","tIe","tLe","testEntry","handleClick","entries","eLen","croppedText","el0","allSame","nodeMap","getNodeMapForSearch","a","searchEntryNode","userInput","elementId","correspondingIds","autoComStr","highLightNodes","requestDictionaryUpdate","locateSearchResult","getSearchString","t_zoomOut","t_zoomIn","zoomValue","minMag","minMagnification","maxMag","maxMagnification","timed_zoomOut","setSliderZoom","timed_zoomIn","zooming","forceRelocationEvent","updateZoomSliderValue","superContainer","_messageContainers","_messageContext","_visibleStatus","_messageId","cssStyleIndex","css","styleSheets","cssRules","findCSS_Index","addMessageBox","messageContainer","messageContext","containerId","closeMessage","nId","moduleContainer","m_height","followingChildren","pChild","pChild_len","found_me","fc","child","superCss","deleteRule","appendRule","c","AlertContainer","gotItButton","graphWidth","head","titleHeader","reasonContainer","reasonHeader","msgReason","ontologyInfo","lastSelectedElement","detailArea","graphArea","menuArea","trySelectDefaultLanguage","languages","langIndex","updateGraphInformation","authors","listAnnotations","annotationObject","annotation","enter","appendIriLabel","showSelectionAdvice","setSelectionInformationVisibility","showClasses","showProperties","showAdvice","setIriLabel","parent","displayAttributes","textSpan","spanParent","removeElementFromArray","listNodeArray","setTextAndVisibility","hasValue","clearOntologyInformation","metadata","deliveredMetrics","objectPropertyCount","datatypePropertyCount","totalIndividualCount","nodeCount","edgeCount","displayGraphStatistics","other","size","sort","b","constants","LANG_IRIBASED","LANG_UNDEFINED","localeCompare","languageSelection","setLanguages","defaultPrevented","isTriggerActive","descriptionForCurrentLanguage","disjointNodes","disjointNodesParent","disjointWith","displayNodeInformation","hideExpandButton","hideMenuArea","collapseContainers","triggers","activeTriggers","setupCollapsing","updateShowedInformation","editMode","controller","hideOMQ","hideSelection","updateGui","test_incDI_visualize","_filterHintId","createMessageContext","warningContainer","generalHint","ul","showMessage","closeFilterHint","showEditorHint","responseWarning","reason","action","forcedWarning","msgHeader","actionContainer","actionHeader","msgAction","cancelButton","showFilterHint","additionalOpts","zoomToElementButton","zoomToElementInGraph","ShowElementButton","halo","drawHalo","updatePulseIds","removeHalo","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","r","defineProperty","__webpack_exports__"],"sourceRoot":""}