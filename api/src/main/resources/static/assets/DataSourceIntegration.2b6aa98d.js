import{u as Z,a as le,b as Ve,Q as Ie}from"./datasources.store.aceb95f7.js";import{Q as De}from"./QSlideTransition.c1877445.js";import{b as L,r as T,a as y,h as b,x as U,i as j,ah as $e,m as G,a1 as Qe,X as z,a2 as Fe,a3 as Ne,M as O,a4 as ee,Y as pe,I as te,L as ae,w as je,T as Le,aL as Me,f as D,n as ze,aM as he,k as Ee,aN as be,aa as Ue,a9 as Ge,j as Re,ad as Ke,o as k,q as P,s,v as i,A as q,y as B,B as m,z as ie,ag as V,C as A,g as se,c as ne,aO as Oe,aP as We,D as H,aD as _e,aF as He,am as Xe}from"./index.876f1426.js";import{g as ve,s as me}from"./touch.70a9dd44.js";import{c as Ye,a as oe,Q as Ze}from"./format.30be34e3.js";import{u as Je,a as et,b as tt,c as at,Q as ye}from"./QTable.c360863b.js";import{u as we,a as Se}from"./use-dark.9ce0ddae.js";import{Q as re}from"./use-model-toggle.659365cc.js";import{Q as lt}from"./QBtnDropdown.21befcdf.js";import{Q as Ce}from"./QTooltip.4e6178e1.js";import{C as E,Q as X,b as nt}from"./ClosePopup.5e0eec82.js";import{Q as F}from"./QTd.64061ba1.js";import{Q as N,j as Q,a as ot}from"./QForm.5803165a.js";import{u as rt}from"./use-quasar.a85fc028.js";import{Q as it}from"./QSpace.4c3d4a59.js";import{Q as st}from"./QSeparator.075b25f8.js";import{_ as Y}from"./Graph.17a543c7.js";import{_ as ut}from"./FormNewDataSource.5b074d24.js";import"./scroll.09115f1d.js";import"./use-prevent-scroll.1ba9ffd6.js";import"./focus-manager.32f8d49a.js";import"./uid.42677368.js";import"./QResizeObserver.e76af53a.js";var xe=L({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:o}}=G(),t=T(null),r=y(()=>e.stepper.modelValue===e.step.name),a=y(()=>{const d=e.step.disable;return d===!0||d===""}),u=y(()=>{const d=e.step.error;return d===!0||d===""}),p=y(()=>{const d=e.step.done;return a.value===!1&&(d===!0||d==="")}),w=y(()=>{const d=e.step.headerNav,S=d===!0||d===""||d===void 0;return a.value===!1&&e.stepper.headerNav&&S}),_=y(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(u.value===!1||e.stepper.errorIcon==="none")&&(p.value===!1||e.stepper.doneIcon==="none")),g=y(()=>{const d=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const S=e.step.activeIcon||e.stepper.activeIcon;return S==="none"?d:S||o.iconSet.stepper.active}if(u.value===!0){const S=e.step.errorIcon||e.stepper.errorIcon;return S==="none"?d:S||o.iconSet.stepper.error}if(a.value===!1&&p.value===!0){const S=e.step.doneIcon||e.stepper.doneIcon;return S==="none"?d:S||o.iconSet.stepper.done}return d}),v=y(()=>{const d=u.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const S=e.step.activeColor||e.stepper.activeColor||e.step.color;return S!==void 0?S:d}return d!==void 0?d:a.value===!1&&p.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),c=y(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(v.value!==void 0?` text-${v.value}`:"")+(u.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(_.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(p.value===!0?" q-stepper__tab--done":"")+(w.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),n=y(()=>e.stepper.headerNav!==!0?!1:w.value);function f(){t.value!==null&&t.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function x(d){d.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const d={class:c.value};w.value===!0&&(d.onClick=f,d.onKeyup=x,Object.assign(d,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const S=[b("div",{class:"q-focus-helper",tabindex:-1,ref:t}),b("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[b("span",{class:"row flex-center"},[_.value===!0?e.step.prefix:b(U,{name:g.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const $=[b("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&$.push(b("div",{class:"q-stepper__caption"},e.step.caption)),S.push(b("div",{class:"q-stepper__label q-stepper__line relative-position"},$))}return j(b("div",d,S),[[$e,n.value]])}}});function ct(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,t)=>{const r=parseFloat(o);r&&(l[t]=r)}),l}var dt=Qe({name:"touch-swipe",beforeMount(e,{value:l,arg:o,modifiers:t}){if(t.mouse!==!0&&z.has.touch!==!0)return;const r=t.mouseCapture===!0?"Capture":"",a={handler:l,sensitivity:ct(o),direction:ve(t),noop:Fe,mouseStart(u){me(u,a)&&Ne(u)&&(O(a,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(u,!0))},touchStart(u){if(me(u,a)){const p=u.target;O(a,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),a.start(u)}},start(u,p){z.is.firefox===!0&&ee(e,!0);const w=pe(u);a.event={x:w.left,y:w.top,time:Date.now(),mouse:p===!0,dir:!1}},move(u){if(a.event===void 0)return;if(a.event.dir!==!1){te(u);return}const p=Date.now()-a.event.time;if(p===0)return;const w=pe(u),_=w.left-a.event.x,g=Math.abs(_),v=w.top-a.event.y,c=Math.abs(v);if(a.event.mouse!==!0){if(g<a.sensitivity[1]&&c<a.sensitivity[1]){a.end(u);return}}else if(g<a.sensitivity[2]&&c<a.sensitivity[2])return;const n=g/p,f=c/p;a.direction.vertical===!0&&g<c&&g<100&&f>a.sensitivity[0]&&(a.event.dir=v<0?"up":"down"),a.direction.horizontal===!0&&g>c&&c<100&&n>a.sensitivity[0]&&(a.event.dir=_<0?"left":"right"),a.direction.up===!0&&g<c&&v<0&&g<100&&f>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&g<c&&v>0&&g<100&&f>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&g>c&&_<0&&c<100&&n>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&g>c&&_>0&&c<100&&n>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(te(u),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),a.styleCleanup=x=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const d=()=>{document.body.classList.remove("no-pointer-events--children")};x===!0?setTimeout(d,50):d()}),a.handler({evt:u,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:p,distance:{x:g,y:c}})):a.end(u)},end(u){a.event!==void 0&&(ae(a,"temp"),z.is.firefox===!0&&ee(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),u!==void 0&&a.event.dir!==!1&&te(u),a.event=void 0)}};e.__qtouchswipe=a,t.mouse===!0&&O(a,"main",[[e,"mousedown","mouseStart",`passive${r}`]]),z.has.touch===!0&&O(a,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const o=e.__qtouchswipe;o!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&o.end(),o.handler=l.value),o.direction=ve(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(ae(l,"main"),ae(l,"temp"),z.is.firefox===!0&&ee(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});function ke(){const e=new Map;return{getCache:function(l,o){return e[l]===void 0?e[l]=o:e[l]},getCacheWithFn:function(l,o){return e[l]===void 0?e[l]=o():e[l]}}}const pt={name:{required:!0},disable:Boolean},fe={setup(e,{slots:l}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},D(l.default))}},vt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mt=["update:modelValue","before-transition","transition"];function ft(){const{props:e,emit:l,proxy:o}=G(),{getCacheWithFn:t}=ke();let r,a;const u=T(null),p=T(null);function w(h){const C=e.vertical===!0?"up":"left";M((o.$q.lang.rtl===!0?-1:1)*(h.direction===C?1:-1))}const _=y(()=>[[dt,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),n=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),f=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),x=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);je(()=>e.modelValue,(h,C)=>{const I=R(h)===!0?J(h):-1;a!==!0&&ue(I===-1?0:I<J(C)?-1:1),u.value!==I&&(u.value=I,l("before-transition",h,C),ze(()=>{l("transition",h,C)}))});function d(){M(1)}function S(){M(-1)}function $(h){l("update:modelValue",h)}function R(h){return h!=null&&h!==""}function J(h){return r.findIndex(C=>C.props.name===h&&C.props.disable!==""&&C.props.disable!==!0)}function Ae(){return r.filter(h=>h.props.disable!==""&&h.props.disable!==!0)}function ue(h){const C=h!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(h===-1?g.value:v.value):null;p.value!==C&&(p.value=C)}function M(h,C=u.value){let I=C+h;for(;I>-1&&I<r.length;){const K=r[I];if(K!==void 0&&K.props.disable!==""&&K.props.disable!==!0){ue(h),a=!0,l("update:modelValue",K.props.name),setTimeout(()=>{a=!1});return}I+=h}e.infinite===!0&&r.length>0&&C!==-1&&C!==r.length&&M(h,h===-1?r.length:-1)}function ce(){const h=J(e.modelValue);return u.value!==h&&(u.value=h),!0}function de(){const h=R(e.modelValue)===!0&&ce()&&r[u.value];return e.keepAlive===!0?[b(he,f.value,[b(x.value===!0?t(n.value,()=>({...fe,name:n.value})):fe,{key:n.value,style:c.value},()=>h)])]:[b("div",{class:"q-panel scroll",style:c.value,key:n.value,role:"tabpanel"},[h])]}function Te(){if(r.length!==0)return e.animated===!0?[b(Le,{name:p.value},de)]:de()}function Pe(h){return r=Me(D(h.default,[])).filter(C=>C.props!==null&&C.props.slot===void 0&&R(C.props.name)===!0),r.length}function Be(){return r}return Object.assign(o,{next:d,previous:S,goTo:$}),{panelIndex:u,panelDirectives:_,updatePanelsList:Pe,updatePanelIndex:ce,getPanelContent:Te,getEnabledPanels:Ae,getPanels:Be,isValidPanelName:R,keepAliveProps:f,needsUniqueKeepAliveWrapper:x,goToPanelByOffset:M,goToPanel:$,nextPanel:d,previousPanel:S}}function qe(e){return b("div",{class:"q-stepper__step-content"},[b("div",{class:"q-stepper__step-inner"},D(e.default))])}const ge={setup(e,{slots:l}){return()=>qe(l)}};var W=L({name:"QStep",props:{...pt,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},setup(e,{attrs:l,slots:o}){const{proxy:{$q:t}}=G(),r=Ee(be,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:a}=ke(),u=T(null),p=y(()=>r.value.modelValue===e.name),w=y(()=>t.platform.is.ios!==!0&&t.platform.is.chrome===!0||p.value!==!0||r.value.vertical!==!0?{}:{onScroll(v){const{target:c}=v;c.scrollTop>0&&(c.scrollTop=0),l.onScroll!==void 0&&l.onScroll(v)}}),_=y(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function g(){const v=r.value.vertical;return v===!0&&r.value.keepAlive===!0?b(he,r.value.keepAliveProps.value,p.value===!0?[b(r.value.needsUniqueKeepAliveWrapper.value===!0?a(_.value,()=>({...ge,name:_.value})):ge,{key:_.value},o.default)]:void 0):v!==!0||p.value===!0?qe(o):void 0}return()=>b("div",{ref:u,class:"q-stepper__step",...w.value},r.value.vertical===!0?[b(xe,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?b(De,g):g()]:[g()])}}),gt=L({name:"QToggle",props:{...Je,icon:String,iconColor:String},emits:et,setup(e){function l(o,t){const r=y(()=>(o.value===!0?e.checkedIcon:t.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),a=y(()=>o.value===!0?e.iconColor:null);return()=>[b("div",{class:"q-toggle__track"}),b("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[b(U,{name:r.value,color:a.value})]:void 0)]}return tt("toggle",l)}}),ht=L({name:"QStepperNavigation",setup(e,{slots:l}){return()=>b("div",{class:"q-stepper__nav"},D(l.default))}});const bt=/(-\w)/g;function _t(e){const l={};for(const o in e){const t=o.replace(bt,r=>r[1].toUpperCase());l[t]=e[o]}return l}var yt=L({name:"QStepper",props:{...we,...vt,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:mt,setup(e,{slots:l}){const o=G(),t=Se(e,o.proxy.$q),{updatePanelsList:r,isValidPanelName:a,updatePanelIndex:u,getPanelContent:p,getPanels:w,panelDirectives:_,goToPanel:g,keepAliveProps:v,needsUniqueKeepAliveWrapper:c}=ft();Ue(be,y(()=>({goToPanel:g,keepAliveProps:v,needsUniqueKeepAliveWrapper:c,...e})));const n=y(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||t.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||t.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(t.value===!0?" q-stepper--dark q-dark":"")),f=y(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function x(){const d=D(l.message,[]);if(e.vertical===!0){a(e.modelValue)&&u();const S=b("div",{class:"q-stepper__content"},D(l.default));return d===void 0?[S]:d.concat(S)}return[b("div",{class:f.value},w().map(S=>{const $=_t(S.props);return b(xe,{key:$.name,stepper:e,step:$,goToPanel:g})})),d,Re("div",{class:"q-stepper__content q-panel-parent"},p(),"cont",e.swipeable,()=>_.value)]}return()=>(r(l),b("div",{class:n.value},Ge(l.navigation,x())))}}),wt=L({name:"QBanner",props:{...we,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:o}}=G(),t=Se(e,o),r=y(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(t.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),a=y(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const u=[b("div",{class:"q-banner__avatar col-auto row items-center self-start"},D(l.avatar)),b("div",{class:"q-banner__content col text-body2"},D(l.default))],p=D(l.action);return p!==void 0&&u.push(b("div",{class:a.value},p)),b("div",{class:r.value+(e.inlineActions===!1&&p!==void 0?" q-banner--top-padding":""),role:"alert"},u)}}});const St={class:"row q-pb-none"},Ct={class:"row bg-primary justify-center text-white q-pa-xs"},xt={class:"row",style:{"min-height":"50vh",border:"1px #e4eaec","border-style":"solid"}},kt={class:"col"},qt={class:"q-pt-md"},At={class:"q-gutter-md"},Tt={class:"row bg-primary justify-center text-white q-pa-xs"},Pt={class:"row",style:{"min-height":"50vh"}},Bt={class:"col"},Vt={class:"q-pt-md"},It={class:"q-gutter-md"},Dt={class:"col-6"},$t={class:"col-3"},Qt={__name:"ManualAlignmentsForm",props:{dsA:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},dsB:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},show_dialog:{type:Boolean,default:!1}},emits:["close-dialog","add-alignment"],setup(e,{emit:l}){const o=Z(),t=Ke({type:"",trueType:"",shortType:"",integratedLabel:"",resourceA:{name:"",label:"",iri:""},resourceB:{name:"",label:"",iri:""}}),r=T(!1);T(!1),T(!0),T(!1);const a=()=>{l("close-dialog"),u(),p()},u=()=>{t.resourceA.name="",t.resourceA.label="",t.resourceA.iri="",t.resourceB.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},p=()=>{t.resourceB.name="",t.resourceB.label="",t.resourceB.iri="",t.resourceA.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},w=()=>{o.addAligment(t,!0),u(),p()},_=v=>{v.event=="unfocused"?u():(t.type==""||t.type==v.type)&&(t.resourceA.label=v.label,t.resourceA.iri=v.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=v.type,t.shortType=v.shortType,t.trueType=v.trueType)},g=v=>{v.event=="unfocused"?p():(t.type==""||t.type==v.type)&&(t.resourceB.label=v.label,t.resourceB.iri=v.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=v.type,t.shortType=v.shortType,t.trueType=v.trueType)};return(v,c)=>(k(),P(ot,{flat:"",bordered:""},{default:s(()=>[i(re,{class:"q-py-none"},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,{class:"dark_title"},{default:s(()=>[q("Select alignments")]),_:1})]),_:1}),i(N,{class:"row items-center q-pb-none q-pt-none"},{default:s(()=>[i(it),j(i(B,{icon:"close",flat:"",round:"",dense:"",onClick:a,class:"dark_title"},null,512),[[E]])]),_:1})]),_:1}),i(st),i(N,{class:"row no-padding"},{default:s(()=>[i(N,{class:"col-12 no-padding"},{default:s(()=>[m("div",St,[i(wt,{dense:"","inline-actions":"",class:ie(["text-white bg-red col-12",{hidden:!r.value}])},{default:s(()=>[q(" Incompatible types. Please select another element with the same type. ")]),_:1},8,["class"]),i(N,{class:"col"},{default:s(()=>[m("div",Ct," Project: "+V(A(o).project.name),1),m("div",xt,[m("div",kt,[i(Y,{graphical:A(o).getGraphicalA,alignment:t,enableClickR:!0,onElementClick:_},null,8,["graphical","alignment"])])]),m("div",qt,[m("div",At,[i(Q,{outlined:"",modelValue:t.type,"onUpdate:modelValue":c[0]||(c[0]=n=>t.type=n),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(Q,{outlined:"",modelValue:t.resourceA.label,"onUpdate:modelValue":c[1]||(c[1]=n=>t.resourceA.label=n),prefix:"Label: ",disable:"",dense:""},null,8,["modelValue"])])])]),_:1}),i(N,{class:"col q-pl-none"},{default:s(()=>[m("div",Tt," DataSource: "+V(A(o).getSourceB.name),1),m("div",Pt,[m("div",Bt,[i(Y,{graphical:A(o).getGraphicalB,alignment:t,enableClickR:!0,onElementClick:g},null,8,["graphical","alignment"])])]),m("div",Vt,[m("div",It,[i(Q,{outlined:"",modelValue:t.type,"onUpdate:modelValue":c[2]||(c[2]=n=>t.type=n),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(Q,{outlined:"",modelValue:t.resourceB.label,"onUpdate:modelValue":c[3]||(c[3]=n=>t.resourceB.label=n),prefix:"Label:",disable:"",dense:""},null,8,["modelValue"])])])]),_:1})]),i(N,{class:"row justify-between q-pt-none"},{default:s(()=>[m("div",Dt,[i(Q,{outlined:"",modelValue:t.integratedLabel,"onUpdate:modelValue":c[4]||(c[4]=n=>t.integratedLabel=n),prefix:"Integrated label: ",dense:""},null,8,["modelValue"])]),m("div",$t,[i(B,{outline:"",color:"primary",label:"Close",onClick:a}),i(B,{class:"q-ml-sm",color:"primary",label:"Add alignment",onClick:w,disable:t.integratedLabel==""},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1}))}};const Ft={class:"q-table__title"},Nt={key:0},jt=m("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[m("img",{src:"/assets/icons/AlignmentTable.svg",alt:"No alignments added",style:{width:"320px",height:"176px"}}),m("p",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"No alignments added")],-1),Lt={__name:"TableAligments",props:{no_shadow:{type:Boolean,default:!1},alignments:{type:Array,default:[]}},emits:["update:alignments"],setup(e,{emit:l}){const o=Z(),t=rt();se(()=>{o.init()});const r=[{name:"uriA",label:"Resource A",align:"center",field:"iriA",sortable:!0},{name:"uriB",label:"Resource B",align:"center",field:"iriB",sortable:!0},{name:"labelA",label:"Label A",align:"center",field:"labelA",sortable:!0},{name:"labelB",label:"Label B",align:"center",field:"labelB",sortable:!0},{name:"labelIntegrated",label:"Integrated name",align:"center",field:"l",sortable:!0},{name:"type",label:"Type",align:"center",field:"type",sortable:!0},{name:"shortType",label:"ShortType",align:"center",field:"shortType",sortable:!0},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],a=T(["labelA","labelB","labelIntegrated","type","actions"]),u=T(!1),p=T("manual"),w=T({rowsPerPage:0}),_="Alignments",g=v=>{o.deleteAligment(v)};return(v,c)=>(k(),ne(_e,null,[i(ye,{rows:A(o).alignments,columns:r,class:ie({"no-shadow":e.no_shadow}),"visible-columns":a.value,id:"TableAlignments","row-key":"uriA","virtual-scroll":"","rows-per-page-options":[0],style:{height:"60vh"},pagination:w.value,"onUpdate:pagination":c[1]||(c[1]=n=>w.value=n),"no-data-label":"Consider adding some alignments to start the integration process","no-results-label":"The filter didn't uncover any results"},{"top-left":s(()=>[m("div",Ft,[m("span",null,V(_)),i(lt,{color:"primary","dropdown-icon":"add","no-icon-animation":"",padding:"none","menu-anchor":"top right","menu-self":"top left"},{default:s(()=>[i(Ze,null,{default:s(()=>[j((k(),P(re,{clickable:"",style:{cursor:"not-allowed !important"}},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,null,{default:s(()=>[q("Manual alignment (Disable)")]),_:1})]),_:1})]),_:1})),[[E]]),j((k(),P(re,{clickable:"",onClick:c[0]||(c[0]=n=>A(o).getAlignmentsSurvey())},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,null,{default:s(()=>[q("Automatic survey")]),_:1})]),_:1})]),_:1})),[[E]])]),_:1})]),_:1})])]),"top-right":s(n=>[i(B,{flat:"",round:"",dense:"",icon:n.inFullscreen?"fullscreen_exit":"fullscreen",onClick:n.toggleFullscreen},{default:s(()=>[j((k(),P(Ce,{disable:A(t).platform.is.mobile},{default:s(()=>[q(V(n.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[E]])]),_:2},1032,["icon","onClick"])]),"body-cell-type":s(n=>[i(F,{props:n},{default:s(()=>[i(X,null,{default:s(()=>[q(V(n.row.type),1)]),_:2},1024),q(" \u2013 "),i(X,null,{default:s(()=>[q(V(n.row.type),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-labelIntegrated":s(n=>[i(F,{props:n},{default:s(()=>[m("div",null,[n.row.edit==null||!n.row.edit?(k(),ne("span",Nt,[q(V(n.row.l)+" ",1),i(U,{onClick:f=>n.row.edit=!0,size:"xs",name:"edit"},null,8,["onClick"])])):(k(),P(Q,{key:1,outlined:"",modelValue:n.row.l,"onUpdate:modelValue":f=>n.row.l=f,dense:"",onKeyup:We(f=>{n.row.edit=!1},["enter"])},{append:s(()=>[i(U,{name:"o_task_alt",onClick:Oe(f=>n.row.edit=!1,["stop","prevent"]),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup"]))])]),_:2},1032,["props"])]),"body-cell-actions":s(n=>[i(F,{props:n},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",onClick:f=>g(n),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-identifier":s(n=>[i(F,{props:n},{default:s(()=>[q(" hola"+V(n.row.identifier)+" ",1),i(at,{modelValue:n.row.identifier,"onUpdate:modelValue":f=>n.row.identifier=f,color:"teal"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"no-data":s(({icon:n,message:f,filter:x})=>[jt]),_:1},8,["rows","class","visible-columns","pagination"]),i(nt,{modelValue:u.value,"onUpdate:modelValue":c[3]||(c[3]=n=>u.value=n),"full-height":"","full-width":""},{default:s(()=>[p.value=="manual"?(k(),P(Qt,{key:0,onCloseDialog:c[2]||(c[2]=n=>u.value=!u.value)})):H("",!0)]),_:1},8,["modelValue"])],64))}},Mt={class:"q-table__title"},zt=m("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[m("svg",{width:"160px",height:"88px",viewBox:"0 0 216 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"sc-jIkXHa sc-ZOtfp fXAzWm jPTZgW"},[m("g",{opacity:"0.84","clip-path":"url(#EmptyDocuments_svg__clip0_1142_57509)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M189.25 19.646a7.583 7.583 0 010 15.166h-43.333a7.583 7.583 0 010 15.167h23.833a7.583 7.583 0 010 15.167h-11.022c-5.28 0-9.561 3.395-9.561 7.583 0 1.956 1.063 3.782 3.19 5.48 2.017 1.608 4.824 1.817 7.064 3.096a7.583 7.583 0 01-3.754 14.174H65.75a7.583 7.583 0 010-15.166H23.5a7.583 7.583 0 110-15.167h43.333a7.583 7.583 0 100-15.167H39.75a7.583 7.583 0 110-15.166h43.333a7.583 7.583 0 010-15.167H189.25zm0 30.333a7.583 7.583 0 110 15.166 7.583 7.583 0 010-15.166z",fill:"#D9D8FF","fill-opacity":"0.8"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M132.561 19.646l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162zM73.162 26.33l4.97-.557-4.97.557z",fill:"#fff"}),m("path",{d:"M73.162 26.33l4.97-.557m54.429-6.127l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162z",stroke:"#7B79FF","stroke-width":"2.5"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M129.818 24.27l9.122 66.608.82 6.682c.264 2.153-1.246 4.11-3.373 4.371l-56.812 6.976c-2.127.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.167 2.167 0 011.887-2.415l7.028-.863",fill:"#F0F0FF"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M135.331 5.833H85.978a2.97 2.97 0 00-2.107.873A2.97 2.97 0 0083 8.813v82.333c0 .823.333 1.567.872 2.106a2.97 2.97 0 002.107.873h63.917a2.97 2.97 0 002.106-.873 2.97 2.97 0 00.873-2.106V23.367a2.98 2.98 0 00-.873-2.107L137.437 6.705a2.98 2.98 0 00-2.106-.872z",fill:"#fff",stroke:"#7B79FF","stroke-width":"2.5"}),m("path",{d:"M135.811 7.082v12.564a3.25 3.25 0 003.25 3.25h8.595M94.644 78.146h28.167m-28.167-55.25h28.167-28.167zm0 13h46.584-46.584zm0 14.083h46.584-46.584zm0 14.084h46.584-46.584z",stroke:"#7B79FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),m("defs",null,[m("clipPath",{id:"EmptyDocuments_svg__clip0_1142_57509"},[m("path",{fill:"#fff",d:"M0 0h216v120H0z"})])])]),m("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"Data sources not found."),m("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"To integrate data sources with the project, please add at least two sources.")],-1),Et={__name:"TableTemporalDataSources",props:{no_shadow:{type:Boolean,default:!1},view:{type:String,default:"datasources"},selected:{type:String,default:""}},setup(e){const l=e,o=T(!1);l.selected!=""&&console.log("complete code!!!");const t=Xe(),r=Z();se(()=>{r.setProject()});const a=[{name:"id",label:"Id",align:"center",field:"id",sortable:!0},{name:"Name",label:"Name",align:"center",field:"name",sortable:!0},{name:"Type",label:"Type",align:"center",field:"type",sortable:!0},{name:"View_Source_Graph",label:"Source Graph",align:"center",field:"View Source Graph",sortable:!1},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],u={integration:["Name","Type"],datasources:["Name","Type","#Wrappers","View Metadata","View_Source_Graph","actions"]},p="Landing Data Sources",w=T(""),_=u[l.view],g=({rows:c,added:n,evt:f})=>{let x=1;if(console.log("validateSelection...",x),c.length===0){console.log("not added");return}else if(r.selectedDS.length>=x&&n)t.negative("You can only select "+x+" datasources for integration");else if(c.length===1){const d=c[0];console.log("selected is "),console.log(d),n?r.addSelectedDatasource(d):r.deleteSelectedDatasource(d)}},v=c=>{r.deleteTemporalDS(c)};return(c,n)=>(k(),ne(_e,null,[i(ye,{ref:"tableRef",rows:A(r).datasources,columns:a,filter:w.value,selection:"multiple",class:ie({"no-shadow":e.no_shadow}),selected:A(r).selectedDS,onSelection:g,"row-key":"id","no-data-label":"I didn't find anything for you. Consider creating a new data source.","no-results-label":"The filter didn't uncover any results","visible-columns":A(_)},He({"top-left":s(()=>[m("div",Mt,[q(V(p)+" "),i(B,{unelevated:"",padding:"none",color:"primary700",icon:"add",onClick:n[0]||(n[0]=f=>o.value=!0)})])]),"top-right":s(f=>[i(Q,{outlined:"",dense:"",debounce:"400",color:"primary",modelValue:w.value,"onUpdate:modelValue":n[1]||(n[1]=x=>w.value=x)},{append:s(()=>[i(U,{name:"search"})]),_:1},8,["modelValue"]),i(B,{flat:"",round:"",dense:"",icon:f.inFullscreen?"fullscreen_exit":"fullscreen",onClick:f.toggleFullscreen},{default:s(()=>[j((k(),P(Ce,{disable:c.$q.platform.is.mobile},{default:s(()=>[q(V(f.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[E]])]),_:2},1032,["icon","onClick"])]),"body-cell-status":s(f=>[i(F,{props:f},{default:s(()=>[f.row.graphicalGraph===""?(k(),P(X,{key:0,"text-color":"white",color:"accent"},{default:s(()=>[q(" Missing Data Sources ")]),_:1})):(k(),P(X,{key:1,"text-color":"white",color:"blue"},{default:s(()=>[q(" Completed")]),_:1}))]),_:2},1032,["props"])]),"body-cell-View_Source_Graph":s(f=>[i(F,{props:f},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",icon:"download",onClick:x=>A(r).downloadSourceTemporal(f.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":s(({icon:f,message:x,filter:d})=>[zt]),_:2},[e.view==="datasources"?{name:"body-cell-actions",fn:s(f=>[i(F,{props:f},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",onClick:x=>v(f.row),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["rows","filter","class","selected","visible-columns"]),i(ut,{show:o.value,"onUpdate:show":n[2]||(n[2]=f=>o.value=f)},null,8,["show"])],64))}};const Ut={class:"column items-center",style:{height:"100%"}},Gt={class:"col-8",style:{height:"100%","min-width":"75vw"}},Rt={class:"row",style:{height:"92%"}},Kt={class:"col-12"},Ot={__name:"DataSourceIntegrationStep",setup(e){const l=Ve(),o=Z();se(()=>{l.setProject(),o.setProject()});const t=T(1);o.selectedDS.length>0&&(t.value=2);const r=T("Global schema"),a=()=>{switch(console.log("step val: ",t.value),t.value){case 1:return console.log("return true"),o.selectedDS.length!=1;case 2:break;case 3:return o.alignments.length==0;default:return!1}},u=()=>{switch(t.value){case 2:return o.project.numberOfDS<"1"?"Finish":"Continue";case 3:return"Integrate";case 4:return"Finish";default:return"Continue"}},p=()=>{switch(t.value){case 1:t.value++;break;case 2:o.project.numberOfDS=="0"?(console.log("persist ds..."),l.persistDataSource(o.selectedDS[0])):(console.log("moving to integrate with project"),t.value++);break;case 3:console.log("case2",t.value),o.integrateTemporal(function(){t.value++});break;case 4:console.log("step 4 save integration"),o.saveIntegration(l.persistDataSource);break}};return(w,_)=>(k(),P(yt,{style:{width:"100%","margin-top":"15px"},modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=g=>t.value=g),ref:"stepper",color:"primary",animated:"",class:"no-padding-stepper"},{navigation:s(()=>[i(ht,{class:""},{default:s(()=>[t.value>1?(k(),P(B,{key:0,flat:"",color:"primary",onClick:_[1]||(_[1]=g=>w.$refs.stepper.previous()),label:(t.value===4,"Back"),class:"q-ml-sm"},null,8,["label"])):H("",!0),i(B,{class:"q-ml-sm",onClick:p,disable:a(),color:"primary",label:u()},null,8,["disable","label"])]),_:1})]),default:s(()=>[i(W,{name:1,title:"Uploaded data sources",icon:"settings",done:t.value>1,style:{"min-height":"70vh"}},{default:s(()=>[q(" Here are the uploaded data sources that have not yet been integrated into the project "),i(Et,{no_shadow:!0})]),_:1},8,["done"]),i(W,{name:2,title:"Preview data source",icon:"settings",done:t.value>1,style:{"min-height":"70vh",height:"1px"},id:"previewSourceStep"},{default:s(()=>[m("div",Ut,[m("div",Gt,[i(Y,{graphical:A(o).getGraphicalB},null,8,["graphical"])])])]),_:1},8,["done"]),A(o).project.numberOfDS!="0"?(k(),P(W,{key:0,name:3,title:"Integrate with project",icon:"create_new_folder",done:t.value>2,style:{"min-height":"70vh"}},{default:s(()=>[i(Lt,{no_shadow:!0})]),_:1},8,["done"])):H("",!0),A(o).project.numberOfDS!="0"?(k(),P(W,{key:1,name:4,title:"Preview integration",icon:"settings",style:{"min-height":"70vh",height:"1px"},id:"previewIntegration"},{default:s(()=>[i(gt,{label:r.value,"false-value":"Schema integrated","true-value":"Global schema",modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=g=>r.value=g)},null,8,["label","modelValue"]),m("div",Rt,[m("div",Kt,[q(" This is a preview of the global schema generated. Note that green elements are integrated resources. If you would like to see the schema integrated, use the toggle to visualize how source schemas are connected. "),i(Y,{graphical:r.value=="Global schema"?A(o).getGlobalSchema:A(o).getGraphicalSchemaIntegration},null,8,["graphical"])])])]),_:1})):H("",!0)]),_:1},8,["modelValue"]))}},ha={__name:"DataSourceIntegration",setup(e){return(l,o)=>(k(),P(Ie,{padding:""},{default:s(()=>[i(Ot)]),_:1}))}};export{ha as default};
