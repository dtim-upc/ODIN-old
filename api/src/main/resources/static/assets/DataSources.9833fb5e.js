import{u as z,a as Q,Q as q}from"./datasources.store.646bd64b.js";import{b as T,a as k,h as M,a9 as I,r as _,ag as N,o as i,c as $,v as a,aE as E,s as t,y as r,B as o,z as m,aF as y,q as u,D as S,C as c,x as H,i as j,A as G}from"./index.5d7be89b.js";import{Q as P}from"./QInput.01023d16.js";import{Q as A}from"./QTooltip.31e5ae82.js";import{a as x}from"./QSelect.508df21f.js";import{Q as h}from"./QTd.7ad87007.js";import{Q as L}from"./QTable.736532bb.js";import{C as W}from"./ClosePopup.bf7361d0.js";import{_ as R}from"./FormNewDataSource.3706d66b.js";import"./use-key-composition.af398085.js";import"./use-dark.92886b2f.js";import"./uid.42677368.js";import"./focus-manager.32f8d49a.js";import"./QMenu.f7733a2a.js";import"./QList.f41b5876.js";import"./use-model-toggle.25e1a265.js";import"./use-prevent-scroll.998da72b.js";import"./format.2a3572e1.js";import"./QSeparator.08b4143d.js";import"./QCard.821d0828.js";import"./QForm.1a5e5d45.js";const U=["top","middle","bottom"];var X=T({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>U.includes(e)}},setup(e,{slots:f}){const p=k(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=k(()=>{const s=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(s!==void 0?` text-${s}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>M("div",{class:n.value,style:p.value,role:"alert","aria-label":e.label},I(f.default,e.label!==void 0?[e.label]:[]))}});const Z={class:"q-pa-md"},O={class:"q-table__title"},J=o("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[o("svg",{width:"160px",height:"88px",viewBox:"0 0 216 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"sc-jIkXHa sc-ZOtfp fXAzWm jPTZgW"},[o("g",{opacity:"0.84","clip-path":"url(#EmptyDocuments_svg__clip0_1142_57509)"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M189.25 19.646a7.583 7.583 0 010 15.166h-43.333a7.583 7.583 0 010 15.167h23.833a7.583 7.583 0 010 15.167h-11.022c-5.28 0-9.561 3.395-9.561 7.583 0 1.956 1.063 3.782 3.19 5.48 2.017 1.608 4.824 1.817 7.064 3.096a7.583 7.583 0 01-3.754 14.174H65.75a7.583 7.583 0 010-15.166H23.5a7.583 7.583 0 110-15.167h43.333a7.583 7.583 0 100-15.167H39.75a7.583 7.583 0 110-15.166h43.333a7.583 7.583 0 010-15.167H189.25zm0 30.333a7.583 7.583 0 110 15.166 7.583 7.583 0 010-15.166z",fill:"#D9D8FF","fill-opacity":"0.8"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M132.561 19.646l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162zM73.162 26.33l4.97-.557-4.97.557z",fill:"#fff"}),o("path",{d:"M73.162 26.33l4.97-.557m54.429-6.127l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162z",stroke:"#7B79FF","stroke-width":"2.5"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M129.818 24.27l9.122 66.608.82 6.682c.264 2.153-1.246 4.11-3.373 4.371l-56.812 6.976c-2.127.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.167 2.167 0 011.887-2.415l7.028-.863",fill:"#F0F0FF"}),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M135.331 5.833H85.978a2.97 2.97 0 00-2.107.873A2.97 2.97 0 0083 8.813v82.333c0 .823.333 1.567.872 2.106a2.97 2.97 0 002.107.873h63.917a2.97 2.97 0 002.106-.873 2.97 2.97 0 00.873-2.106V23.367a2.98 2.98 0 00-.873-2.107L137.437 6.705a2.98 2.98 0 00-2.106-.872z",fill:"#fff",stroke:"#7B79FF","stroke-width":"2.5"}),o("path",{d:"M135.811 7.082v12.564a3.25 3.25 0 003.25 3.25h8.595M94.644 78.146h28.167m-28.167-55.25h28.167-28.167zm0 13h46.584-46.584zm0 14.083h46.584-46.584zm0 14.084h46.584-46.584z",stroke:"#7B79FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),o("defs",null,[o("clipPath",{id:"EmptyDocuments_svg__clip0_1142_57509"},[o("path",{fill:"#fff",d:"M0 0h216v120H0z"})])])]),o("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"Data sources not found."),o("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"To integrate data sources with the project, please add at least two sources.")],-1),K={__name:"TableDataSources",props:{no_shadow:{type:Boolean,default:!1},view:{type:String,default:"datasources"}},setup(e){const f=e,p=_(!1),n=z(),s=Q();N(()=>{n.setProject(),s.init()});const C=[{name:"id",label:"Id",align:"center",field:"id",sortable:!0},{name:"Name",label:"Name",align:"center",field:"name",sortable:!0},{name:"Type",label:"Type",align:"center",field:"type",sortable:!0},{name:"View_triples",label:"View triples",align:"center",field:"View_triples",sortable:!1},{name:"View_Source_Graph",label:"Source Graph",align:"center",field:"View Source Graph",sortable:!1},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],B={integration:["Name","Type"],datasources:["Name","Type","#Wrappers","View_triples","View_Source_Graph","actions"]},F="Data Sources",w=_(""),D=B[f.view],v=_(!1),V=b=>{n.deleteDataSource(b.row)};return(b,d)=>(i(),$("div",Z,[a(L,{grid:p.value,ref:"tableRef",rows:c(n).datasources,columns:C,filter:w.value,class:G({"no-shadow":e.no_shadow}),"row-key":"id","no-data-label":"I didn't find anything for you. Consider creating a new data source.","no-results-label":"The filter didn't uncover any results","visible-columns":c(D)},E({"top-left":t(()=>[o("div",O,[m(y(F)+" "),e.view==="datasources"?(i(),u(r,{key:0,unelevated:"",padding:"none",color:"primary700",icon:"add",onClick:d[0]||(d[0]=l=>v.value=!0)})):S("",!0)])]),"top-right":t(l=>[c(s).isDSEmpty?S("",!0):(i(),u(r,{key:0,outline:"",color:"primary",label:"Finish pending sources",class:"q-mr-xs",to:{name:"dsIntegration"}},{default:t(()=>[a(X,{color:"orange",floating:""},{default:t(()=>[m(y(c(s).datasources.length),1)]),_:1})]),_:1})),a(r,{label:"Integrated schema",dense:"",color:"primary",icon:"download",onClick:c(n).downloadProjectS,style:{"margin-right":"10px"}},null,8,["onClick"]),a(P,{outlined:"",dense:"",debounce:"400",color:"primary",modelValue:w.value,"onUpdate:modelValue":d[1]||(d[1]=g=>w.value=g)},{append:t(()=>[a(H,{name:"search"})]),_:1},8,["modelValue"]),a(r,{flat:"",round:"",dense:"",icon:l.inFullscreen?"fullscreen_exit":"fullscreen",onClick:l.toggleFullscreen},{default:t(()=>[j((i(),u(A,{disable:b.$q.platform.is.mobile},{default:t(()=>[m(y(l.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[W]])]),_:2},1032,["icon","onClick"])]),"body-cell-status":t(l=>[a(h,{props:l},{default:t(()=>[l.row.graphicalGraph===""?(i(),u(x,{key:0,"text-color":"white",color:"accent"},{default:t(()=>[m(" Missing Data Sources ")]),_:1})):(i(),u(x,{key:1,"text-color":"white",color:"blue"},{default:t(()=>[m(" Completed")]),_:1}))]),_:2},1032,["props"])]),"body-cell-View_triples":t(l=>[a(h,{props:l},{default:t(()=>[a(r,{dense:"",round:"",flat:"",color:"grey",icon:"mdi-graphql",to:{name:"viewTriples",params:{datasourceID:l.row.id}}},null,8,["to"])]),_:2},1032,["props"])]),"body-cell-View_Source_Graph":t(l=>[a(h,{props:l},{default:t(()=>[a(r,{dense:"",round:"",flat:"",color:"grey",icon:"download",onClick:g=>c(n).downloadSource(l.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":t(({icon:l,message:g,filter:Y})=>[J]),_:2},[e.view==="datasources"?{name:"body-cell-actions",fn:t(l=>[a(h,{props:l},{default:t(()=>[a(r,{dense:"",round:"",flat:"",color:"grey",onClick:g=>V(l),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["grid","rows","filter","class","visible-columns"]),a(R,{show:v.value,"onUpdate:show":d[2]||(d[2]=l=>v.value=l)},null,8,["show"])]))}},ye={__name:"DataSources",setup(e){return(f,p)=>(i(),u(q,null,{default:t(()=>[a(K)]),_:1}))}};export{ye as default};
