import{u as Y,a as ae,b as Be,Q as Ve}from"./datasources.store.2c9687c1.js";import{Q as De,_ as K}from"./Graph.3008c9a5.js";import{b as j,r as A,a as y,h as b,x as oe,i as N,af as Ie,m as U,N as Qe,O as M,R as $e,S as Fe,M as O,U as J,X as de,I as ee,L as te,w as Ne,T as je,aL as Le,f as D,n as Me,aM as ge,k as ze,aN as he,a1 as Ee,a0 as Ue,j as Re,a4 as Ge,o as C,q as T,s as c,v as i,A as P,y as I,B as v,z as re,aF as V,C as q,g as ie,c as Oe,D as H,aC as We,aE as He,ak as Ke}from"./index.1c9f1618.js";import{g as pe,s as ve}from"./touch.70a9dd44.js";import{f as Xe,e as le,d as ne,Q as Ye}from"./format.31819496.js";import{u as Ze,a as Je,b as et,c as be,Q as _e}from"./QTable.ba073115.js";import{u as ye,a as we}from"./use-dark.1f812307.js";import{Q as tt}from"./QBtnDropdown.85eb7b23.js";import{Q as Se}from"./QTooltip.a1f7ebfe.js";import{C as z,Q as X,b as at}from"./ClosePopup.06890773.js";import{Q as E}from"./QTd.0049a8f0.js";import{u as lt}from"./use-quasar.2adc34b0.js";import{Q as nt}from"./QSpace.49bdd428.js";import{Q as $,i as F,a as ot}from"./QInput.3668a96b.js";import{Q as rt}from"./QSeparator.09e62405.js";import"./QResizeObserver.873c0018.js";import"./scroll.8948f4bf.js";import"./uid.42677368.js";import"./use-prevent-scroll.eb632cfc.js";import"./focus-manager.32f8d49a.js";var xe=j({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:n}}=U(),t=A(null),r=y(()=>e.stepper.modelValue===e.step.name),a=y(()=>{const p=e.step.disable;return p===!0||p===""}),s=y(()=>{const p=e.step.error;return p===!0||p===""}),d=y(()=>{const p=e.step.done;return a.value===!1&&(p===!0||p==="")}),w=y(()=>{const p=e.step.headerNav,S=p===!0||p===""||p===void 0;return a.value===!1&&e.stepper.headerNav&&S}),_=y(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(s.value===!1||e.stepper.errorIcon==="none")&&(d.value===!1||e.stepper.doneIcon==="none")),f=y(()=>{const p=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const S=e.step.activeIcon||e.stepper.activeIcon;return S==="none"?p:S||n.iconSet.stepper.active}if(s.value===!0){const S=e.step.errorIcon||e.stepper.errorIcon;return S==="none"?p:S||n.iconSet.stepper.error}if(a.value===!1&&d.value===!0){const S=e.step.doneIcon||e.stepper.doneIcon;return S==="none"?p:S||n.iconSet.stepper.done}return p}),h=y(()=>{const p=s.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const S=e.step.activeColor||e.stepper.activeColor||e.step.color;return S!==void 0?S:p}return p!==void 0?p:a.value===!1&&d.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),u=y(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(h.value!==void 0?` text-${h.value}`:"")+(s.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(_.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(d.value===!0?" q-stepper__tab--done":"")+(w.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),o=y(()=>e.stepper.headerNav!==!0?!1:w.value);function m(){t.value!==null&&t.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function k(p){p.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const p={class:u.value};w.value===!0&&(p.onClick=m,p.onKeyup=k,Object.assign(p,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const S=[b("div",{class:"q-focus-helper",tabindex:-1,ref:t}),b("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[b("span",{class:"row flex-center"},[_.value===!0?e.step.prefix:b(oe,{name:f.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const Q=[b("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&Q.push(b("div",{class:"q-stepper__caption"},e.step.caption)),S.push(b("div",{class:"q-stepper__label q-stepper__line relative-position"},Q))}return N(b("div",p,S),[[Ie,o.value]])}}});function it(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,t)=>{const r=parseFloat(n);r&&(l[t]=r)}),l}var st=Qe({name:"touch-swipe",beforeMount(e,{value:l,arg:n,modifiers:t}){if(t.mouse!==!0&&M.has.touch!==!0)return;const r=t.mouseCapture===!0?"Capture":"",a={handler:l,sensitivity:it(n),direction:pe(t),noop:$e,mouseStart(s){ve(s,a)&&Fe(s)&&(O(a,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(s,!0))},touchStart(s){if(ve(s,a)){const d=s.target;O(a,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),a.start(s)}},start(s,d){M.is.firefox===!0&&J(e,!0);const w=de(s);a.event={x:w.left,y:w.top,time:Date.now(),mouse:d===!0,dir:!1}},move(s){if(a.event===void 0)return;if(a.event.dir!==!1){ee(s);return}const d=Date.now()-a.event.time;if(d===0)return;const w=de(s),_=w.left-a.event.x,f=Math.abs(_),h=w.top-a.event.y,u=Math.abs(h);if(a.event.mouse!==!0){if(f<a.sensitivity[1]&&u<a.sensitivity[1]){a.end(s);return}}else if(f<a.sensitivity[2]&&u<a.sensitivity[2])return;const o=f/d,m=u/d;a.direction.vertical===!0&&f<u&&f<100&&m>a.sensitivity[0]&&(a.event.dir=h<0?"up":"down"),a.direction.horizontal===!0&&f>u&&u<100&&o>a.sensitivity[0]&&(a.event.dir=_<0?"left":"right"),a.direction.up===!0&&f<u&&h<0&&f<100&&m>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&f<u&&h>0&&f<100&&m>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&f>u&&_<0&&u<100&&o>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&f>u&&_>0&&u<100&&o>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(ee(s),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Xe(),a.styleCleanup=k=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const p=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(p,50):p()}),a.handler({evt:s,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:d,distance:{x:f,y:u}})):a.end(s)},end(s){a.event!==void 0&&(te(a,"temp"),M.is.firefox===!0&&J(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),s!==void 0&&a.event.dir!==!1&&ee(s),a.event=void 0)}};e.__qtouchswipe=a,t.mouse===!0&&O(a,"main",[[e,"mousedown","mouseStart",`passive${r}`]]),M.has.touch===!0&&O(a,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const n=e.__qtouchswipe;n!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&n.end(),n.handler=l.value),n.direction=pe(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(te(l,"main"),te(l,"temp"),M.is.firefox===!0&&J(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});function Ce(){const e=new Map;return{getCache:function(l,n){return e[l]===void 0?e[l]=n:e[l]},getCacheWithFn:function(l,n){return e[l]===void 0?e[l]=n():e[l]}}}const ut={name:{required:!0},disable:Boolean},fe={setup(e,{slots:l}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},D(l.default))}},ct={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},dt=["update:modelValue","before-transition","transition"];function pt(){const{props:e,emit:l,proxy:n}=U(),{getCacheWithFn:t}=Ce();let r,a;const s=A(null),d=A(null);function w(g){const x=e.vertical===!0?"up":"left";L((n.$q.lang.rtl===!0?-1:1)*(g.direction===x?1:-1))}const _=y(()=>[[st,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),f=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),o=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),m=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),k=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Ne(()=>e.modelValue,(g,x)=>{const B=R(g)===!0?Z(g):-1;a!==!0&&se(B===-1?0:B<Z(x)?-1:1),s.value!==B&&(s.value=B,l("before-transition",g,x),Me(()=>{l("transition",g,x)}))});function p(){L(1)}function S(){L(-1)}function Q(g){l("update:modelValue",g)}function R(g){return g!=null&&g!==""}function Z(g){return r.findIndex(x=>x.props.name===g&&x.props.disable!==""&&x.props.disable!==!0)}function qe(){return r.filter(g=>g.props.disable!==""&&g.props.disable!==!0)}function se(g){const x=g!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(g===-1?f.value:h.value):null;d.value!==x&&(d.value=x)}function L(g,x=s.value){let B=x+g;for(;B>-1&&B<r.length;){const G=r[B];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){se(g),a=!0,l("update:modelValue",G.props.name),setTimeout(()=>{a=!1});return}B+=g}e.infinite===!0&&r.length>0&&x!==-1&&x!==r.length&&L(g,g===-1?r.length:-1)}function ue(){const g=Z(e.modelValue);return s.value!==g&&(s.value=g),!0}function ce(){const g=R(e.modelValue)===!0&&ue()&&r[s.value];return e.keepAlive===!0?[b(ge,m.value,[b(k.value===!0?t(o.value,()=>({...fe,name:o.value})):fe,{key:o.value,style:u.value},()=>g)])]:[b("div",{class:"q-panel scroll",style:u.value,key:o.value,role:"tabpanel"},[g])]}function Ae(){if(r.length!==0)return e.animated===!0?[b(je,{name:d.value},ce)]:ce()}function Te(g){return r=Le(D(g.default,[])).filter(x=>x.props!==null&&x.props.slot===void 0&&R(x.props.name)===!0),r.length}function Pe(){return r}return Object.assign(n,{next:p,previous:S,goTo:Q}),{panelIndex:s,panelDirectives:_,updatePanelsList:Te,updatePanelIndex:ue,getPanelContent:Ae,getEnabledPanels:qe,getPanels:Pe,isValidPanelName:R,keepAliveProps:m,needsUniqueKeepAliveWrapper:k,goToPanelByOffset:L,goToPanel:Q,nextPanel:p,previousPanel:S}}function ke(e){return b("div",{class:"q-stepper__step-content"},[b("div",{class:"q-stepper__step-inner"},D(e.default))])}const me={setup(e,{slots:l}){return()=>ke(l)}};var W=j({name:"QStep",props:{...ut,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},setup(e,{attrs:l,slots:n}){const{proxy:{$q:t}}=U(),r=ze(he,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:a}=Ce(),s=A(null),d=y(()=>r.value.modelValue===e.name),w=y(()=>t.platform.is.ios!==!0&&t.platform.is.chrome===!0||d.value!==!0||r.value.vertical!==!0?{}:{onScroll(h){const{target:u}=h;u.scrollTop>0&&(u.scrollTop=0),l.onScroll!==void 0&&l.onScroll(h)}}),_=y(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function f(){const h=r.value.vertical;return h===!0&&r.value.keepAlive===!0?b(ge,r.value.keepAliveProps.value,d.value===!0?[b(r.value.needsUniqueKeepAliveWrapper.value===!0?a(_.value,()=>({...me,name:_.value})):me,{key:_.value},n.default)]:void 0):h!==!0||d.value===!0?ke(n):void 0}return()=>b("div",{ref:s,class:"q-stepper__step",...w.value},r.value.vertical===!0?[b(xe,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?b(De,f):f()]:[f()])}}),vt=j({name:"QToggle",props:{...Ze,icon:String,iconColor:String},emits:Je,setup(e){function l(n,t){const r=y(()=>(n.value===!0?e.checkedIcon:t.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),a=y(()=>n.value===!0?e.iconColor:null);return()=>[b("div",{class:"q-toggle__track"}),b("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[b(oe,{name:r.value,color:a.value})]:void 0)]}return et("toggle",l)}}),ft=j({name:"QStepperNavigation",setup(e,{slots:l}){return()=>b("div",{class:"q-stepper__nav"},D(l.default))}});const mt=/(-\w)/g;function gt(e){const l={};for(const n in e){const t=n.replace(mt,r=>r[1].toUpperCase());l[t]=e[n]}return l}var ht=j({name:"QStepper",props:{...ye,...ct,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:dt,setup(e,{slots:l}){const n=U(),t=we(e,n.proxy.$q),{updatePanelsList:r,isValidPanelName:a,updatePanelIndex:s,getPanelContent:d,getPanels:w,panelDirectives:_,goToPanel:f,keepAliveProps:h,needsUniqueKeepAliveWrapper:u}=pt();Ee(he,y(()=>({goToPanel:f,keepAliveProps:h,needsUniqueKeepAliveWrapper:u,...e})));const o=y(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||t.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||t.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(t.value===!0?" q-stepper--dark q-dark":"")),m=y(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function k(){const p=D(l.message,[]);if(e.vertical===!0){a(e.modelValue)&&s();const S=b("div",{class:"q-stepper__content"},D(l.default));return p===void 0?[S]:p.concat(S)}return[b("div",{class:m.value},w().map(S=>{const Q=gt(S.props);return b(xe,{key:Q.name,stepper:e,step:Q,goToPanel:f})})),p,Re("div",{class:"q-stepper__content q-panel-parent"},d(),"cont",e.swipeable,()=>_.value)]}return()=>(r(l),b("div",{class:o.value},Ue(l.navigation,k())))}}),bt=j({name:"QBanner",props:{...ye,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:n}}=U(),t=we(e,n),r=y(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(t.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),a=y(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const s=[b("div",{class:"q-banner__avatar col-auto row items-center self-start"},D(l.avatar)),b("div",{class:"q-banner__content col text-body2"},D(l.default))],d=D(l.action);return d!==void 0&&s.push(b("div",{class:a.value},d)),b("div",{class:r.value+(e.inlineActions===!1&&d!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}});const _t={class:"row q-pb-none"},yt={class:"row bg-primary justify-center text-white q-pa-xs"},wt={class:"row",style:{"min-height":"50vh",border:"1px #e4eaec","border-style":"solid"}},St={class:"col"},xt={class:"q-pt-md"},Ct={class:"q-gutter-md"},kt={class:"row bg-primary justify-center text-white q-pa-xs"},qt={class:"row",style:{"min-height":"50vh"}},At={class:"col"},Tt={class:"q-pt-md"},Pt={class:"q-gutter-md"},Bt={class:"col-3"},Vt={class:"col-3"},Dt={__name:"ManualAlignmentsForm",props:{dsA:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},dsB:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},show_dialog:{type:Boolean,default:!1}},emits:["close-dialog","add-alignment"],setup(e,{emit:l}){const n=Y(),t=Ge({type:"",trueType:"",shortType:"",integratedLabel:"",resourceA:{name:"",label:"",iri:""},resourceB:{name:"",label:"",iri:""}}),r=A(!1);A(!1),A(!0);const a=A(!1),s=()=>{l("close-dialog"),d(),w()},d=()=>{t.resourceA.name="",t.resourceA.label="",t.resourceA.iri="",t.resourceB.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},w=()=>{t.resourceB.name="",t.resourceB.label="",t.resourceB.iri="",t.resourceA.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},_=()=>{n.addAligment(t,!0),d(),w()},f=u=>{u.event=="unfocused"?d():(t.type==""||t.type==u.type)&&(t.resourceA.label=u.label,t.resourceA.iri=u.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=u.type,t.shortType=u.shortType,t.trueType=u.trueType)},h=u=>{u.event=="unfocused"?w():(t.type==""||t.type==u.type)&&(t.resourceB.label=u.label,t.resourceB.iri=u.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=u.type,t.shortType=u.shortType,t.trueType=u.trueType)};return(u,o)=>(C(),T(ot,{flat:"",bordered:""},{default:c(()=>[i(ne,{class:"q-py-none"},{default:c(()=>[i(le,null,{default:c(()=>[i(ae,{class:"dark_title"},{default:c(()=>[P("Select alignments 2")]),_:1})]),_:1}),i($,{class:"row items-center q-pb-none q-pt-none"},{default:c(()=>[i(nt),N(i(I,{icon:"close",flat:"",round:"",dense:"",onClick:s,class:"dark_title"},null,512),[[z]])]),_:1})]),_:1}),i(rt),i($,{class:"row no-padding"},{default:c(()=>[i($,{class:"col-12 no-padding"},{default:c(()=>[v("div",_t,[i(bt,{dense:"","inline-actions":"",class:re(["text-white bg-red col-12",{hidden:!r.value}])},{default:c(()=>[P(" Incompatible types. Please select another element with the same type. ")]),_:1},8,["class"]),i($,{class:"col"},{default:c(()=>[v("div",yt," Project: "+V(q(n).project.name),1),v("div",wt,[v("div",St,[i(K,{graphical:q(n).getGraphicalA,alignment:t,enableClickR:!0,onElementClick:f},null,8,["graphical","alignment"])])]),v("div",xt,[v("div",Ct,[i(F,{outlined:"",modelValue:t.type,"onUpdate:modelValue":o[0]||(o[0]=m=>t.type=m),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(F,{outlined:"",modelValue:t.resourceA.label,"onUpdate:modelValue":o[1]||(o[1]=m=>t.resourceA.label=m),prefix:"Label: ",disable:"",dense:""},null,8,["modelValue"])])])]),_:1}),i($,{class:"col q-pl-none"},{default:c(()=>[v("div",kt," DataSource: "+V(q(n).getSourceB.name),1),v("div",qt,[v("div",At,[i(K,{graphical:q(n).getGraphicalB,alignment:t,enableClickR:!0,onElementClick:h},null,8,["graphical","alignment"])])]),v("div",Tt,[v("div",Pt,[i(F,{outlined:"",modelValue:t.type,"onUpdate:modelValue":o[2]||(o[2]=m=>t.type=m),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(F,{outlined:"",modelValue:t.resourceB.label,"onUpdate:modelValue":o[3]||(o[3]=m=>t.resourceB.label=m),prefix:"Label:",disable:"",dense:""},null,8,["modelValue"])])])]),_:1})]),i($,{class:"row justify-between q-pt-none"},{default:c(()=>[v("div",Bt,[i(F,{outlined:"",modelValue:t.integratedLabel,"onUpdate:modelValue":o[4]||(o[4]=m=>t.integratedLabel=m),prefix:"Integrated label: ",dense:""},null,8,["modelValue"]),i(be,{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=m=>a.value=m),label:"Make it identifier",color:"teal"},null,8,["modelValue"])]),v("div",Vt,[i(I,{outline:"",color:"primary",label:"Add alignment",onClick:_,disable:t.integratedLabel==""},null,8,["disable"]),i(I,{outline:"",color:"primary",label:"Close",onClick:s})])]),_:1})]),_:1})]),_:1})]),_:1}))}},It={class:"q-table__title"},Qt=v("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[v("img",{src:"/assets/icons/AlignmentTable.svg",alt:"No alignments added",style:{width:"320px",height:"176px"}}),v("p",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"No alignments added")],-1),$t={__name:"TableAligments",props:{no_shadow:{type:Boolean,default:!1},alignments:{type:Array,default:[]}},emits:["update:alignments"],setup(e,{emit:l}){const n=Y(),t=lt();ie(()=>{n.init()});const r=[{name:"uriA",label:"Resource A",align:"center",field:"iriA",sortable:!0},{name:"uriB",label:"Resource B",align:"center",field:"iriB",sortable:!0},{name:"labelA",label:"Label A",align:"center",field:"labelA",sortable:!0},{name:"labelB",label:"Label B",align:"center",field:"labelB",sortable:!0},{name:"label",label:"Integrated name",align:"center",field:"l",sortable:!0},{name:"type",label:"Type",align:"center",field:"type",sortable:!0},{name:"shortType",label:"ShortType",align:"center",field:"shortType",sortable:!0},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],a=A(["labelA","labelB","label","type","actions"]),s=A(!1),d=A("manual"),w="Alignments",_=h=>{n.deleteAligment(h)},f=h=>{d.value=h,s.value=!0};return(h,u)=>(C(),Oe(We,null,[i(_e,{rows:q(n).alignments,columns:r,class:re({"no-shadow":e.no_shadow}),"visible-columns":a.value,"row-key":"uriA","no-data-label":"Consider adding some alignments to start the integration process","no-results-label":"The filter didn't uncover any results"},{"top-left":c(()=>[v("div",It,[v("span",null,V(w)),i(tt,{color:"primary","dropdown-icon":"add","no-icon-animation":"",padding:"none","menu-anchor":"top right","menu-self":"top left"},{default:c(()=>[i(Ye,null,{default:c(()=>[N((C(),T(ne,{clickable:"",onClick:u[0]||(u[0]=o=>f("manual"))},{default:c(()=>[i(le,null,{default:c(()=>[i(ae,null,{default:c(()=>[P("Manual alignment")]),_:1})]),_:1})]),_:1})),[[z]]),N((C(),T(ne,{clickable:"",onClick:f},{default:c(()=>[i(le,null,{default:c(()=>[i(ae,null,{default:c(()=>[P("Automatic survey")]),_:1})]),_:1})]),_:1})),[[z]])]),_:1})]),_:1})])]),"top-right":c(o=>[i(I,{flat:"",round:"",dense:"",icon:o.inFullscreen?"fullscreen_exit":"fullscreen",onClick:o.toggleFullscreen},{default:c(()=>[N((C(),T(Se,{disable:q(t).platform.is.mobile},{default:c(()=>[P(V(o.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[z]])]),_:2},1032,["icon","onClick"])]),"body-cell-type":c(o=>[i(E,{props:o},{default:c(()=>[i(X,null,{default:c(()=>[P(V(o.row.type),1)]),_:2},1024),P(" \u2013 "),i(X,null,{default:c(()=>[P(V(o.row.type),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-actions":c(o=>[i(E,{props:o},{default:c(()=>[i(I,{dense:"",round:"",flat:"",color:"grey",onClick:m=>_(o),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-identifier":c(o=>[i(E,{props:o},{default:c(()=>[P(" hola"+V(o.row.identifier)+" ",1),i(be,{modelValue:o.row.identifier,"onUpdate:modelValue":m=>o.row.identifier=m,color:"teal"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"no-data":c(({icon:o,message:m,filter:k})=>[Qt]),_:1},8,["rows","class","visible-columns"]),i(at,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=o=>s.value=o),"full-height":"","full-width":""},{default:c(()=>[d.value=="manual"?(C(),T(Dt,{key:0,onCloseDialog:u[1]||(u[1]=o=>s.value=!s.value)})):H("",!0)]),_:1},8,["modelValue"])],64))}},Ft=v("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[v("svg",{width:"160px",height:"88px",viewBox:"0 0 216 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"sc-jIkXHa sc-ZOtfp fXAzWm jPTZgW"},[v("g",{opacity:"0.84","clip-path":"url(#EmptyDocuments_svg__clip0_1142_57509)"},[v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M189.25 19.646a7.583 7.583 0 010 15.166h-43.333a7.583 7.583 0 010 15.167h23.833a7.583 7.583 0 010 15.167h-11.022c-5.28 0-9.561 3.395-9.561 7.583 0 1.956 1.063 3.782 3.19 5.48 2.017 1.608 4.824 1.817 7.064 3.096a7.583 7.583 0 01-3.754 14.174H65.75a7.583 7.583 0 010-15.166H23.5a7.583 7.583 0 110-15.167h43.333a7.583 7.583 0 100-15.167H39.75a7.583 7.583 0 110-15.166h43.333a7.583 7.583 0 010-15.167H189.25zm0 30.333a7.583 7.583 0 110 15.166 7.583 7.583 0 010-15.166z",fill:"#D9D8FF","fill-opacity":"0.8"}),v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M132.561 19.646l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162zM73.162 26.33l4.97-.557-4.97.557z",fill:"#fff"}),v("path",{d:"M73.162 26.33l4.97-.557m54.429-6.127l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162z",stroke:"#7B79FF","stroke-width":"2.5"}),v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M129.818 24.27l9.122 66.608.82 6.682c.264 2.153-1.246 4.11-3.373 4.371l-56.812 6.976c-2.127.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.167 2.167 0 011.887-2.415l7.028-.863",fill:"#F0F0FF"}),v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M135.331 5.833H85.978a2.97 2.97 0 00-2.107.873A2.97 2.97 0 0083 8.813v82.333c0 .823.333 1.567.872 2.106a2.97 2.97 0 002.107.873h63.917a2.97 2.97 0 002.106-.873 2.97 2.97 0 00.873-2.106V23.367a2.98 2.98 0 00-.873-2.107L137.437 6.705a2.98 2.98 0 00-2.106-.872z",fill:"#fff",stroke:"#7B79FF","stroke-width":"2.5"}),v("path",{d:"M135.811 7.082v12.564a3.25 3.25 0 003.25 3.25h8.595M94.644 78.146h28.167m-28.167-55.25h28.167-28.167zm0 13h46.584-46.584zm0 14.083h46.584-46.584zm0 14.084h46.584-46.584z",stroke:"#7B79FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),v("defs",null,[v("clipPath",{id:"EmptyDocuments_svg__clip0_1142_57509"},[v("path",{fill:"#fff",d:"M0 0h216v120H0z"})])])]),v("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"Data sources not found."),v("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"To integrate data sources with the project, please add at least two sources.")],-1),Nt={__name:"TableTemporalDataSources",props:{no_shadow:{type:Boolean,default:!1},view:{type:String,default:"datasources"},selected:{type:String,default:""}},setup(e){const l=e;l.selected!=""&&console.log("complete code!!!");const n=Ke(),t=Y();ie(()=>{t.setProject()});const r=[{name:"id",label:"Id",align:"center",field:"id",sortable:!0},{name:"Name",label:"Name",align:"center",field:"name",sortable:!0},{name:"Type",label:"Type",align:"center",field:"type",sortable:!0},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],a={integration:["Name","Type"],datasources:["Name","Type","#Wrappers","View Metadata","View_Source_Graph","actions"]},s="Pending Data Sources",d=A(""),w=a[l.view],_=({rows:h,added:u,evt:o})=>{let m=1;if(console.log("validateSelection...",m),h.length===0){console.log("not added");return}else if(t.selectedDS.length>=m&&u)n.negative("You can only select "+m+" datasources for integration");else if(h.length===1){const k=h[0];console.log("selected is "),console.log(k),u?t.addSelectedDatasource(k):t.deleteSelectedDatasource(k)}},f=h=>{t.deleteTemporalDS(h)};return(h,u)=>(C(),T(_e,{ref:"tableRef",rows:q(t).datasources,columns:r,filter:d.value,selection:"multiple",class:re({"no-shadow":e.no_shadow}),selected:q(t).selectedDS,onSelection:_,"row-key":"id","no-data-label":"I didn't find anything for you. Consider creating a new data source.","no-results-label":"The filter didn't uncover any results","visible-columns":q(w)},He({"top-left":c(()=>[v("div",{class:"q-table__title"},V(s))]),"top-right":c(o=>[i(F,{outlined:"",dense:"",debounce:"400",color:"primary",modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=m=>d.value=m)},{append:c(()=>[i(oe,{name:"search"})]),_:1},8,["modelValue"]),i(I,{flat:"",round:"",dense:"",icon:o.inFullscreen?"fullscreen_exit":"fullscreen",onClick:o.toggleFullscreen},{default:c(()=>[N((C(),T(Se,{disable:h.$q.platform.is.mobile},{default:c(()=>[P(V(o.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[z]])]),_:2},1032,["icon","onClick"])]),"body-cell-status":c(o=>[i(E,{props:o},{default:c(()=>[o.row.graphicalGraph===""?(C(),T(X,{key:0,"text-color":"white",color:"accent"},{default:c(()=>[P(" Missing Data Sources ")]),_:1})):(C(),T(X,{key:1,"text-color":"white",color:"blue"},{default:c(()=>[P(" Completed")]),_:1}))]),_:2},1032,["props"])]),"no-data":c(({icon:o,message:m,filter:k})=>[Ft]),_:2},[e.view==="datasources"?{name:"body-cell-actions",fn:c(o=>[i(E,{props:o},{default:c(()=>[i(I,{dense:"",round:"",flat:"",color:"grey",onClick:m=>f(o.row),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["rows","filter","class","selected","visible-columns"]))}};const jt={class:"column items-center",style:{height:"100%"}},Lt={class:"col-8",style:{height:"100%","min-width":"75vw"}},Mt={class:"row",style:{height:"92%"}},zt={class:"col-12"},Et={__name:"DataSourceIntegrationStep",setup(e){const l=Be(),n=Y();ie(()=>{l.setProject(),n.setProject()});const t=A(1);n.selectedDS.length>0&&(t.value=2);const r=A("Global schema"),a=()=>{switch(console.log("step val: ",t.value),t.value){case 1:return console.log("return true"),n.selectedDS.length!=1;case 2:break;case 3:return n.alignments.length==0;default:return!1}},s=()=>{switch(t.value){case 2:return n.project.numberOfDS<"1"?"Finish":"Continue";case 3:return"Integrate";case 4:return"Finish";default:return"Continue"}},d=()=>{switch(t.value){case 1:t.value++;break;case 2:n.project.numberOfDS=="0"?(console.log("persist ds..."),l.persistDataSource(n.selectedDS[0])):(console.log("moving to integrate with project"),t.value++);break;case 3:console.log("case2",t.value),n.integrateTemporal(function(){t.value++});break;case 4:console.log("step 4 save integration"),n.saveIntegration(l.persistDataSource);break}};return(w,_)=>(C(),T(ht,{style:{width:"100%","margin-top":"15px"},modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=f=>t.value=f),ref:"stepper",color:"primary",animated:"",class:"no-padding-stepper"},{navigation:c(()=>[i(ft,{class:""},{default:c(()=>[i(I,{onClick:d,disable:a(),color:"primary",label:s()},null,8,["disable","label"]),t.value>1?(C(),T(I,{key:0,flat:"",color:"primary",onClick:_[1]||(_[1]=f=>w.$refs.stepper.previous()),label:t.value===4?"Delete":"Back",class:"q-ml-sm"},null,8,["label"])):H("",!0)]),_:1})]),default:c(()=>[i(W,{name:1,title:"Uploaded data sources",icon:"settings",done:t.value>1,style:{"min-height":"70vh"}},{default:c(()=>[P(" Here are the uploaded data sources that have not yet been integrated into the project "),i(Nt,{no_shadow:!0})]),_:1},8,["done"]),i(W,{name:2,title:"Preview data source",icon:"settings",done:t.value>1,style:{"min-height":"70vh",height:"1px"},id:"previewSourceStep"},{default:c(()=>[v("div",jt,[v("div",Lt,[i(K,{graphical:q(n).getGraphicalB},null,8,["graphical"])])])]),_:1},8,["done"]),q(n).project.numberOfDS!="0"?(C(),T(W,{key:0,name:3,title:"Integrate with project",icon:"create_new_folder",done:t.value>2,style:{"min-height":"70vh"}},{default:c(()=>[i($t,{no_shadow:!0})]),_:1},8,["done"])):H("",!0),q(n).project.numberOfDS!="0"?(C(),T(W,{key:1,name:4,title:"Preview integration",icon:"settings",style:{"min-height":"70vh",height:"1px"},id:"previewIntegration"},{default:c(()=>[i(vt,{label:r.value,"false-value":"Schema integrated","true-value":"Global schema",modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=f=>r.value=f)},null,8,["label","modelValue"]),v("div",Mt,[v("div",zt,[i(K,{graphical:r.value=="Global schema"?q(n).getGlobalSchema:q(n).getGraphicalSchemaIntegration},null,8,["graphical"])])])]),_:1})):H("",!0)]),_:1},8,["modelValue"]))}},ua={__name:"DataSourceIntegration",setup(e){return(l,n)=>(C(),T(Ve,{padding:""},{default:c(()=>[i(Et)]),_:1}))}};export{ua as default};
