import{b as z,u as M,Q}from"./datasources.store.2c9687c1.js";import{b as q,a as k,h as E,a0 as G,r as _,av as N,o as r,c as I,v as o,aE as $,s as t,y as s,B as l,A as m,aF as y,q as n,D as h,C as p,x as H,i as A,z as j}from"./index.1c9f1618.js";import{i as P}from"./QInput.3668a96b.js";import{Q as R}from"./QTooltip.a1f7ebfe.js";import{C as L,Q as x}from"./ClosePopup.06890773.js";import{Q as S}from"./QTd.0049a8f0.js";import{Q as W}from"./QTable.ba073115.js";import{_ as U}from"./FormNewDataSource.1f54ba2b.js";import"./use-dark.1f812307.js";import"./uid.42677368.js";import"./focus-manager.32f8d49a.js";import"./use-prevent-scroll.eb632cfc.js";import"./format.31819496.js";import"./scroll.8948f4bf.js";import"./QSeparator.09e62405.js";import"./QForm.66a341cf.js";const X=["top","middle","bottom"];var Z=q({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>X.includes(e)}},setup(e,{slots:f}){const g=k(()=>e.align!==void 0?{verticalAlign:e.align}:null),u=k(()=>{const d=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(d!==void 0?` text-${d}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>E("div",{class:u.value,style:g.value,role:"alert","aria-label":e.label},G(f.default,e.label!==void 0?[e.label]:[]))}});const O={class:"q-pa-md"},J={class:"q-table__title"},K=l("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[l("svg",{width:"160px",height:"88px",viewBox:"0 0 216 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"sc-jIkXHa sc-ZOtfp fXAzWm jPTZgW"},[l("g",{opacity:"0.84","clip-path":"url(#EmptyDocuments_svg__clip0_1142_57509)"},[l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M189.25 19.646a7.583 7.583 0 010 15.166h-43.333a7.583 7.583 0 010 15.167h23.833a7.583 7.583 0 010 15.167h-11.022c-5.28 0-9.561 3.395-9.561 7.583 0 1.956 1.063 3.782 3.19 5.48 2.017 1.608 4.824 1.817 7.064 3.096a7.583 7.583 0 01-3.754 14.174H65.75a7.583 7.583 0 010-15.166H23.5a7.583 7.583 0 110-15.167h43.333a7.583 7.583 0 100-15.167H39.75a7.583 7.583 0 110-15.166h43.333a7.583 7.583 0 010-15.167H189.25zm0 30.333a7.583 7.583 0 110 15.166 7.583 7.583 0 010-15.166z",fill:"#D9D8FF","fill-opacity":"0.8"}),l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M132.561 19.646l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162zM73.162 26.33l4.97-.557-4.97.557z",fill:"#fff"}),l("path",{d:"M73.162 26.33l4.97-.557m54.429-6.127l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162z",stroke:"#7B79FF","stroke-width":"2.5"}),l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M129.818 24.27l9.122 66.608.82 6.682c.264 2.153-1.246 4.11-3.373 4.371l-56.812 6.976c-2.127.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.167 2.167 0 011.887-2.415l7.028-.863",fill:"#F0F0FF"}),l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M135.331 5.833H85.978a2.97 2.97 0 00-2.107.873A2.97 2.97 0 0083 8.813v82.333c0 .823.333 1.567.872 2.106a2.97 2.97 0 002.107.873h63.917a2.97 2.97 0 002.106-.873 2.97 2.97 0 00.873-2.106V23.367a2.98 2.98 0 00-.873-2.107L137.437 6.705a2.98 2.98 0 00-2.106-.872z",fill:"#fff",stroke:"#7B79FF","stroke-width":"2.5"}),l("path",{d:"M135.811 7.082v12.564a3.25 3.25 0 003.25 3.25h8.595M94.644 78.146h28.167m-28.167-55.25h28.167-28.167zm0 13h46.584-46.584zm0 14.083h46.584-46.584zm0 14.084h46.584-46.584z",stroke:"#7B79FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),l("defs",null,[l("clipPath",{id:"EmptyDocuments_svg__clip0_1142_57509"},[l("path",{fill:"#fff",d:"M0 0h216v120H0z"})])])]),l("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"Data sources not found."),l("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"To integrate data sources with the project, please add at least two sources.")],-1),Y={__name:"TableDataSources",props:{no_shadow:{type:Boolean,default:!1},view:{type:String,default:"datasources"}},setup(e){const f=e,g=_(!1),u=z(),d=M();N(()=>{u.setProject(),d.init()});const B=[{name:"id",label:"Id",align:"center",field:"id",sortable:!0},{name:"Name",label:"Name",align:"center",field:"name",sortable:!0},{name:"Type",label:"Type",align:"center",field:"type",sortable:!0},{name:"View Metadata",label:"View Metadata",align:"center",field:"View Metadata",sortable:!1},{name:"View_Source_Graph",label:"View Source Graph",align:"center",field:"View Source Graph",sortable:!1},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],C={integration:["Name","Type"],datasources:["Name","Type","#Wrappers","View Metadata","View_Source_Graph","actions"]},D="Data Sources",w=_(""),F=C[f.view],v=_(!1),V=i=>{if(i){if(i.graphicalGraph)return!0;if(i.row.graphicalGraph)return!0}return!1},T=i=>{u.deleteDataSource(i.row)};return(i,c)=>(r(),I("div",O,[o(W,{grid:g.value,ref:"tableRef",rows:p(u).datasources,columns:B,filter:w.value,class:j({"no-shadow":e.no_shadow}),"row-key":"id","no-data-label":"I didn't find anything for you. Consider creating a new data source.","no-results-label":"The filter didn't uncover any results","visible-columns":p(F)},$({"top-left":t(()=>[l("div",J,[m(y(D)+" "),e.view==="datasources"?(r(),n(s,{key:0,unelevated:"",padding:"none",color:"primary700",icon:"add",onClick:c[0]||(c[0]=a=>v.value=!0)})):h("",!0)])]),"top-right":t(a=>[p(d).isDSEmpty?h("",!0):(r(),n(s,{key:0,outline:"",color:"primary",label:"Finish pending sources",class:"q-mr-xs",to:{name:"dsIntegration"}},{default:t(()=>[o(Z,{color:"orange",floating:""},{default:t(()=>[m(y(p(d).datasources.length),1)]),_:1})]),_:1})),o(P,{outlined:"",dense:"",debounce:"400",color:"primary",modelValue:w.value,"onUpdate:modelValue":c[1]||(c[1]=b=>w.value=b)},{append:t(()=>[o(H,{name:"search"})]),_:1},8,["modelValue"]),o(s,{flat:"",round:"",dense:"",icon:a.inFullscreen?"fullscreen_exit":"fullscreen",onClick:a.toggleFullscreen},{default:t(()=>[A((r(),n(R,{disable:i.$q.platform.is.mobile},{default:t(()=>[m(y(a.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[L]])]),_:2},1032,["icon","onClick"])]),"body-cell-status":t(a=>[o(S,{props:a},{default:t(()=>[a.row.graphicalGraph===""?(r(),n(x,{key:0,"text-color":"white",color:"accent"},{default:t(()=>[m(" Missing Data Sources ")]),_:1})):(r(),n(x,{key:1,"text-color":"white",color:"blue"},{default:t(()=>[m(" Completed")]),_:1}))]),_:2},1032,["props"])]),"body-cell-View_Source_Graph":t(a=>[o(S,{props:a},{default:t(()=>[o(s,{dense:"",round:"",flat:"",color:"grey",to:"/dataSources/webvowl/"+a.row.id,icon:"remove_red_eye",disable:!V(a)},null,8,["to","disable"]),a.row.type=="INTEGRATED"?(r(),n(s,{key:0,dense:"",round:"",flat:"",color:"grey",to:{name:"webvowl",params:{id:a.row.id,minimalI:!0}},icon:"mdi-vector-circle-variant"},null,8,["to"])):h("",!0),a.row.type=="INTEGRATED"?(r(),n(s,{key:1,dense:"",round:"",flat:"",color:"grey",to:{name:"webvowl",params:{id:a.row.id,integrated:!0}},icon:"mdi-shape-circle-plus"},null,8,["to"])):h("",!0)]),_:2},1032,["props"])]),"no-data":t(({icon:a,message:b,filter:ee})=>[K]),_:2},[e.view==="datasources"?{name:"body-cell-actions",fn:t(a=>[o(S,{props:a},{default:t(()=>[o(s,{dense:"",round:"",flat:"",color:"grey",onClick:b=>T(a),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["grid","rows","filter","class","visible-columns"]),o(U,{show:v.value,"onUpdate:show":c[2]||(c[2]=a=>v.value=a)},null,8,["show"])]))}},we={__name:"DataSources",setup(e){return(f,g)=>(r(),n(Q,null,{default:t(()=>[o(Y)]),_:1}))}};export{we as default};
