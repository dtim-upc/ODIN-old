import{a as Z,b as le,u as Ve,Q as Ie}from"./datasources.store.9808ef93.js";import{Q as De}from"./QSlideTransition.7a7f0646.js";import{b as L,r as T,a as y,h as b,x as U,i as j,ai as $e,m as G,a1 as Qe,X as z,a2 as Fe,a3 as Ne,M as O,a4 as ee,Y as pe,I as te,L as ae,w as je,T as Le,aL as Me,f as D,n as ze,aM as he,k as Ee,aN as be,aa as Ue,a9 as Ge,j as Re,ad as Ke,o as k,q as P,s,v as i,A as q,y as B,B as f,z as ie,ah as V,C as A,g as se,c as ne,aO as Oe,aP as We,D as H,aB as _e,aF as He,an as Xe}from"./index.1dc04fa4.js";import{g as ve,s as me}from"./touch.70a9dd44.js";import{c as Ye,a as oe,Q as Ze}from"./format.47a278a4.js";import{u as Je,a as et,b as tt,c as at,Q as ye}from"./QTable.569fc909.js";import{u as we,a as Se}from"./use-dark.de9a0581.js";import{Q as re}from"./use-model-toggle.3d79aca0.js";import{Q as lt}from"./QBtnDropdown.08322dfe.js";import{Q as Ce}from"./QTooltip.ed3efd61.js";import{Q as X,b as nt}from"./QSelect.c81869a2.js";import{Q as F}from"./QTd.c065f0de.js";import{a as Q}from"./QForm.2920b7e6.js";import{C as E}from"./ClosePopup.421ca59b.js";import{u as ot}from"./use-quasar.62a15c0a.js";import{Q as rt}from"./QSpace.b853161e.js";import{Q as N,a as it}from"./QCard.8b1340ac.js";import{Q as st}from"./QSeparator.db748d79.js";import{_ as Y}from"./Graph.bb4fcfec.js";import{_ as ut}from"./FormNewDataSource.c448a5f6.js";import"./scroll.a88fb3a5.js";import"./use-key-composition.87cdc301.js";import"./uid.42677368.js";import"./focus-manager.32f8d49a.js";import"./use-prevent-scroll.ca3d1e41.js";import"./QResizeObserver.1445b353.js";var xe=L({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:n}}=G(),t=T(null),o=y(()=>e.stepper.modelValue===e.step.name),a=y(()=>{const d=e.step.disable;return d===!0||d===""}),u=y(()=>{const d=e.step.error;return d===!0||d===""}),v=y(()=>{const d=e.step.done;return a.value===!1&&(d===!0||d==="")}),w=y(()=>{const d=e.step.headerNav,C=d===!0||d===""||d===void 0;return a.value===!1&&e.stepper.headerNav&&C}),_=y(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(u.value===!1||e.stepper.errorIcon==="none")&&(v.value===!1||e.stepper.doneIcon==="none")),g=y(()=>{const d=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const C=e.step.activeIcon||e.stepper.activeIcon;return C==="none"?d:C||n.iconSet.stepper.active}if(u.value===!0){const C=e.step.errorIcon||e.stepper.errorIcon;return C==="none"?d:C||n.iconSet.stepper.error}if(a.value===!1&&v.value===!0){const C=e.step.doneIcon||e.stepper.doneIcon;return C==="none"?d:C||n.iconSet.stepper.done}return d}),m=y(()=>{const d=u.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const C=e.step.activeColor||e.stepper.activeColor||e.step.color;return C!==void 0?C:d}return d!==void 0?d:a.value===!1&&v.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),c=y(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(m.value!==void 0?` text-${m.value}`:"")+(u.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(_.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(v.value===!0?" q-stepper__tab--done":"")+(w.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),p=y(()=>e.stepper.headerNav!==!0?!1:w.value);function r(){t.value!==null&&t.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function S(d){d.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const d={class:c.value};w.value===!0&&(d.onClick=r,d.onKeyup=S,Object.assign(d,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const C=[b("div",{class:"q-focus-helper",tabindex:-1,ref:t}),b("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[b("span",{class:"row flex-center"},[_.value===!0?e.step.prefix:b(U,{name:g.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const $=[b("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&$.push(b("div",{class:"q-stepper__caption"},e.step.caption)),C.push(b("div",{class:"q-stepper__label q-stepper__line relative-position"},$))}return j(b("div",d,C),[[$e,p.value]])}}});function ct(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,t)=>{const o=parseFloat(n);o&&(l[t]=o)}),l}var dt=Qe({name:"touch-swipe",beforeMount(e,{value:l,arg:n,modifiers:t}){if(t.mouse!==!0&&z.has.touch!==!0)return;const o=t.mouseCapture===!0?"Capture":"",a={handler:l,sensitivity:ct(n),direction:ve(t),noop:Fe,mouseStart(u){me(u,a)&&Ne(u)&&(O(a,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(u,!0))},touchStart(u){if(me(u,a)){const v=u.target;O(a,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),a.start(u)}},start(u,v){z.is.firefox===!0&&ee(e,!0);const w=pe(u);a.event={x:w.left,y:w.top,time:Date.now(),mouse:v===!0,dir:!1}},move(u){if(a.event===void 0)return;if(a.event.dir!==!1){te(u);return}const v=Date.now()-a.event.time;if(v===0)return;const w=pe(u),_=w.left-a.event.x,g=Math.abs(_),m=w.top-a.event.y,c=Math.abs(m);if(a.event.mouse!==!0){if(g<a.sensitivity[1]&&c<a.sensitivity[1]){a.end(u);return}}else if(g<a.sensitivity[2]&&c<a.sensitivity[2])return;const p=g/v,r=c/v;a.direction.vertical===!0&&g<c&&g<100&&r>a.sensitivity[0]&&(a.event.dir=m<0?"up":"down"),a.direction.horizontal===!0&&g>c&&c<100&&p>a.sensitivity[0]&&(a.event.dir=_<0?"left":"right"),a.direction.up===!0&&g<c&&m<0&&g<100&&r>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&g<c&&m>0&&g<100&&r>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&g>c&&_<0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&g>c&&_>0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(te(u),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),a.styleCleanup=S=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const d=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(d,50):d()}),a.handler({evt:u,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:v,distance:{x:g,y:c}})):a.end(u)},end(u){a.event!==void 0&&(ae(a,"temp"),z.is.firefox===!0&&ee(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),u!==void 0&&a.event.dir!==!1&&te(u),a.event=void 0)}};e.__qtouchswipe=a,t.mouse===!0&&O(a,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),z.has.touch===!0&&O(a,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const n=e.__qtouchswipe;n!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&n.end(),n.handler=l.value),n.direction=ve(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(ae(l,"main"),ae(l,"temp"),z.is.firefox===!0&&ee(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});function ke(){const e=new Map;return{getCache:function(l,n){return e[l]===void 0?e[l]=n:e[l]},getCacheWithFn:function(l,n){return e[l]===void 0?e[l]=n():e[l]}}}const pt={name:{required:!0},disable:Boolean},fe={setup(e,{slots:l}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},D(l.default))}},vt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mt=["update:modelValue","before-transition","transition"];function ft(){const{props:e,emit:l,proxy:n}=G(),{getCacheWithFn:t}=ke();let o,a;const u=T(null),v=T(null);function w(h){const x=e.vertical===!0?"up":"left";M((n.$q.lang.rtl===!0?-1:1)*(h.direction===x?1:-1))}const _=y(()=>[[dt,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),r=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),S=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);je(()=>e.modelValue,(h,x)=>{const I=R(h)===!0?J(h):-1;a!==!0&&ue(I===-1?0:I<J(x)?-1:1),u.value!==I&&(u.value=I,l("before-transition",h,x),ze(()=>{l("transition",h,x)}))});function d(){M(1)}function C(){M(-1)}function $(h){l("update:modelValue",h)}function R(h){return h!=null&&h!==""}function J(h){return o.findIndex(x=>x.props.name===h&&x.props.disable!==""&&x.props.disable!==!0)}function Ae(){return o.filter(h=>h.props.disable!==""&&h.props.disable!==!0)}function ue(h){const x=h!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(h===-1?g.value:m.value):null;v.value!==x&&(v.value=x)}function M(h,x=u.value){let I=x+h;for(;I>-1&&I<o.length;){const K=o[I];if(K!==void 0&&K.props.disable!==""&&K.props.disable!==!0){ue(h),a=!0,l("update:modelValue",K.props.name),setTimeout(()=>{a=!1});return}I+=h}e.infinite===!0&&o.length>0&&x!==-1&&x!==o.length&&M(h,h===-1?o.length:-1)}function ce(){const h=J(e.modelValue);return u.value!==h&&(u.value=h),!0}function de(){const h=R(e.modelValue)===!0&&ce()&&o[u.value];return e.keepAlive===!0?[b(he,r.value,[b(S.value===!0?t(p.value,()=>({...fe,name:p.value})):fe,{key:p.value,style:c.value},()=>h)])]:[b("div",{class:"q-panel scroll",style:c.value,key:p.value,role:"tabpanel"},[h])]}function Te(){if(o.length!==0)return e.animated===!0?[b(Le,{name:v.value},de)]:de()}function Pe(h){return o=Me(D(h.default,[])).filter(x=>x.props!==null&&x.props.slot===void 0&&R(x.props.name)===!0),o.length}function Be(){return o}return Object.assign(n,{next:d,previous:C,goTo:$}),{panelIndex:u,panelDirectives:_,updatePanelsList:Pe,updatePanelIndex:ce,getPanelContent:Te,getEnabledPanels:Ae,getPanels:Be,isValidPanelName:R,keepAliveProps:r,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:M,goToPanel:$,nextPanel:d,previousPanel:C}}function qe(e){return b("div",{class:"q-stepper__step-content"},[b("div",{class:"q-stepper__step-inner"},D(e.default))])}const ge={setup(e,{slots:l}){return()=>qe(l)}};var W=L({name:"QStep",props:{...pt,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},setup(e,{attrs:l,slots:n}){const{proxy:{$q:t}}=G(),o=Ee(be,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:a}=ke(),u=T(null),v=y(()=>o.value.modelValue===e.name),w=y(()=>t.platform.is.ios!==!0&&t.platform.is.chrome===!0||v.value!==!0||o.value.vertical!==!0?{}:{onScroll(m){const{target:c}=m;c.scrollTop>0&&(c.scrollTop=0),l.onScroll!==void 0&&l.onScroll(m)}}),_=y(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function g(){const m=o.value.vertical;return m===!0&&o.value.keepAlive===!0?b(he,o.value.keepAliveProps.value,v.value===!0?[b(o.value.needsUniqueKeepAliveWrapper.value===!0?a(_.value,()=>({...ge,name:_.value})):ge,{key:_.value},n.default)]:void 0):m!==!0||v.value===!0?qe(n):void 0}return()=>b("div",{ref:u,class:"q-stepper__step",...w.value},o.value.vertical===!0?[b(xe,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?b(De,g):g()]:[g()])}}),gt=L({name:"QToggle",props:{...Je,icon:String,iconColor:String},emits:et,setup(e){function l(n,t){const o=y(()=>(n.value===!0?e.checkedIcon:t.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),a=y(()=>n.value===!0?e.iconColor:null);return()=>[b("div",{class:"q-toggle__track"}),b("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},o.value!==void 0?[b(U,{name:o.value,color:a.value})]:void 0)]}return tt("toggle",l)}}),ht=L({name:"QStepperNavigation",setup(e,{slots:l}){return()=>b("div",{class:"q-stepper__nav"},D(l.default))}});const bt=/(-\w)/g;function _t(e){const l={};for(const n in e){const t=n.replace(bt,o=>o[1].toUpperCase());l[t]=e[n]}return l}var yt=L({name:"QStepper",props:{...we,...vt,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:mt,setup(e,{slots:l}){const n=G(),t=Se(e,n.proxy.$q),{updatePanelsList:o,isValidPanelName:a,updatePanelIndex:u,getPanelContent:v,getPanels:w,panelDirectives:_,goToPanel:g,keepAliveProps:m,needsUniqueKeepAliveWrapper:c}=ft();Ue(be,y(()=>({goToPanel:g,keepAliveProps:m,needsUniqueKeepAliveWrapper:c,...e})));const p=y(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||t.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||t.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(t.value===!0?" q-stepper--dark q-dark":"")),r=y(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function S(){const d=D(l.message,[]);if(e.vertical===!0){a(e.modelValue)&&u();const C=b("div",{class:"q-stepper__content"},D(l.default));return d===void 0?[C]:d.concat(C)}return[b("div",{class:r.value},w().map(C=>{const $=_t(C.props);return b(xe,{key:$.name,stepper:e,step:$,goToPanel:g})})),d,Re("div",{class:"q-stepper__content q-panel-parent"},v(),"cont",e.swipeable,()=>_.value)]}return()=>(o(l),b("div",{class:p.value},Ge(l.navigation,S())))}}),wt=L({name:"QBanner",props:{...we,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:n}}=G(),t=Se(e,n),o=y(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(t.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),a=y(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const u=[b("div",{class:"q-banner__avatar col-auto row items-center self-start"},D(l.avatar)),b("div",{class:"q-banner__content col text-body2"},D(l.default))],v=D(l.action);return v!==void 0&&u.push(b("div",{class:a.value},v)),b("div",{class:o.value+(e.inlineActions===!1&&v!==void 0?" q-banner--top-padding":""),role:"alert"},u)}}});const St={class:"row q-pb-none"},Ct={class:"row bg-primary justify-center text-white q-pa-xs"},xt={class:"row",style:{"min-height":"50vh",border:"1px #e4eaec","border-style":"solid"}},kt={class:"col"},qt={class:"q-pt-md"},At={class:"q-gutter-md"},Tt={class:"row bg-primary justify-center text-white q-pa-xs"},Pt={class:"row",style:{"min-height":"50vh"}},Bt={class:"col"},Vt={class:"q-pt-md"},It={class:"q-gutter-md"},Dt={class:"col-6"},$t={class:"col-3"},Qt={__name:"ManualAlignmentsForm",props:{dsA:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},dsB:{type:Object,default:{id:"",name:"",type:"",graphicalGraph:"",iri:"",path:""}},show_dialog:{type:Boolean,default:!1}},emits:["close-dialog","add-alignment"],setup(e,{emit:l}){const n=Z(),t=Ke({type:"",trueType:"",shortType:"",integratedLabel:"",resourceA:{name:"",label:"",iri:""},resourceB:{name:"",label:"",iri:""}}),o=T(!1);T(!1),T(!0),T(!1);const a=()=>{l("close-dialog"),u(),v()},u=()=>{t.resourceA.name="",t.resourceA.label="",t.resourceA.iri="",t.resourceB.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},v=()=>{t.resourceB.name="",t.resourceB.label="",t.resourceB.iri="",t.resourceA.iri==""&&(t.type="",t.trueType="",t.shortType="",t.integratedLabel="")},w=()=>{n.addAligment(t,!0),u(),v()},_=m=>{m.event=="unfocused"?u():(t.type==""||t.type==m.type)&&(t.resourceA.label=m.label,t.resourceA.iri=m.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=m.type,t.shortType=m.shortType,t.trueType=m.trueType)},g=m=>{m.event=="unfocused"?v():(t.type==""||t.type==m.type)&&(t.resourceB.label=m.label,t.resourceB.iri=m.iri,t.type!=""&&(t.integratedLabel=t.resourceA.label+"_"+t.resourceB.label),t.type=m.type,t.shortType=m.shortType,t.trueType=m.trueType)};return(m,c)=>(k(),P(it,{flat:"",bordered:""},{default:s(()=>[i(re,{class:"q-py-none"},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,{class:"dark_title"},{default:s(()=>[q("Select alignments")]),_:1})]),_:1}),i(N,{class:"row items-center q-pb-none q-pt-none"},{default:s(()=>[i(rt),j(i(B,{icon:"close",flat:"",round:"",dense:"",onClick:a,class:"dark_title"},null,512),[[E]])]),_:1})]),_:1}),i(st),i(N,{class:"row no-padding"},{default:s(()=>[i(N,{class:"col-12 no-padding"},{default:s(()=>[f("div",St,[i(wt,{dense:"","inline-actions":"",class:ie(["text-white bg-red col-12",{hidden:!o.value}])},{default:s(()=>[q(" Incompatible types. Please select another element with the same type. ")]),_:1},8,["class"]),i(N,{class:"col"},{default:s(()=>[f("div",Ct," Project: "+V(A(n).project.name),1),f("div",xt,[f("div",kt,[i(Y,{graphical:A(n).getGraphicalA,alignment:t,enableClickR:!0,onElementClick:_},null,8,["graphical","alignment"])])]),f("div",qt,[f("div",At,[i(Q,{outlined:"",modelValue:t.type,"onUpdate:modelValue":c[0]||(c[0]=p=>t.type=p),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(Q,{outlined:"",modelValue:t.resourceA.label,"onUpdate:modelValue":c[1]||(c[1]=p=>t.resourceA.label=p),prefix:"Label: ",disable:"",dense:""},null,8,["modelValue"])])])]),_:1}),i(N,{class:"col q-pl-none"},{default:s(()=>[f("div",Tt," DataSource: "+V(A(n).getSourceB.name),1),f("div",Pt,[f("div",Bt,[i(Y,{graphical:A(n).getGraphicalB,alignment:t,enableClickR:!0,onElementClick:g},null,8,["graphical","alignment"])])]),f("div",Vt,[f("div",It,[i(Q,{outlined:"",modelValue:t.type,"onUpdate:modelValue":c[2]||(c[2]=p=>t.type=p),prefix:"Type: ",disable:"",dense:""},null,8,["modelValue"]),i(Q,{outlined:"",modelValue:t.resourceB.label,"onUpdate:modelValue":c[3]||(c[3]=p=>t.resourceB.label=p),prefix:"Label:",disable:"",dense:""},null,8,["modelValue"])])])]),_:1})]),i(N,{class:"row justify-between q-pt-none"},{default:s(()=>[f("div",Dt,[i(Q,{outlined:"",modelValue:t.integratedLabel,"onUpdate:modelValue":c[4]||(c[4]=p=>t.integratedLabel=p),prefix:"Integrated label: ",dense:""},null,8,["modelValue"])]),f("div",$t,[i(B,{outline:"",color:"primary",label:"Close",onClick:a}),i(B,{class:"q-ml-sm",color:"primary",label:"Add alignment",onClick:w,disable:t.integratedLabel==""},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1}))}};const Ft={class:"q-table__title"},Nt={key:0},jt=f("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[f("img",{src:"/assets/icons/AlignmentTable.svg",alt:"No alignments added",style:{width:"320px",height:"176px"}}),f("p",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"No alignments added")],-1),Lt={__name:"TableAligments",props:{no_shadow:{type:Boolean,default:!1},alignments:{type:Array,default:[]}},emits:["update:alignments"],setup(e,{emit:l}){const n=Z(),t=ot();se(()=>{n.init()});const o=[{name:"uriA",label:"Resource A",align:"center",field:"iriA",sortable:!0},{name:"uriB",label:"Resource B",align:"center",field:"iriB",sortable:!0},{name:"labelA",label:"Label A",align:"center",field:"labelA",sortable:!0},{name:"labelB",label:"Label B",align:"center",field:"labelB",sortable:!0},{name:"labelIntegrated",label:"Integrated name",align:"center",field:"l",sortable:!0},{name:"type",label:"Type",align:"center",field:"type",sortable:!0},{name:"shortType",label:"ShortType",align:"center",field:"shortType",sortable:!0},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],a=T(["labelA","labelB","labelIntegrated","type","actions"]),u=T(!1),v=T("manual"),w=T({rowsPerPage:0}),_="Alignments",g=c=>{n.deleteAligment(c)},m=c=>{v.value=c,u.value=!0};return(c,p)=>(k(),ne(_e,null,[i(ye,{rows:A(n).alignments,columns:o,class:ie({"no-shadow":e.no_shadow}),"visible-columns":a.value,id:"TableAlignments","row-key":"uriA","virtual-scroll":"","rows-per-page-options":[0],style:{height:"60vh"},pagination:w.value,"onUpdate:pagination":p[2]||(p[2]=r=>w.value=r),"no-data-label":"Consider adding some alignments to start the integration process","no-results-label":"The filter didn't uncover any results"},{"top-left":s(()=>[f("div",Ft,[f("span",null,V(_)),i(lt,{color:"primary","dropdown-icon":"add","no-icon-animation":"",padding:"none","menu-anchor":"top right","menu-self":"top left"},{default:s(()=>[i(Ze,null,{default:s(()=>[j((k(),P(re,{clickable:"",onClick:p[0]||(p[0]=r=>m("manual"))},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,null,{default:s(()=>[q("Manual alignment")]),_:1})]),_:1})]),_:1})),[[E]]),j((k(),P(re,{clickable:"",onClick:p[1]||(p[1]=r=>A(n).getAlignmentsSurvey())},{default:s(()=>[i(oe,null,{default:s(()=>[i(le,null,{default:s(()=>[q("Automatic survey")]),_:1})]),_:1})]),_:1})),[[E]])]),_:1})]),_:1})])]),"top-right":s(r=>[i(B,{flat:"",round:"",dense:"",icon:r.inFullscreen?"fullscreen_exit":"fullscreen",onClick:r.toggleFullscreen},{default:s(()=>[j((k(),P(Ce,{disable:A(t).platform.is.mobile},{default:s(()=>[q(V(r.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[E]])]),_:2},1032,["icon","onClick"])]),"body-cell-type":s(r=>[i(F,{props:r},{default:s(()=>[i(X,null,{default:s(()=>[q(V(r.row.type),1)]),_:2},1024),q(" \u2013 "),i(X,null,{default:s(()=>[q(V(r.row.type),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-labelIntegrated":s(r=>[i(F,{props:r},{default:s(()=>[f("div",null,[r.row.edit==null||!r.row.edit?(k(),ne("span",Nt,[q(V(r.row.l)+" ",1),i(U,{onClick:S=>r.row.edit=!0,size:"xs",name:"edit"},null,8,["onClick"])])):(k(),P(Q,{key:1,outlined:"",modelValue:r.row.l,"onUpdate:modelValue":S=>r.row.l=S,dense:"",onKeyup:We(S=>{r.row.edit=!1},["enter"])},{append:s(()=>[i(U,{name:"o_task_alt",onClick:Oe(S=>r.row.edit=!1,["stop","prevent"]),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup"]))])]),_:2},1032,["props"])]),"body-cell-actions":s(r=>[i(F,{props:r},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",onClick:S=>g(r.row),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-identifier":s(r=>[i(F,{props:r},{default:s(()=>[q(" hola"+V(r.row.identifier)+" ",1),i(at,{modelValue:r.row.identifier,"onUpdate:modelValue":S=>r.row.identifier=S,color:"teal"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"no-data":s(({icon:r,message:S,filter:d})=>[jt]),_:1},8,["rows","class","visible-columns","pagination"]),i(nt,{modelValue:u.value,"onUpdate:modelValue":p[4]||(p[4]=r=>u.value=r),"full-height":"","full-width":""},{default:s(()=>[v.value=="manual"?(k(),P(Qt,{key:0,onCloseDialog:p[3]||(p[3]=r=>u.value=!u.value)})):H("",!0)]),_:1},8,["modelValue"])],64))}},Mt={class:"q-table__title"},zt=f("div",{class:"full-width row flex-center text-accent q-gutter-sm q-pa-xl",style:{"flex-direction":"column"}},[f("svg",{width:"160px",height:"88px",viewBox:"0 0 216 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"sc-jIkXHa sc-ZOtfp fXAzWm jPTZgW"},[f("g",{opacity:"0.84","clip-path":"url(#EmptyDocuments_svg__clip0_1142_57509)"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M189.25 19.646a7.583 7.583 0 010 15.166h-43.333a7.583 7.583 0 010 15.167h23.833a7.583 7.583 0 010 15.167h-11.022c-5.28 0-9.561 3.395-9.561 7.583 0 1.956 1.063 3.782 3.19 5.48 2.017 1.608 4.824 1.817 7.064 3.096a7.583 7.583 0 01-3.754 14.174H65.75a7.583 7.583 0 010-15.166H23.5a7.583 7.583 0 110-15.167h43.333a7.583 7.583 0 100-15.167H39.75a7.583 7.583 0 110-15.166h43.333a7.583 7.583 0 010-15.167H189.25zm0 30.333a7.583 7.583 0 110 15.166 7.583 7.583 0 010-15.166z",fill:"#D9D8FF","fill-opacity":"0.8"}),f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M132.561 19.646l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162zM73.162 26.33l4.97-.557-4.97.557z",fill:"#fff"}),f("path",{d:"M73.162 26.33l4.97-.557m54.429-6.127l10.077 73.496.906 7.374a4.334 4.334 0 01-3.773 4.829l-63.44 7.789a4.333 4.333 0 01-4.83-3.772l-9.767-79.547a2.166 2.166 0 011.91-2.417l5.262-.59 63.655-7.162z",stroke:"#7B79FF","stroke-width":"2.5"}),f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M129.818 24.27l9.122 66.608.82 6.682c.264 2.153-1.246 4.11-3.373 4.371l-56.812 6.976c-2.127.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.167 2.167 0 011.887-2.415l7.028-.863",fill:"#F0F0FF"}),f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M135.331 5.833H85.978a2.97 2.97 0 00-2.107.873A2.97 2.97 0 0083 8.813v82.333c0 .823.333 1.567.872 2.106a2.97 2.97 0 002.107.873h63.917a2.97 2.97 0 002.106-.873 2.97 2.97 0 00.873-2.106V23.367a2.98 2.98 0 00-.873-2.107L137.437 6.705a2.98 2.98 0 00-2.106-.872z",fill:"#fff",stroke:"#7B79FF","stroke-width":"2.5"}),f("path",{d:"M135.811 7.082v12.564a3.25 3.25 0 003.25 3.25h8.595M94.644 78.146h28.167m-28.167-55.25h28.167-28.167zm0 13h46.584-46.584zm0 14.083h46.584-46.584zm0 14.084h46.584-46.584z",stroke:"#7B79FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),f("defs",null,[f("clipPath",{id:"EmptyDocuments_svg__clip0_1142_57509"},[f("path",{fill:"#fff",d:"M0 0h216v120H0z"})])])]),f("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"Data sources not found."),f("span",{style:{color:"rgb(102, 102, 135)","font-weight":"500","font-size":"1rem","line-height":"1.25"}},"To integrate data sources with the project, please add at least two sources.")],-1),Et={__name:"TableTemporalDataSources",props:{no_shadow:{type:Boolean,default:!1},view:{type:String,default:"datasources"},selected:{type:String,default:""}},setup(e){const l=e,n=T(!1);l.selected!=""&&console.log("complete code!!!");const t=Xe(),o=Z();se(()=>{o.setProject()});const a=[{name:"id",label:"Id",align:"center",field:"id",sortable:!0},{name:"Name",label:"Name",align:"center",field:"name",sortable:!0},{name:"Type",label:"Type",align:"center",field:"type",sortable:!0},{name:"View_Source_Graph",label:"Source Graph",align:"center",field:"View Source Graph",sortable:!1},{name:"actions",label:"actions",align:"center",field:"actions",sortable:!1}],u={integration:["Name","Type"],datasources:["Name","Type","#Wrappers","View Metadata","View_Source_Graph","actions"]},v="Landing Data Sources",w=T(""),_=u[l.view],g=({rows:c,added:p,evt:r})=>{let S=1;if(console.log("validateSelection...",S),c.length===0){console.log("not added");return}else if(o.selectedDS.length>=S&&p)t.negative("You can only select "+S+" datasources for integration");else if(c.length===1){const d=c[0];console.log("selected is "),console.log(d),p?o.addSelectedDatasource(d):o.deleteSelectedDatasource(d)}},m=c=>{o.deleteTemporalDS(c)};return(c,p)=>(k(),ne(_e,null,[i(ye,{ref:"tableRef",rows:A(o).datasources,columns:a,filter:w.value,selection:"multiple",class:ie({"no-shadow":e.no_shadow}),selected:A(o).selectedDS,onSelection:g,"row-key":"id","no-data-label":"I didn't find anything for you. Consider creating a new data source.","no-results-label":"The filter didn't uncover any results","visible-columns":A(_)},He({"top-left":s(()=>[f("div",Mt,[q(V(v)+" "),i(B,{unelevated:"",padding:"none",color:"primary700",icon:"add",onClick:p[0]||(p[0]=r=>n.value=!0)})])]),"top-right":s(r=>[i(Q,{outlined:"",dense:"",debounce:"400",color:"primary",modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=S=>w.value=S)},{append:s(()=>[i(U,{name:"search"})]),_:1},8,["modelValue"]),i(B,{flat:"",round:"",dense:"",icon:r.inFullscreen?"fullscreen_exit":"fullscreen",onClick:r.toggleFullscreen},{default:s(()=>[j((k(),P(Ce,{disable:c.$q.platform.is.mobile},{default:s(()=>[q(V(r.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[E]])]),_:2},1032,["icon","onClick"])]),"body-cell-status":s(r=>[i(F,{props:r},{default:s(()=>[r.row.graphicalGraph===""?(k(),P(X,{key:0,"text-color":"white",color:"accent"},{default:s(()=>[q(" Missing Data Sources ")]),_:1})):(k(),P(X,{key:1,"text-color":"white",color:"blue"},{default:s(()=>[q(" Completed")]),_:1}))]),_:2},1032,["props"])]),"body-cell-View_Source_Graph":s(r=>[i(F,{props:r},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",icon:"download",onClick:S=>A(o).downloadSourceTemporal(r.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":s(({icon:r,message:S,filter:d})=>[zt]),_:2},[e.view==="datasources"?{name:"body-cell-actions",fn:s(r=>[i(F,{props:r},{default:s(()=>[i(B,{dense:"",round:"",flat:"",color:"grey",onClick:S=>m(r.row),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["rows","filter","class","selected","visible-columns"]),i(ut,{show:n.value,"onUpdate:show":p[2]||(p[2]=r=>n.value=r)},null,8,["show"])],64))}};const Ut={class:"column items-center",style:{height:"100%"}},Gt={class:"col-8",style:{height:"100%","min-width":"75vw"}},Rt={class:"row",style:{height:"92%"}},Kt={class:"col-12"},Ot={__name:"DataSourceIntegrationStep",setup(e){const l=Ve(),n=Z();se(()=>{l.setProject(),n.setProject()});const t=T(1);n.selectedDS.length>0&&(t.value=2);const o=T("Global schema"),a=()=>{switch(console.log("step val: ",t.value),t.value){case 1:return console.log("return true"),n.selectedDS.length!=1;case 2:break;case 3:return n.alignments.length==0;default:return!1}},u=()=>{switch(t.value){case 2:return n.project.numberOfDS<"1"?"Finish":"Continue";case 3:return"Integrate";case 4:return"Finish";default:return"Continue"}},v=()=>{switch(t.value){case 1:t.value++;break;case 2:n.project.numberOfDS=="0"?(console.log("persist ds..."),l.persistDataSource(n.selectedDS[0])):(console.log("moving to integrate with project"),t.value++);break;case 3:console.log("case2",t.value),n.integrateTemporal(function(){t.value++});break;case 4:console.log("step 4 save integration"),n.saveIntegration(l.persistDataSource);break}};return(w,_)=>(k(),P(yt,{style:{width:"100%","margin-top":"15px"},modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=g=>t.value=g),ref:"stepper",color:"primary",animated:"",class:"no-padding-stepper"},{navigation:s(()=>[i(ht,{class:""},{default:s(()=>[t.value>1?(k(),P(B,{key:0,flat:"",color:"primary",onClick:_[1]||(_[1]=g=>w.$refs.stepper.previous()),label:(t.value===4,"Back"),class:"q-ml-sm"},null,8,["label"])):H("",!0),i(B,{class:"q-ml-sm",onClick:v,disable:a(),color:"primary",label:u()},null,8,["disable","label"])]),_:1})]),default:s(()=>[i(W,{name:1,title:"Uploaded data sources",icon:"settings",done:t.value>1,style:{"min-height":"70vh"}},{default:s(()=>[q(" Here are the uploaded data sources that have not yet been integrated into the project "),i(Et,{no_shadow:!0})]),_:1},8,["done"]),i(W,{name:2,title:"Preview data source",icon:"settings",done:t.value>1,style:{"min-height":"70vh",height:"1px"},id:"previewSourceStep"},{default:s(()=>[f("div",Ut,[f("div",Gt,[i(Y,{graphical:A(n).getGraphicalB},null,8,["graphical"])])])]),_:1},8,["done"]),A(n).project.numberOfDS!="0"?(k(),P(W,{key:0,name:3,title:"Integrate with project",icon:"create_new_folder",done:t.value>2,style:{"min-height":"70vh"}},{default:s(()=>[i(Lt,{no_shadow:!0})]),_:1},8,["done"])):H("",!0),A(n).project.numberOfDS!="0"?(k(),P(W,{key:1,name:4,title:"Preview integration",icon:"settings",style:{"min-height":"70vh",height:"1px"},id:"previewIntegration"},{default:s(()=>[f("div",Rt,[f("div",Kt,[q(" This is a preview of the global schema generated. Note that green elements are integrated resources. If you would like to see the schema integrated, use the toggle to visualize how source schemas are connected. "),i(gt,{label:o.value,"false-value":"Schema integrated","true-value":"Global schema",modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=g=>o.value=g)},null,8,["label","modelValue"]),i(Y,{graphical:o.value=="Global schema"?A(n).getGlobalSchema:A(n).getGraphicalSchemaIntegration},null,8,["graphical"])])])]),_:1})):H("",!0)]),_:1},8,["modelValue"]))}},ya={__name:"DataSourceIntegration",setup(e){return(l,n)=>(k(),P(Ie,{padding:""},{default:s(()=>[i(Ot)]),_:1}))}};export{ya as default};
